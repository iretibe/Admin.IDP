2020-08-05 20:50:50.690 +01:00 [INF] Starting host...
2020-08-05 20:50:58.876 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-08-05 20:50:58.940 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-08-05 20:50:58.941 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-08-05 20:50:58.942 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-08-05 20:50:58.943 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-08-05 20:50:58.943 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-08-05 20:50:58.943 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-08-05 20:50:59.376 +01:00 [INF] Now listening on: https://localhost:5001
2020-08-05 20:50:59.376 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-05 20:50:59.377 +01:00 [INF] Hosting environment: Development
2020-08-05 20:50:59.378 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-08-05 20:51:10.982 +01:00 [DBG] Login Url: /Account/Login
2020-08-05 20:51:10.989 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-08-05 20:51:10.991 +01:00 [DBG] Logout Url: /Account/Logout
2020-08-05 20:51:10.995 +01:00 [DBG] ConsentUrl Url: /consent
2020-08-05 20:51:10.998 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-08-05 20:51:10.999 +01:00 [DBG] Error Url: /home/error
2020-08-05 20:51:11.002 +01:00 [DBG] Error Id Parameter: errorId
2020-08-05 21:12:57.365 +01:00 [INF] Application is shutting down...
2020-08-19 18:12:49.425 +01:00 [FTL] Host terminated unexpectedly.
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.AuthorizeEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.AuthorizeEndpoint': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.EndSessionCallbackEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.EndSessionCallbackEndpoint': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.EndSessionEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.EndSessionEndpoint': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.IntrospectionEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.IntrospectionEndpoint': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.TokenEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.TokenEndpoint': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.UserInfoEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.UserInfoEndpoint': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.ITokenService Lifetime: Transient ImplementationType: IdentityServer4.Services.DefaultTokenService': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.IClaimsService Lifetime: Transient ImplementationType: IdentityServer4.Services.DefaultClaimsService': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.IRefreshTokenService Lifetime: Transient ImplementationType: IdentityServer4.Services.DefaultRefreshTokenService': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IEndSessionRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.EndSessionRequestValidator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.ITokenRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.TokenRequestValidator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.ITokenValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.TokenValidator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IIntrospectionRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.IntrospectionRequestValidator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IUserInfoRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.UserInfoRequestValidator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IDeviceCodeValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.DeviceCodeValidator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.ITokenResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.TokenResponseGenerator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.IUserInfoResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.UserInfoResponseGenerator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.IAuthorizeInteractionResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.IAuthorizeResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.AuthorizeResponseGenerator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.IProfileService Lifetime: Scoped ImplementationType: Admin.IDP.ProfileService': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.DefaultServiceProviderFactory.CreateServiceProvider(IServiceCollection containerBuilder)
   at Microsoft.Extensions.Hosting.Internal.ServiceFactoryAdapter`1.CreateServiceProvider(Object containerBuilder)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at Admin.IDP.Program.Main(String[] args) in C:\IMPORTANT\AdminService\Admin.IDP\Program.cs:line 50
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.AuthorizeEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.AuthorizeEndpoint': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.EndSessionCallbackEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.EndSessionCallbackEndpoint': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #3) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.EndSessionEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.EndSessionEndpoint': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #4) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.IntrospectionEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.IntrospectionEndpoint': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #5) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.TokenEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.TokenEndpoint': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #6) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.UserInfoEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.UserInfoEndpoint': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #7) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.ITokenService Lifetime: Transient ImplementationType: IdentityServer4.Services.DefaultTokenService': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #8) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.IClaimsService Lifetime: Transient ImplementationType: IdentityServer4.Services.DefaultClaimsService': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #9) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.IRefreshTokenService Lifetime: Transient ImplementationType: IdentityServer4.Services.DefaultRefreshTokenService': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #10) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IEndSessionRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.EndSessionRequestValidator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #11) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.ITokenRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.TokenRequestValidator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #12) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.ITokenValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.TokenValidator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #13) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IIntrospectionRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.IntrospectionRequestValidator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #14) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IUserInfoRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.UserInfoRequestValidator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #15) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IDeviceCodeValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.DeviceCodeValidator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #16) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.ITokenResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.TokenResponseGenerator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #17) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.IUserInfoResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.UserInfoResponseGenerator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #18) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.IAuthorizeInteractionResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #19) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.IAuthorizeResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.AuthorizeResponseGenerator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #20) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.IProfileService Lifetime: Scoped ImplementationType: Admin.IDP.ProfileService': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

2020-08-19 19:16:26.620 +01:00 [FTL] Host terminated unexpectedly.
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.AuthorizeEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.AuthorizeEndpoint': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.EndSessionCallbackEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.EndSessionCallbackEndpoint': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.EndSessionEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.EndSessionEndpoint': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.IntrospectionEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.IntrospectionEndpoint': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.TokenEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.TokenEndpoint': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.UserInfoEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.UserInfoEndpoint': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.ITokenService Lifetime: Transient ImplementationType: IdentityServer4.Services.DefaultTokenService': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.IClaimsService Lifetime: Transient ImplementationType: IdentityServer4.Services.DefaultClaimsService': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.IRefreshTokenService Lifetime: Transient ImplementationType: IdentityServer4.Services.DefaultRefreshTokenService': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IEndSessionRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.EndSessionRequestValidator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.ITokenRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.TokenRequestValidator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.ITokenValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.TokenValidator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IIntrospectionRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.IntrospectionRequestValidator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IUserInfoRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.UserInfoRequestValidator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IDeviceCodeValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.DeviceCodeValidator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.ITokenResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.TokenResponseGenerator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.IUserInfoResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.UserInfoResponseGenerator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.IAuthorizeInteractionResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.IAuthorizeResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.AuthorizeResponseGenerator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.IProfileService Lifetime: Scoped ImplementationType: Admin.IDP.ProfileService': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: Admin.IDP.Services.ICompanyService Lifetime: Scoped ImplementationType: Admin.IDP.Services.CompanyService': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.Services.CompanyService'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.DefaultServiceProviderFactory.CreateServiceProvider(IServiceCollection containerBuilder)
   at Microsoft.Extensions.Hosting.Internal.ServiceFactoryAdapter`1.CreateServiceProvider(Object containerBuilder)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at Admin.IDP.Program.Main(String[] args) in C:\IMPORTANT\AdminService\Admin.IDP\Program.cs:line 50
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.AuthorizeEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.AuthorizeEndpoint': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.EndSessionCallbackEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.EndSessionCallbackEndpoint': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #3) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.EndSessionEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.EndSessionEndpoint': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #4) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.IntrospectionEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.IntrospectionEndpoint': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #5) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.TokenEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.TokenEndpoint': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #6) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.UserInfoEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.UserInfoEndpoint': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #7) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.ITokenService Lifetime: Transient ImplementationType: IdentityServer4.Services.DefaultTokenService': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #8) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.IClaimsService Lifetime: Transient ImplementationType: IdentityServer4.Services.DefaultClaimsService': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #9) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.IRefreshTokenService Lifetime: Transient ImplementationType: IdentityServer4.Services.DefaultRefreshTokenService': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #10) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IEndSessionRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.EndSessionRequestValidator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #11) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.ITokenRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.TokenRequestValidator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #12) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.ITokenValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.TokenValidator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #13) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IIntrospectionRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.IntrospectionRequestValidator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #14) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IUserInfoRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.UserInfoRequestValidator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #15) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IDeviceCodeValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.DeviceCodeValidator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #16) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.ITokenResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.TokenResponseGenerator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #17) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.IUserInfoResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.UserInfoResponseGenerator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #18) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.IAuthorizeInteractionResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #19) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.IAuthorizeResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.AuthorizeResponseGenerator': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #20) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.IProfileService Lifetime: Scoped ImplementationType: Admin.IDP.ProfileService': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #21) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Admin.IDP.Services.ICompanyService Lifetime: Scoped ImplementationType: Admin.IDP.Services.CompanyService': Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.Services.CompanyService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Entity.PersoltaxadmindbContext' while attempting to activate 'Admin.IDP.Services.CompanyService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

2020-08-19 19:22:41.911 +01:00 [INF] Starting host...
2020-08-19 19:22:47.001 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-08-19 19:22:47.072 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-08-19 19:22:47.072 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-08-19 19:22:47.073 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-08-19 19:22:47.073 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-08-19 19:22:47.073 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-08-19 19:22:47.073 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-08-19 19:22:48.350 +01:00 [INF] Now listening on: https://localhost:5001
2020-08-19 19:22:48.352 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-19 19:22:48.377 +01:00 [INF] Hosting environment: Development
2020-08-19 19:22:48.382 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-08-19 19:23:13.168 +01:00 [DBG] Login Url: /Account/Login
2020-08-19 19:23:13.170 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-08-19 19:23:13.173 +01:00 [DBG] Logout Url: /Account/Logout
2020-08-19 19:23:13.174 +01:00 [DBG] ConsentUrl Url: /consent
2020-08-19 19:23:13.174 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-08-19 19:23:13.175 +01:00 [DBG] Error Url: /home/error
2020-08-19 19:23:13.175 +01:00 [DBG] Error Id Parameter: errorId
2020-08-19 19:23:34.121 +01:00 [INF] Application is shutting down...
2020-08-26 22:20:44.819 +01:00 [INF] Starting host...
2020-08-26 22:20:48.348 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-08-26 22:20:48.363 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-08-26 22:20:48.363 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-08-26 22:20:48.364 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-08-26 22:20:48.364 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-08-26 22:20:48.365 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-08-26 22:20:48.365 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-08-26 22:20:48.697 +01:00 [INF] Now listening on: https://localhost:5001
2020-08-26 22:20:48.698 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-26 22:20:48.698 +01:00 [INF] Hosting environment: Development
2020-08-26 22:20:48.699 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-08-26 22:20:56.458 +01:00 [DBG] Login Url: /Account/Login
2020-08-26 22:20:56.459 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-08-26 22:20:56.463 +01:00 [DBG] Logout Url: /Account/Logout
2020-08-26 22:20:56.464 +01:00 [DBG] ConsentUrl Url: /consent
2020-08-26 22:20:56.465 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-08-26 22:20:56.465 +01:00 [DBG] Error Url: /home/error
2020-08-26 22:20:56.466 +01:00 [DBG] Error Id Parameter: errorId
2020-08-26 22:46:33.076 +01:00 [INF] Starting host...
2020-08-26 22:46:36.065 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-08-26 22:46:36.088 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-08-26 22:46:36.089 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-08-26 22:46:36.089 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-08-26 22:46:36.090 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-08-26 22:46:36.090 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-08-26 22:46:36.090 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-08-26 22:46:36.383 +01:00 [INF] Now listening on: https://localhost:5001
2020-08-26 22:46:36.384 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-26 22:46:36.384 +01:00 [INF] Hosting environment: Development
2020-08-26 22:46:36.385 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-08-26 22:46:42.330 +01:00 [DBG] Login Url: /Account/Login
2020-08-26 22:46:42.332 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-08-26 22:46:42.333 +01:00 [DBG] Logout Url: /Account/Logout
2020-08-26 22:46:42.334 +01:00 [DBG] ConsentUrl Url: /consent
2020-08-26 22:46:42.334 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-08-26 22:46:42.335 +01:00 [DBG] Error Url: /home/error
2020-08-26 22:46:42.335 +01:00 [DBG] Error Id Parameter: errorId
2020-08-26 22:49:12.930 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-08-26 22:49:12.971 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-08-26 22:49:12.972 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-08-26 22:49:12.974 +01:00 [DBG] Start authorize request
2020-08-26 22:49:12.995 +01:00 [DBG] No user present in authorize request
2020-08-26 22:49:13.131 +01:00 [DBG] Start authorize request protocol validation
2020-08-26 22:49:14.503 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-26 22:49:14.511 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-26 22:49:14.520 +01:00 [DBG] Checking for PKCE parameters
2020-08-26 22:49:14.521 +01:00 [DBG] No PKCE used.
2020-08-26 22:49:14.699 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-08-26 22:49:14.871 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-08-26 22:49:15.024 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-08-26 22:49:15.050 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-08-26 22:49:15.061 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi profile openid email","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi profile openid email","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-08-26 22:49:15.076 +01:00 [INF] Showing login: User is not authenticated
2020-08-26 22:49:15.198 +01:00 [DBG] Start authorize request protocol validation
2020-08-26 22:49:15.907 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-26 22:49:15.908 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-26 22:49:15.912 +01:00 [DBG] Checking for PKCE parameters
2020-08-26 22:49:15.914 +01:00 [DBG] No PKCE used.
2020-08-26 22:49:16.051 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-08-26 22:49:16.196 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-08-26 22:49:16.234 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-08-26 22:49:16.237 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-08-26 22:49:16.926 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-26 22:49:16.927 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-26 22:50:01.598 +01:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-08-26 22:50:09.756 +01:00 [DBG] Start authorize request protocol validation
2020-08-26 22:50:10.478 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-26 22:50:10.479 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-26 22:50:10.482 +01:00 [DBG] Checking for PKCE parameters
2020-08-26 22:50:10.483 +01:00 [DBG] No PKCE used.
2020-08-26 22:50:10.626 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-08-26 22:50:10.769 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-08-26 22:50:10.814 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-08-26 22:50:10.817 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-08-26 22:50:20.278 +01:00 [DBG] Augmenting SignInContext
2020-08-26 22:50:20.280 +01:00 [DBG] Adding idp claim with value: local
2020-08-26 22:50:20.280 +01:00 [DBG] Adding auth_time claim with value: 1598478620
2020-08-26 22:50:20.290 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-08-26 22:50:24.167 +01:00 [INF] {"Username":"s.oware","Provider":null,"ProviderUserId":null,"SubjectId":"68b09891-8fa6-4b90-b687-f072d413ea66","DisplayName":"s.oware","Endpoint":"UI","ClientId":"TaxAdminCode","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HM2A160TBG61:0000000F","TimeStamp":"2020-08-26T21:50:24.0000000Z","ProcessId":8940,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2020-08-26 22:50:37.896 +01:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2020-08-26 22:50:37.900 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2020-08-26 22:50:37.901 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-08-26 22:50:37.904 +01:00 [DBG] Start authorize callback request
2020-08-26 22:50:37.907 +01:00 [DBG] User in authorize request: 68b09891-8fa6-4b90-b687-f072d413ea66
2020-08-26 22:50:37.907 +01:00 [DBG] Start authorize request protocol validation
2020-08-26 22:50:38.680 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-26 22:50:38.688 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-26 22:50:38.694 +01:00 [DBG] Checking for PKCE parameters
2020-08-26 22:50:38.695 +01:00 [DBG] No PKCE used.
2020-08-26 22:50:38.847 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-08-26 22:50:39.021 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-08-26 22:50:39.096 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-08-26 22:50:39.098 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-08-26 22:50:39.099 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html"],"SubjectId":"68b09891-8fa6-4b90-b687-f072d413ea66","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi profile openid email","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"85562FE631FF2F0FA6D6C5B0FDDB955F","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi profile openid email","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-08-26 22:50:39.236 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-08-26 22:50:39.239 +01:00 [DBG] Creating Authorization Code Flow response.
2020-08-26 22:50:39.344 +01:00 [DBG] 0tIcGk9DnxJWzHgwR3gCZCjl5Gc/MdUCc9wK+RNkWh0= not found in database
2020-08-26 22:50:39.690 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"68b09891-8fa6-4b90-b687-f072d413ea66","Scopes":"collectorapi profile openid email","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****CB73","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2A160TBG61:00000011","TimeStamp":"2020-08-26T21:50:39.0000000Z","ProcessId":8940,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-08-26 22:50:39.701 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"68b09891-8fa6-4b90-b687-f072d413ea66","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi profile openid email","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-08-26 22:50:39.782 +01:00 [DBG] Augmenting SignInContext
2020-08-26 22:50:39.783 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-08-26 22:50:45.006 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-08-26 22:51:03.829 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-08-26 22:51:03.831 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-08-26 22:51:03.835 +01:00 [DBG] Start token request.
2020-08-26 22:51:03.837 +01:00 [DBG] Start client validation
2020-08-26 22:51:03.840 +01:00 [DBG] Start parsing Basic Authentication secret
2020-08-26 22:51:03.841 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-08-26 22:51:03.841 +01:00 [DBG] Secret id found: TaxAdminCode
2020-08-26 22:51:04.543 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-26 22:51:04.544 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-26 22:51:04.546 +01:00 [DBG] Public Client - skipping secret validation success
2020-08-26 22:51:04.547 +01:00 [DBG] Client validation success
2020-08-26 22:51:04.549 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2A160TBG63:00000001","TimeStamp":"2020-08-26T21:51:04.0000000Z","ProcessId":8940,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-08-26 22:51:04.563 +01:00 [DBG] Start token request validation
2020-08-26 22:51:04.566 +01:00 [DBG] Start validation of authorization code token request
2020-08-26 22:51:04.691 +01:00 [DBG] 0tIcGk9DnxJWzHgwR3gCZCjl5Gc/MdUCc9wK+RNkWh0= found in database: true
2020-08-26 22:51:04.807 +01:00 [DBG] removing 0tIcGk9DnxJWzHgwR3gCZCjl5Gc/MdUCc9wK+RNkWh0= persisted grant from database
2020-08-26 22:51:05.088 +01:00 [DBG] Validation of authorization code token request success
2020-08-26 22:51:05.092 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"C5840FEB38797B618AA3282463E221921A0A693C14856A00B929A0398C67CB73","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"C5840FEB38797B618AA3282463E221921A0A693C14856A00B929A0398C67CB73","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-08-26 22:51:05.935 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-26 22:51:05.936 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-26 22:51:06.080 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-08-26 22:51:06.238 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-08-26 22:51:06.283 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-08-26 22:51:06.295 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-08-26 22:51:06.296 +01:00 [DBG] Getting claims for access token for subject: 68b09891-8fa6-4b90-b687-f072d413ea66
2020-08-26 22:56:58.380 +01:00 [WRN] No type was specified for the decimal column 'nCashLimit' on entity type 'AspNetUsers'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-26 22:56:59.846 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Admin.IDP.Entity.PersoltaxadmindbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Decimal()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDecimal(Int32 i)
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Decimal()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDecimal(Int32 i)
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-08-26 22:57:01.231 +01:00 [INF] {"Details":"System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.\r\n   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()\r\n   at Microsoft.Data.SqlClient.SqlBuffer.get_Decimal()\r\n   at Microsoft.Data.SqlClient.SqlDataReader.GetDecimal(Int32 i)\r\n   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)\r\n   at Admin.IDP.Services.CompanyService.GetAssemblyByAssemblyIdAsync(String strCode) in C:\\IMPORTANT\\AdminService\\Admin.IDP\\Services\\CompanyService.cs:line 27\r\n   at Admin.IDP.ProfileService.GetProfileDataAsync(ProfileDataRequestContext context) in C:\\IMPORTANT\\AdminService\\Admin.IDP\\ProfileService.cs:line 49\r\n   at IdentityServer4.Services.DefaultClaimsService.GetAccessTokenClaimsAsync(ClaimsPrincipal subject, ResourceValidationResult resourceResult, ValidatedRequest request)\r\n   at IdentityServer4.Services.DefaultTokenService.CreateAccessTokenAsync(TokenCreationRequest request)\r\n   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request)\r\n   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAuthorizationCodeRequestAsync(TokenRequestValidationResult request)\r\n   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request)\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Data is Null. This method or property cannot be called on Null values.","ActivityId":"0HM2A160TBG63:00000001","TimeStamp":"2020-08-26T21:57:01.0000000Z","ProcessId":8940,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2020-08-26 22:57:01.240 +01:00 [FTL] Unhandled exception: Data is Null. This method or property cannot be called on Null values.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Decimal()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDecimal(Int32 i)
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Admin.IDP.Services.CompanyService.GetAssemblyByAssemblyIdAsync(String strCode) in C:\IMPORTANT\AdminService\Admin.IDP\Services\CompanyService.cs:line 27
   at Admin.IDP.ProfileService.GetProfileDataAsync(ProfileDataRequestContext context) in C:\IMPORTANT\AdminService\Admin.IDP\ProfileService.cs:line 49
   at IdentityServer4.Services.DefaultClaimsService.GetAccessTokenClaimsAsync(ClaimsPrincipal subject, ResourceValidationResult resourceResult, ValidatedRequest request)
   at IdentityServer4.Services.DefaultTokenService.CreateAccessTokenAsync(TokenCreationRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAuthorizationCodeRequestAsync(TokenRequestValidationResult request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
2020-08-26 22:57:01.885 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Decimal()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDecimal(Int32 i)
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Admin.IDP.Services.CompanyService.GetAssemblyByAssemblyIdAsync(String strCode) in C:\IMPORTANT\AdminService\Admin.IDP\Services\CompanyService.cs:line 27
   at Admin.IDP.ProfileService.GetProfileDataAsync(ProfileDataRequestContext context) in C:\IMPORTANT\AdminService\Admin.IDP\ProfileService.cs:line 49
   at IdentityServer4.Services.DefaultClaimsService.GetAccessTokenClaimsAsync(ClaimsPrincipal subject, ResourceValidationResult resourceResult, ValidatedRequest request)
   at IdentityServer4.Services.DefaultTokenService.CreateAccessTokenAsync(TokenCreationRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAuthorizationCodeRequestAsync(TokenRequestValidationResult request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-08-26 23:00:35.764 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-08-26 23:00:35.769 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-08-26 23:00:35.770 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-08-26 23:00:35.771 +01:00 [DBG] Start authorize request
2020-08-26 23:00:35.773 +01:00 [DBG] User in authorize request: 68b09891-8fa6-4b90-b687-f072d413ea66
2020-08-26 23:00:35.779 +01:00 [DBG] Start authorize request protocol validation
2020-08-26 23:00:36.555 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-26 23:00:36.556 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-26 23:00:36.558 +01:00 [DBG] Checking for PKCE parameters
2020-08-26 23:00:36.558 +01:00 [DBG] No PKCE used.
2020-08-26 23:00:36.672 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-08-26 23:00:36.837 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-08-26 23:00:36.881 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-08-26 23:00:36.883 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-08-26 23:00:36.885 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html"],"SubjectId":"68b09891-8fa6-4b90-b687-f072d413ea66","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi profile openid email","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"85562FE631FF2F0FA6D6C5B0FDDB955F","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi profile openid email","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-08-26 23:00:37.008 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-08-26 23:00:37.009 +01:00 [DBG] Creating Authorization Code Flow response.
2020-08-26 23:00:37.134 +01:00 [DBG] gwwCdyogfZ0QjBfVDS7I4WrCpY/wce21qZVTK0awGPI= not found in database
2020-08-26 23:00:37.449 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"68b09891-8fa6-4b90-b687-f072d413ea66","Scopes":"collectorapi profile openid email","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****9B7C","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2A160TBG64:00000001","TimeStamp":"2020-08-26T22:00:37.0000000Z","ProcessId":8940,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-08-26 23:00:37.477 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"68b09891-8fa6-4b90-b687-f072d413ea66","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi profile openid email","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-08-26 23:00:37.496 +01:00 [DBG] Augmenting SignInContext
2020-08-26 23:00:37.498 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-08-26 23:00:37.744 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-08-26 23:00:37.747 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-08-26 23:00:37.750 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-08-26 23:00:37.751 +01:00 [DBG] Start token request.
2020-08-26 23:00:37.752 +01:00 [DBG] Start client validation
2020-08-26 23:00:37.752 +01:00 [DBG] Start parsing Basic Authentication secret
2020-08-26 23:00:37.753 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-08-26 23:00:37.754 +01:00 [DBG] Secret id found: TaxAdminCode
2020-08-26 23:00:38.484 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-26 23:00:38.485 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-26 23:00:38.487 +01:00 [DBG] Public Client - skipping secret validation success
2020-08-26 23:00:38.487 +01:00 [DBG] Client validation success
2020-08-26 23:00:38.488 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2A160TBG66:00000001","TimeStamp":"2020-08-26T22:00:38.0000000Z","ProcessId":8940,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-08-26 23:00:38.490 +01:00 [DBG] Start token request validation
2020-08-26 23:00:38.491 +01:00 [DBG] Start validation of authorization code token request
2020-08-26 23:00:38.646 +01:00 [DBG] gwwCdyogfZ0QjBfVDS7I4WrCpY/wce21qZVTK0awGPI= found in database: true
2020-08-26 23:00:38.797 +01:00 [DBG] removing gwwCdyogfZ0QjBfVDS7I4WrCpY/wce21qZVTK0awGPI= persisted grant from database
2020-08-26 23:00:39.140 +01:00 [DBG] Validation of authorization code token request success
2020-08-26 23:00:39.140 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"057C49D3EAF118C063DFEB9F1E61117F87305DB2021CF518CAD9C61679399B7C","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"057C49D3EAF118C063DFEB9F1E61117F87305DB2021CF518CAD9C61679399B7C","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-08-26 23:00:39.898 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-26 23:00:39.899 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-26 23:00:40.012 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-08-26 23:00:40.164 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-08-26 23:00:40.215 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-08-26 23:00:40.217 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-08-26 23:00:40.217 +01:00 [DBG] Getting claims for access token for subject: 68b09891-8fa6-4b90-b687-f072d413ea66
2020-08-26 23:08:41.307 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Admin.IDP.Entity.PersoltaxadmindbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Decimal()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDecimal(Int32 i)
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Decimal()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDecimal(Int32 i)
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-08-26 23:08:41.401 +01:00 [INF] {"Details":"System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.\r\n   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()\r\n   at Microsoft.Data.SqlClient.SqlBuffer.get_Decimal()\r\n   at Microsoft.Data.SqlClient.SqlDataReader.GetDecimal(Int32 i)\r\n   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)\r\n   at Admin.IDP.Services.CompanyService.GetAssemblyByAssemblyIdAsync(String strCode) in C:\\IMPORTANT\\AdminService\\Admin.IDP\\Services\\CompanyService.cs:line 27\r\n   at Admin.IDP.ProfileService.GetProfileDataAsync(ProfileDataRequestContext context) in C:\\IMPORTANT\\AdminService\\Admin.IDP\\ProfileService.cs:line 49\r\n   at IdentityServer4.Services.DefaultClaimsService.GetAccessTokenClaimsAsync(ClaimsPrincipal subject, ResourceValidationResult resourceResult, ValidatedRequest request)\r\n   at IdentityServer4.Services.DefaultTokenService.CreateAccessTokenAsync(TokenCreationRequest request)\r\n   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request)\r\n   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAuthorizationCodeRequestAsync(TokenRequestValidationResult request)\r\n   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request)\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Data is Null. This method or property cannot be called on Null values.","ActivityId":"0HM2A160TBG66:00000001","TimeStamp":"2020-08-26T22:08:41.0000000Z","ProcessId":8940,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2020-08-26 23:08:41.409 +01:00 [FTL] Unhandled exception: Data is Null. This method or property cannot be called on Null values.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Decimal()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDecimal(Int32 i)
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Admin.IDP.Services.CompanyService.GetAssemblyByAssemblyIdAsync(String strCode) in C:\IMPORTANT\AdminService\Admin.IDP\Services\CompanyService.cs:line 27
   at Admin.IDP.ProfileService.GetProfileDataAsync(ProfileDataRequestContext context) in C:\IMPORTANT\AdminService\Admin.IDP\ProfileService.cs:line 49
   at IdentityServer4.Services.DefaultClaimsService.GetAccessTokenClaimsAsync(ClaimsPrincipal subject, ResourceValidationResult resourceResult, ValidatedRequest request)
   at IdentityServer4.Services.DefaultTokenService.CreateAccessTokenAsync(TokenCreationRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAuthorizationCodeRequestAsync(TokenRequestValidationResult request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
2020-08-26 23:08:41.634 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Decimal()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDecimal(Int32 i)
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , Int32[] , ResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Admin.IDP.Services.CompanyService.GetAssemblyByAssemblyIdAsync(String strCode) in C:\IMPORTANT\AdminService\Admin.IDP\Services\CompanyService.cs:line 27
   at Admin.IDP.ProfileService.GetProfileDataAsync(ProfileDataRequestContext context) in C:\IMPORTANT\AdminService\Admin.IDP\ProfileService.cs:line 49
   at IdentityServer4.Services.DefaultClaimsService.GetAccessTokenClaimsAsync(ClaimsPrincipal subject, ResourceValidationResult resourceResult, ValidatedRequest request)
   at IdentityServer4.Services.DefaultTokenService.CreateAccessTokenAsync(TokenCreationRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAuthorizationCodeRequestAsync(TokenRequestValidationResult request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-08-26 23:16:51.327 +01:00 [INF] Starting host...
2020-08-26 23:16:53.592 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-08-26 23:16:53.607 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-08-26 23:16:53.607 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-08-26 23:16:53.608 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-08-26 23:16:53.608 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-08-26 23:16:53.608 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-08-26 23:16:53.609 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-08-26 23:16:53.796 +01:00 [INF] Now listening on: https://localhost:5001
2020-08-26 23:16:53.796 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-26 23:16:53.797 +01:00 [INF] Hosting environment: Development
2020-08-26 23:16:53.797 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-08-26 23:16:56.105 +01:00 [DBG] Login Url: /Account/Login
2020-08-26 23:16:56.107 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-08-26 23:16:56.109 +01:00 [DBG] Logout Url: /Account/Logout
2020-08-26 23:16:56.109 +01:00 [DBG] ConsentUrl Url: /consent
2020-08-26 23:16:56.110 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-08-26 23:16:56.111 +01:00 [DBG] Error Url: /home/error
2020-08-26 23:16:56.111 +01:00 [DBG] Error Id Parameter: errorId
2020-08-26 23:17:01.208 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-08-26 23:17:01.245 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-08-26 23:17:01.246 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-08-26 23:17:01.248 +01:00 [DBG] Start authorize request
2020-08-26 23:17:01.255 +01:00 [DBG] User in authorize request: 68b09891-8fa6-4b90-b687-f072d413ea66
2020-08-26 23:17:01.277 +01:00 [DBG] Start authorize request protocol validation
2020-08-26 23:17:02.543 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-26 23:17:02.550 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-26 23:17:02.561 +01:00 [DBG] Checking for PKCE parameters
2020-08-26 23:17:02.562 +01:00 [DBG] No PKCE used.
2020-08-26 23:17:02.734 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-08-26 23:17:02.908 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-08-26 23:17:03.047 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-08-26 23:17:03.072 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-08-26 23:17:03.082 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html"],"SubjectId":"68b09891-8fa6-4b90-b687-f072d413ea66","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi profile openid email","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"85562FE631FF2F0FA6D6C5B0FDDB955F","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi profile openid email","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-08-26 23:17:03.256 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-08-26 23:17:03.258 +01:00 [DBG] Creating Authorization Code Flow response.
2020-08-26 23:17:03.349 +01:00 [DBG] HmTLpxWOngthZH12turplKUpuQP8j5J12wM+n/T61j0= not found in database
2020-08-26 23:17:03.727 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"68b09891-8fa6-4b90-b687-f072d413ea66","Scopes":"collectorapi profile openid email","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****CBAB","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2A1MUH64AC:00000001","TimeStamp":"2020-08-26T22:17:03.0000000Z","ProcessId":13356,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-08-26 23:17:03.733 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"68b09891-8fa6-4b90-b687-f072d413ea66","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi profile openid email","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-08-26 23:17:03.745 +01:00 [DBG] Augmenting SignInContext
2020-08-26 23:17:03.757 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-08-26 23:17:04.022 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-08-26 23:17:04.027 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-08-26 23:17:04.028 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-08-26 23:17:04.031 +01:00 [DBG] Start token request.
2020-08-26 23:17:04.034 +01:00 [DBG] Start client validation
2020-08-26 23:17:04.038 +01:00 [DBG] Start parsing Basic Authentication secret
2020-08-26 23:17:04.040 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-08-26 23:17:04.040 +01:00 [DBG] Secret id found: TaxAdminCode
2020-08-26 23:17:04.893 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-26 23:17:04.894 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-26 23:17:04.897 +01:00 [DBG] Public Client - skipping secret validation success
2020-08-26 23:17:04.897 +01:00 [DBG] Client validation success
2020-08-26 23:17:04.900 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2A1MUH64AE:00000001","TimeStamp":"2020-08-26T22:17:04.0000000Z","ProcessId":13356,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-08-26 23:17:04.907 +01:00 [DBG] Start token request validation
2020-08-26 23:17:04.911 +01:00 [DBG] Start validation of authorization code token request
2020-08-26 23:17:05.029 +01:00 [DBG] HmTLpxWOngthZH12turplKUpuQP8j5J12wM+n/T61j0= found in database: true
2020-08-26 23:17:05.154 +01:00 [DBG] removing HmTLpxWOngthZH12turplKUpuQP8j5J12wM+n/T61j0= persisted grant from database
2020-08-26 23:17:05.491 +01:00 [DBG] Validation of authorization code token request success
2020-08-26 23:17:05.495 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"C58D6A1399C767F95EBBE0C8950EEBF77F32A0EF5CDBE1DF9B3AE59B62DCCBAB","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"C58D6A1399C767F95EBBE0C8950EEBF77F32A0EF5CDBE1DF9B3AE59B62DCCBAB","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-08-26 23:17:06.200 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-26 23:17:06.201 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-26 23:17:06.299 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-08-26 23:17:06.471 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-08-26 23:17:06.509 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-08-26 23:17:06.520 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-08-26 23:17:06.522 +01:00 [DBG] Getting claims for access token for subject: 68b09891-8fa6-4b90-b687-f072d413ea66
2020-08-26 23:17:42.282 +01:00 [WRN] No type was specified for the decimal column 'nCashLimit' on entity type 'AspNetUsers'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-26 23:17:50.748 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-26 23:17:50.749 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-26 23:17:50.873 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-08-26 23:17:51.004 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-08-26 23:17:51.049 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-08-26 23:17:51.055 +01:00 [DBG] Getting claims for identity token for subject: 68b09891-8fa6-4b90-b687-f072d413ea66 and client: TaxAdminCode
2020-08-26 23:17:51.056 +01:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-08-26 23:17:51.061 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"68b09891-8fa6-4b90-b687-f072d413ea66","Scopes":"collectorapi profile openid email","GrantType":"authorization_code","Tokens":[{"TokenType":"id_token","TokenValue":"****mJXw","$type":"Token"},{"TokenType":"access_token","TokenValue":"****asEA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2A1MUH64AE:00000001","TimeStamp":"2020-08-26T22:17:51.0000000Z","ProcessId":13356,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-08-26 23:17:51.066 +01:00 [DBG] Token request success.
2020-08-26 23:18:15.602 +01:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://jwt.io
2020-08-26 23:18:15.664 +01:00 [DBG] Origin https://jwt.io is allowed: false
2020-08-26 23:18:15.666 +01:00 [WRN] CorsPolicyService did not allow origin: https://jwt.io
2020-08-26 23:18:15.667 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-08-26 23:18:15.669 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-08-26 23:18:15.670 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-08-26 23:18:15.672 +01:00 [DBG] Start discovery request
2020-08-26 23:18:16.070 +01:00 [DBG] Found ["profile","openid","email","collectorapi"] as all scopes, and ["collectorapi","email","openid","profile"] as API resources
2020-08-26 23:30:28.371 +01:00 [INF] Starting host...
2020-08-26 23:30:30.515 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-08-26 23:30:30.528 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-08-26 23:30:30.528 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-08-26 23:30:30.529 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-08-26 23:30:30.529 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-08-26 23:30:30.529 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-08-26 23:30:30.529 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-08-26 23:30:30.721 +01:00 [INF] Now listening on: https://localhost:5001
2020-08-26 23:30:30.722 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-26 23:30:30.722 +01:00 [INF] Hosting environment: Development
2020-08-26 23:30:30.723 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-08-26 23:30:34.521 +01:00 [DBG] Login Url: /Account/Login
2020-08-26 23:30:34.523 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-08-26 23:30:34.526 +01:00 [DBG] Logout Url: /Account/Logout
2020-08-26 23:30:34.527 +01:00 [DBG] ConsentUrl Url: /consent
2020-08-26 23:30:34.527 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-08-26 23:30:34.528 +01:00 [DBG] Error Url: /home/error
2020-08-26 23:30:34.528 +01:00 [DBG] Error Id Parameter: errorId
2020-08-26 23:30:55.137 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-08-26 23:30:55.168 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-08-26 23:30:55.170 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-08-26 23:30:55.172 +01:00 [DBG] Start authorize request
2020-08-26 23:30:55.175 +01:00 [DBG] User in authorize request: 68b09891-8fa6-4b90-b687-f072d413ea66
2020-08-26 23:30:55.184 +01:00 [DBG] Start authorize request protocol validation
2020-08-26 23:30:56.240 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-26 23:30:56.248 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-26 23:30:56.258 +01:00 [DBG] Checking for PKCE parameters
2020-08-26 23:30:56.259 +01:00 [DBG] No PKCE used.
2020-08-26 23:30:56.463 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-08-26 23:30:56.705 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-08-26 23:30:56.770 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-08-26 23:30:56.795 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-08-26 23:30:56.805 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html"],"SubjectId":"68b09891-8fa6-4b90-b687-f072d413ea66","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi profile openid email","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"85562FE631FF2F0FA6D6C5B0FDDB955F","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi profile openid email","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-08-26 23:30:56.825 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-08-26 23:30:56.827 +01:00 [DBG] Creating Authorization Code Flow response.
2020-08-26 23:30:56.979 +01:00 [DBG] /h3HOZXfbRApIthKk5fRgpzq4kHspxxvHPGWXgHi610= not found in database
2020-08-26 23:30:57.419 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"68b09891-8fa6-4b90-b687-f072d413ea66","Scopes":"collectorapi profile openid email","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****EA55","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2A1UHUDQD9:00000001","TimeStamp":"2020-08-26T22:30:57.0000000Z","ProcessId":38280,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-08-26 23:30:57.427 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"68b09891-8fa6-4b90-b687-f072d413ea66","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi profile openid email","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-08-26 23:30:57.441 +01:00 [DBG] Augmenting SignInContext
2020-08-26 23:30:57.450 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-08-26 23:30:57.693 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-08-26 23:30:57.697 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-08-26 23:30:57.698 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-08-26 23:30:57.701 +01:00 [DBG] Start token request.
2020-08-26 23:30:57.702 +01:00 [DBG] Start client validation
2020-08-26 23:30:57.708 +01:00 [DBG] Start parsing Basic Authentication secret
2020-08-26 23:30:57.709 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-08-26 23:30:57.709 +01:00 [DBG] Secret id found: TaxAdminCode
2020-08-26 23:30:58.540 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-26 23:30:58.542 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-26 23:30:58.544 +01:00 [DBG] Public Client - skipping secret validation success
2020-08-26 23:30:58.545 +01:00 [DBG] Client validation success
2020-08-26 23:30:58.546 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2A1UHUDQDB:00000001","TimeStamp":"2020-08-26T22:30:58.0000000Z","ProcessId":38280,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-08-26 23:30:58.557 +01:00 [DBG] Start token request validation
2020-08-26 23:30:58.560 +01:00 [DBG] Start validation of authorization code token request
2020-08-26 23:30:58.684 +01:00 [DBG] /h3HOZXfbRApIthKk5fRgpzq4kHspxxvHPGWXgHi610= found in database: true
2020-08-26 23:30:58.823 +01:00 [DBG] removing /h3HOZXfbRApIthKk5fRgpzq4kHspxxvHPGWXgHi610= persisted grant from database
2020-08-26 23:30:59.149 +01:00 [DBG] Validation of authorization code token request success
2020-08-26 23:30:59.152 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"28AA6E2AA9A46B677BF36305CD194C3211E5AC70918DDED38BBA0255B904EA55","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"28AA6E2AA9A46B677BF36305CD194C3211E5AC70918DDED38BBA0255B904EA55","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-08-26 23:30:59.940 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-26 23:30:59.941 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-26 23:31:00.096 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-08-26 23:31:00.286 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-08-26 23:31:00.327 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-08-26 23:31:00.338 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-08-26 23:31:00.339 +01:00 [DBG] Getting claims for access token for subject: 68b09891-8fa6-4b90-b687-f072d413ea66
2020-08-26 23:31:32.702 +01:00 [WRN] No type was specified for the decimal column 'nCashLimit' on entity type 'AspNetUsers'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-26 23:32:38.648 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-26 23:32:38.649 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-26 23:32:38.781 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-08-26 23:32:38.931 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-08-26 23:32:38.969 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-08-26 23:32:38.976 +01:00 [DBG] Getting claims for identity token for subject: 68b09891-8fa6-4b90-b687-f072d413ea66 and client: TaxAdminCode
2020-08-26 23:32:38.978 +01:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-08-26 23:32:38.983 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"68b09891-8fa6-4b90-b687-f072d413ea66","Scopes":"collectorapi profile openid email","GrantType":"authorization_code","Tokens":[{"TokenType":"id_token","TokenValue":"****8hTg","$type":"Token"},{"TokenType":"access_token","TokenValue":"****8vaQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2A1UHUDQDB:00000001","TimeStamp":"2020-08-26T22:32:38.0000000Z","ProcessId":38280,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-08-26 23:32:38.990 +01:00 [DBG] Token request success.
2020-08-26 23:32:48.740 +01:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://jwt.io
2020-08-26 23:32:48.791 +01:00 [DBG] Origin https://jwt.io is allowed: false
2020-08-26 23:32:48.793 +01:00 [WRN] CorsPolicyService did not allow origin: https://jwt.io
2020-08-26 23:32:48.796 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-08-26 23:32:48.800 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-08-26 23:32:48.800 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-08-26 23:32:48.803 +01:00 [DBG] Start discovery request
2020-08-26 23:32:49.178 +01:00 [DBG] Found ["profile","openid","email","collectorapi"] as all scopes, and ["collectorapi","email","openid","profile"] as API resources
2020-08-26 23:36:36.396 +01:00 [INF] Starting host...
2020-08-26 23:36:38.551 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-08-26 23:36:38.565 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-08-26 23:36:38.565 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-08-26 23:36:38.565 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-08-26 23:36:38.566 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-08-26 23:36:38.566 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-08-26 23:36:38.566 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-08-26 23:36:38.755 +01:00 [INF] Now listening on: https://localhost:5001
2020-08-26 23:36:38.755 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-26 23:36:38.756 +01:00 [INF] Hosting environment: Development
2020-08-26 23:36:38.756 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-08-26 23:36:40.863 +01:00 [DBG] Login Url: /Account/Login
2020-08-26 23:36:40.866 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-08-26 23:36:40.868 +01:00 [DBG] Logout Url: /Account/Logout
2020-08-26 23:36:40.871 +01:00 [DBG] ConsentUrl Url: /consent
2020-08-26 23:36:40.872 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-08-26 23:36:40.872 +01:00 [DBG] Error Url: /home/error
2020-08-26 23:36:40.873 +01:00 [DBG] Error Id Parameter: errorId
2020-08-26 23:36:55.466 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-08-26 23:36:55.497 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-08-26 23:36:55.499 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-08-26 23:36:55.501 +01:00 [DBG] Start authorize request
2020-08-26 23:36:55.505 +01:00 [DBG] User in authorize request: 68b09891-8fa6-4b90-b687-f072d413ea66
2020-08-26 23:36:55.513 +01:00 [DBG] Start authorize request protocol validation
2020-08-26 23:36:56.455 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-26 23:36:56.464 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-26 23:36:56.475 +01:00 [DBG] Checking for PKCE parameters
2020-08-26 23:36:56.476 +01:00 [DBG] No PKCE used.
2020-08-26 23:36:56.646 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-08-26 23:36:56.832 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-08-26 23:36:56.980 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-08-26 23:36:57.005 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-08-26 23:36:57.015 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html"],"SubjectId":"68b09891-8fa6-4b90-b687-f072d413ea66","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi profile openid email","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"85562FE631FF2F0FA6D6C5B0FDDB955F","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi profile openid email","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-08-26 23:36:57.031 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-08-26 23:36:57.033 +01:00 [DBG] Creating Authorization Code Flow response.
2020-08-26 23:36:57.137 +01:00 [DBG] J8WLYm5k+OeLvtb6AdEcCqmQCDe4TIp0rZvpeqLijTs= not found in database
2020-08-26 23:36:57.587 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"68b09891-8fa6-4b90-b687-f072d413ea66","Scopes":"collectorapi profile openid email","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****D809","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2A21VL7FRN:00000001","TimeStamp":"2020-08-26T22:36:57.0000000Z","ProcessId":4968,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-08-26 23:36:57.594 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"68b09891-8fa6-4b90-b687-f072d413ea66","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi profile openid email","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-08-26 23:36:57.608 +01:00 [DBG] Augmenting SignInContext
2020-08-26 23:36:57.616 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-08-26 23:36:57.777 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-08-26 23:36:57.783 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-08-26 23:36:57.785 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-08-26 23:36:57.791 +01:00 [DBG] Start token request.
2020-08-26 23:36:57.792 +01:00 [DBG] Start client validation
2020-08-26 23:36:57.795 +01:00 [DBG] Start parsing Basic Authentication secret
2020-08-26 23:36:57.796 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-08-26 23:36:57.796 +01:00 [DBG] Secret id found: TaxAdminCode
2020-08-26 23:36:58.516 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-26 23:36:58.516 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-26 23:36:58.522 +01:00 [DBG] Public Client - skipping secret validation success
2020-08-26 23:36:58.522 +01:00 [DBG] Client validation success
2020-08-26 23:36:58.524 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2A21VL7FRP:00000001","TimeStamp":"2020-08-26T22:36:58.0000000Z","ProcessId":4968,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-08-26 23:36:58.530 +01:00 [DBG] Start token request validation
2020-08-26 23:36:58.535 +01:00 [DBG] Start validation of authorization code token request
2020-08-26 23:36:58.700 +01:00 [DBG] J8WLYm5k+OeLvtb6AdEcCqmQCDe4TIp0rZvpeqLijTs= found in database: true
2020-08-26 23:36:58.850 +01:00 [DBG] removing J8WLYm5k+OeLvtb6AdEcCqmQCDe4TIp0rZvpeqLijTs= persisted grant from database
2020-08-26 23:36:59.218 +01:00 [DBG] Validation of authorization code token request success
2020-08-26 23:36:59.221 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"F3ACB851D6E08C2617ACC215C0382BB6CE7E6A726F5FEFCEA595AB02C653D809","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"F3ACB851D6E08C2617ACC215C0382BB6CE7E6A726F5FEFCEA595AB02C653D809","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-08-26 23:36:59.981 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-26 23:36:59.982 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-26 23:37:00.093 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-08-26 23:37:00.258 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-08-26 23:37:00.330 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-08-26 23:37:00.340 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-08-26 23:37:00.341 +01:00 [DBG] Getting claims for access token for subject: 68b09891-8fa6-4b90-b687-f072d413ea66
2020-08-26 23:37:30.072 +01:00 [WRN] No type was specified for the decimal column 'nCashLimit' on entity type 'AspNetUsers'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-26 23:38:18.207 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-26 23:38:18.208 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-26 23:38:18.306 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-08-26 23:38:18.458 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-08-26 23:38:18.495 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-08-26 23:38:18.502 +01:00 [DBG] Getting claims for identity token for subject: 68b09891-8fa6-4b90-b687-f072d413ea66 and client: TaxAdminCode
2020-08-26 23:38:18.503 +01:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-08-26 23:38:18.507 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"68b09891-8fa6-4b90-b687-f072d413ea66","Scopes":"collectorapi profile openid email","GrantType":"authorization_code","Tokens":[{"TokenType":"id_token","TokenValue":"****jQYw","$type":"Token"},{"TokenType":"access_token","TokenValue":"****N_hA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2A21VL7FRP:00000001","TimeStamp":"2020-08-26T22:38:18.0000000Z","ProcessId":4968,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-08-26 23:38:18.511 +01:00 [DBG] Token request success.
2020-08-26 23:38:31.564 +01:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://jwt.io
2020-08-26 23:38:31.650 +01:00 [DBG] Origin https://jwt.io is allowed: false
2020-08-26 23:38:31.651 +01:00 [WRN] CorsPolicyService did not allow origin: https://jwt.io
2020-08-26 23:38:31.654 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-08-26 23:38:31.656 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-08-26 23:38:31.657 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-08-26 23:38:31.659 +01:00 [DBG] Start discovery request
2020-08-26 23:38:32.026 +01:00 [DBG] Found ["profile","openid","email","collectorapi"] as all scopes, and ["collectorapi","email","openid","profile"] as API resources
2020-08-29 17:58:43.031 +01:00 [INF] Starting host...
2020-08-29 17:58:47.278 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-08-29 17:58:47.324 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-08-29 17:58:47.326 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-08-29 17:58:47.326 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-08-29 17:58:47.326 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-08-29 17:58:47.327 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-08-29 17:58:47.327 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-08-29 17:58:48.110 +01:00 [INF] Now listening on: https://localhost:5001
2020-08-29 17:58:48.111 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-29 17:58:48.112 +01:00 [INF] Hosting environment: Development
2020-08-29 17:58:48.113 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-08-29 17:58:48.730 +01:00 [INF] Application is shutting down...
2020-08-29 17:59:25.580 +01:00 [INF] Starting host...
2020-08-29 17:59:28.878 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-08-29 17:59:28.893 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-08-29 17:59:28.893 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-08-29 17:59:28.894 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-08-29 17:59:28.894 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-08-29 17:59:28.895 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-08-29 17:59:28.895 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-08-29 17:59:29.092 +01:00 [INF] Now listening on: https://localhost:5001
2020-08-29 17:59:29.093 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-29 17:59:29.094 +01:00 [INF] Hosting environment: Development
2020-08-29 17:59:29.096 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-08-29 17:59:41.252 +01:00 [INF] Application is shutting down...
2020-08-29 18:10:02.658 +01:00 [INF] Starting host...
2020-08-29 18:10:04.920 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-08-29 18:10:04.933 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-08-29 18:10:04.934 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-08-29 18:10:04.935 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-08-29 18:10:04.935 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-08-29 18:10:04.935 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-08-29 18:10:04.936 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-08-29 18:10:05.101 +01:00 [INF] Now listening on: https://localhost:5001
2020-08-29 18:10:05.101 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-29 18:10:05.101 +01:00 [INF] Hosting environment: Development
2020-08-29 18:10:05.102 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-08-29 18:10:07.783 +01:00 [DBG] Login Url: /Account/Login
2020-08-29 18:10:07.786 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-08-29 18:10:07.788 +01:00 [DBG] Logout Url: /Account/Logout
2020-08-29 18:10:07.793 +01:00 [DBG] ConsentUrl Url: /consent
2020-08-29 18:10:07.793 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-08-29 18:10:07.794 +01:00 [DBG] Error Url: /home/error
2020-08-29 18:10:07.794 +01:00 [DBG] Error Id Parameter: errorId
2020-08-29 18:55:18.598 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-08-29 18:55:18.640 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-08-29 18:55:18.642 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-08-29 18:55:18.643 +01:00 [DBG] Start authorize request
2020-08-29 18:55:18.687 +01:00 [DBG] No user present in authorize request
2020-08-29 18:55:18.773 +01:00 [DBG] Start authorize request protocol validation
2020-08-29 18:55:20.613 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-29 18:55:20.620 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-29 18:55:20.637 +01:00 [ERR] Invalid redirect_uri: http://localhost:21907/
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi profile openid email","redirect_uri":"http://localhost:21907/"},"$type":"AuthorizeRequestValidationLog"}
2020-08-29 18:55:20.664 +01:00 [ERR] Request validation failed
2020-08-29 18:55:20.664 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi profile openid email","redirect_uri":"http://localhost:21907/"},"$type":"AuthorizeRequestValidationLog"}
2020-08-29 18:55:20.737 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Authorize","SubjectId":null,"Scopes":"","GrantType":null,"Error":"invalid_request","ErrorDescription":"Invalid redirect_uri","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HM2C7PG0EJPH:00000001","TimeStamp":"2020-08-29T17:55:20.0000000Z","ProcessId":44884,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2020-08-29 18:59:39.834 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-08-29 18:59:39.836 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-08-29 18:59:39.837 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-08-29 18:59:39.838 +01:00 [DBG] Start authorize request
2020-08-29 18:59:39.839 +01:00 [DBG] No user present in authorize request
2020-08-29 18:59:39.839 +01:00 [DBG] Start authorize request protocol validation
2020-08-29 18:59:47.088 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-29 18:59:47.089 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-29 18:59:47.091 +01:00 [DBG] Checking for PKCE parameters
2020-08-29 18:59:47.092 +01:00 [DBG] No PKCE used.
2020-08-29 18:59:47.258 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-08-29 18:59:47.489 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-08-29 18:59:47.611 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-08-29 18:59:47.635 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-08-29 18:59:47.638 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi profile openid email","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi profile openid email","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-08-29 18:59:47.650 +01:00 [INF] Showing login: User is not authenticated
2020-08-29 18:59:47.743 +01:00 [DBG] Start authorize request protocol validation
2020-08-29 18:59:48.549 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-29 18:59:48.550 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-29 18:59:48.557 +01:00 [DBG] Checking for PKCE parameters
2020-08-29 18:59:48.558 +01:00 [DBG] No PKCE used.
2020-08-29 18:59:48.670 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-08-29 18:59:48.816 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-08-29 18:59:48.857 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-08-29 18:59:48.859 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-08-29 18:59:49.548 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-29 18:59:49.549 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-29 19:00:14.125 +01:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-08-29 19:00:18.383 +01:00 [DBG] Start authorize request protocol validation
2020-08-29 19:00:19.047 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-29 19:00:19.049 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-29 19:00:19.051 +01:00 [DBG] Checking for PKCE parameters
2020-08-29 19:00:19.052 +01:00 [DBG] No PKCE used.
2020-08-29 19:00:19.167 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-08-29 19:00:19.290 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-08-29 19:00:19.402 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-08-29 19:00:19.404 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-08-29 19:00:26.963 +01:00 [DBG] Augmenting SignInContext
2020-08-29 19:00:26.964 +01:00 [DBG] Adding idp claim with value: local
2020-08-29 19:00:26.965 +01:00 [DBG] Adding auth_time claim with value: 1598724026
2020-08-29 19:00:27.006 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-08-29 19:00:29.553 +01:00 [INF] {"Username":"admin","Provider":null,"ProviderUserId":null,"SubjectId":"2c5fc677-ad73-4109-85ff-4699aff81e2b","DisplayName":"admin","Endpoint":"UI","ClientId":"TaxAdminCode","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HM2C7PG0EJPI:00000005","TimeStamp":"2020-08-29T18:00:29.0000000Z","ProcessId":44884,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2020-08-29 19:00:40.542 +01:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2020-08-29 19:00:40.545 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2020-08-29 19:00:40.546 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-08-29 19:00:40.549 +01:00 [DBG] Start authorize callback request
2020-08-29 19:00:40.551 +01:00 [DBG] User in authorize request: 2c5fc677-ad73-4109-85ff-4699aff81e2b
2020-08-29 19:00:40.553 +01:00 [DBG] Start authorize request protocol validation
2020-08-29 19:00:41.240 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-29 19:00:41.240 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-29 19:00:41.242 +01:00 [DBG] Checking for PKCE parameters
2020-08-29 19:00:41.243 +01:00 [DBG] No PKCE used.
2020-08-29 19:00:41.339 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-08-29 19:00:41.462 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-08-29 19:00:41.498 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-08-29 19:00:41.499 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-08-29 19:00:41.504 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html"],"SubjectId":"2c5fc677-ad73-4109-85ff-4699aff81e2b","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi profile openid email","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"3E69E1A23408CC40C92AC55C98D16EA9","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi profile openid email","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-08-29 19:00:41.624 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-08-29 19:00:41.627 +01:00 [DBG] Creating Authorization Code Flow response.
2020-08-29 19:00:41.738 +01:00 [DBG] 1LdbT3ESYGY9Pt4ixaa/9t1BvUOW7pxxURZlQjjmMm4= not found in database
2020-08-29 19:00:42.150 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"2c5fc677-ad73-4109-85ff-4699aff81e2b","Scopes":"collectorapi profile openid email","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****E6C1","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2C7PG0EJPI:00000007","TimeStamp":"2020-08-29T18:00:42.0000000Z","ProcessId":44884,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-08-29 19:00:42.156 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"2c5fc677-ad73-4109-85ff-4699aff81e2b","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi profile openid email","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-08-29 19:00:42.163 +01:00 [DBG] Augmenting SignInContext
2020-08-29 19:00:42.164 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-08-29 19:00:42.464 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-08-29 19:00:42.468 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-08-29 19:00:42.471 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-08-29 19:00:42.473 +01:00 [DBG] Start token request.
2020-08-29 19:00:42.476 +01:00 [DBG] Start client validation
2020-08-29 19:00:42.478 +01:00 [DBG] Start parsing Basic Authentication secret
2020-08-29 19:00:42.479 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-08-29 19:00:42.479 +01:00 [DBG] Secret id found: TaxAdminCode
2020-08-29 19:00:43.100 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-29 19:00:43.100 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-29 19:00:43.103 +01:00 [DBG] Public Client - skipping secret validation success
2020-08-29 19:00:43.104 +01:00 [DBG] Client validation success
2020-08-29 19:00:43.105 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2C7PG0EJPK:00000001","TimeStamp":"2020-08-29T18:00:43.0000000Z","ProcessId":44884,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-08-29 19:00:43.109 +01:00 [DBG] Start token request validation
2020-08-29 19:00:43.117 +01:00 [DBG] Start validation of authorization code token request
2020-08-29 19:00:43.229 +01:00 [DBG] 1LdbT3ESYGY9Pt4ixaa/9t1BvUOW7pxxURZlQjjmMm4= found in database: true
2020-08-29 19:00:43.353 +01:00 [DBG] removing 1LdbT3ESYGY9Pt4ixaa/9t1BvUOW7pxxURZlQjjmMm4= persisted grant from database
2020-08-29 19:00:43.600 +01:00 [DBG] Validation of authorization code token request success
2020-08-29 19:00:43.603 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"3CC977C0650B9458F68D10E72C4D17B36117AA4E69519B28E19380395AC5E6C1","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"3CC977C0650B9458F68D10E72C4D17B36117AA4E69519B28E19380395AC5E6C1","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-08-29 19:00:44.265 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-29 19:00:44.266 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-29 19:00:44.353 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-08-29 19:00:44.562 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-08-29 19:00:44.629 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-08-29 19:00:44.651 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-08-29 19:00:44.652 +01:00 [DBG] Getting claims for access token for subject: 2c5fc677-ad73-4109-85ff-4699aff81e2b
2020-08-29 19:01:34.183 +01:00 [WRN] No type was specified for the decimal column 'nCashLimit' on entity type 'AspNetUsers'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-29 19:02:00.399 +01:00 [INF] {"Details":"System.ArgumentException: Object of type 'System.String' cannot be converted to type 'System.Guid'.\r\n   at System.RuntimeType.TryChangeType(Object value, Binder binder, CultureInfo culture, Boolean needsSpecialCast)\r\n   at System.Reflection.MethodBase.CheckArguments(Object[] parameters, Binder binder, BindingFlags invokeAttr, CultureInfo culture, Signature sig)\r\n   at System.Reflection.RuntimeMethodInfo.InvokeArgumentsCheck(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\r\n   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\r\n   at System.Reflection.RuntimePropertyInfo.SetValue(Object obj, Object value, BindingFlags invokeAttr, Binder binder, Object[] index, CultureInfo culture)\r\n   at System.Reflection.RuntimePropertyInfo.SetValue(Object obj, Object value, Object[] index)\r\n   at Admin.IDP.DataReaderExtensions.MapToList[T](DbDataReader dr) in C:\\IMPORTANT\\AdminService\\Admin.IDP\\DataReaderExtensions.cs:line 31\r\n   at Admin.IDP.Services.CompanyService.GetUserRecordsAsync(String strAssemblyCode, String strAssemblyUserId) in C:\\IMPORTANT\\AdminService\\Admin.IDP\\Services\\CompanyService.cs:line 66\r\n   at Admin.IDP.ProfileService.GetProfileDataAsync(ProfileDataRequestContext context) in C:\\IMPORTANT\\AdminService\\Admin.IDP\\ProfileService.cs:line 47\r\n   at IdentityServer4.Services.DefaultClaimsService.GetAccessTokenClaimsAsync(ClaimsPrincipal subject, ResourceValidationResult resourceResult, ValidatedRequest request)\r\n   at IdentityServer4.Services.DefaultTokenService.CreateAccessTokenAsync(TokenCreationRequest request)\r\n   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request)\r\n   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAuthorizationCodeRequestAsync(TokenRequestValidationResult request)\r\n   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request)\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Object of type 'System.String' cannot be converted to type 'System.Guid'.","ActivityId":"0HM2C7PG0EJPK:00000001","TimeStamp":"2020-08-29T18:02:00.0000000Z","ProcessId":44884,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2020-08-29 19:02:00.403 +01:00 [FTL] Unhandled exception: Object of type 'System.String' cannot be converted to type 'System.Guid'.
System.ArgumentException: Object of type 'System.String' cannot be converted to type 'System.Guid'.
   at System.RuntimeType.TryChangeType(Object value, Binder binder, CultureInfo culture, Boolean needsSpecialCast)
   at System.Reflection.MethodBase.CheckArguments(Object[] parameters, Binder binder, BindingFlags invokeAttr, CultureInfo culture, Signature sig)
   at System.Reflection.RuntimeMethodInfo.InvokeArgumentsCheck(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimePropertyInfo.SetValue(Object obj, Object value, BindingFlags invokeAttr, Binder binder, Object[] index, CultureInfo culture)
   at System.Reflection.RuntimePropertyInfo.SetValue(Object obj, Object value, Object[] index)
   at Admin.IDP.DataReaderExtensions.MapToList[T](DbDataReader dr) in C:\IMPORTANT\AdminService\Admin.IDP\DataReaderExtensions.cs:line 31
   at Admin.IDP.Services.CompanyService.GetUserRecordsAsync(String strAssemblyCode, String strAssemblyUserId) in C:\IMPORTANT\AdminService\Admin.IDP\Services\CompanyService.cs:line 66
   at Admin.IDP.ProfileService.GetProfileDataAsync(ProfileDataRequestContext context) in C:\IMPORTANT\AdminService\Admin.IDP\ProfileService.cs:line 47
   at IdentityServer4.Services.DefaultClaimsService.GetAccessTokenClaimsAsync(ClaimsPrincipal subject, ResourceValidationResult resourceResult, ValidatedRequest request)
   at IdentityServer4.Services.DefaultTokenService.CreateAccessTokenAsync(TokenCreationRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAuthorizationCodeRequestAsync(TokenRequestValidationResult request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
2020-08-29 19:02:00.432 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Object of type 'System.String' cannot be converted to type 'System.Guid'.
   at System.RuntimeType.TryChangeType(Object value, Binder binder, CultureInfo culture, Boolean needsSpecialCast)
   at System.Reflection.MethodBase.CheckArguments(Object[] parameters, Binder binder, BindingFlags invokeAttr, CultureInfo culture, Signature sig)
   at System.Reflection.RuntimeMethodInfo.InvokeArgumentsCheck(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimePropertyInfo.SetValue(Object obj, Object value, BindingFlags invokeAttr, Binder binder, Object[] index, CultureInfo culture)
   at System.Reflection.RuntimePropertyInfo.SetValue(Object obj, Object value, Object[] index)
   at Admin.IDP.DataReaderExtensions.MapToList[T](DbDataReader dr) in C:\IMPORTANT\AdminService\Admin.IDP\DataReaderExtensions.cs:line 31
   at Admin.IDP.Services.CompanyService.GetUserRecordsAsync(String strAssemblyCode, String strAssemblyUserId) in C:\IMPORTANT\AdminService\Admin.IDP\Services\CompanyService.cs:line 66
   at Admin.IDP.ProfileService.GetProfileDataAsync(ProfileDataRequestContext context) in C:\IMPORTANT\AdminService\Admin.IDP\ProfileService.cs:line 47
   at IdentityServer4.Services.DefaultClaimsService.GetAccessTokenClaimsAsync(ClaimsPrincipal subject, ResourceValidationResult resourceResult, ValidatedRequest request)
   at IdentityServer4.Services.DefaultTokenService.CreateAccessTokenAsync(TokenCreationRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAuthorizationCodeRequestAsync(TokenRequestValidationResult request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-08-29 19:02:23.967 +01:00 [INF] Application is shutting down...
2020-08-29 19:03:52.899 +01:00 [INF] Starting host...
2020-08-29 19:03:55.119 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-08-29 19:03:55.132 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-08-29 19:03:55.133 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-08-29 19:03:55.133 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-08-29 19:03:55.133 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-08-29 19:03:55.134 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-08-29 19:03:55.134 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-08-29 19:03:55.312 +01:00 [INF] Now listening on: https://localhost:5001
2020-08-29 19:03:55.312 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-29 19:03:55.312 +01:00 [INF] Hosting environment: Development
2020-08-29 19:03:55.316 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-08-29 19:03:58.768 +01:00 [DBG] Login Url: /Account/Login
2020-08-29 19:03:58.770 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-08-29 19:03:58.772 +01:00 [DBG] Logout Url: /Account/Logout
2020-08-29 19:03:58.774 +01:00 [DBG] ConsentUrl Url: /consent
2020-08-29 19:03:58.776 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-08-29 19:03:58.776 +01:00 [DBG] Error Url: /home/error
2020-08-29 19:03:58.777 +01:00 [DBG] Error Id Parameter: errorId
2020-08-29 19:04:23.683 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-08-29 19:04:23.724 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-08-29 19:04:23.725 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-08-29 19:04:23.727 +01:00 [DBG] Start authorize request
2020-08-29 19:04:23.731 +01:00 [DBG] User in authorize request: 2c5fc677-ad73-4109-85ff-4699aff81e2b
2020-08-29 19:04:23.741 +01:00 [DBG] Start authorize request protocol validation
2020-08-29 19:04:24.866 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-29 19:04:24.873 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-29 19:04:24.883 +01:00 [DBG] Checking for PKCE parameters
2020-08-29 19:04:24.884 +01:00 [DBG] No PKCE used.
2020-08-29 19:04:25.054 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-08-29 19:04:25.286 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-08-29 19:04:25.370 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-08-29 19:04:25.396 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-08-29 19:04:25.406 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html"],"SubjectId":"2c5fc677-ad73-4109-85ff-4699aff81e2b","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi profile openid email","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"3E69E1A23408CC40C92AC55C98D16EA9","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi profile openid email","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-08-29 19:04:25.594 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-08-29 19:04:25.596 +01:00 [DBG] Creating Authorization Code Flow response.
2020-08-29 19:04:25.680 +01:00 [DBG] uD45Hl1cZ5Jz3UpjAUrQCVI4M342d/m/7cCoaOn8b5w= not found in database
2020-08-29 19:04:26.107 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"2c5fc677-ad73-4109-85ff-4699aff81e2b","Scopes":"collectorapi profile openid email","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****B3DE","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2C8NILUR5U:00000001","TimeStamp":"2020-08-29T18:04:26.0000000Z","ProcessId":39836,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-08-29 19:04:26.114 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"2c5fc677-ad73-4109-85ff-4699aff81e2b","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi profile openid email","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-08-29 19:04:26.126 +01:00 [DBG] Augmenting SignInContext
2020-08-29 19:04:26.136 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-08-29 19:04:26.382 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-08-29 19:04:26.392 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-08-29 19:04:26.394 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-08-29 19:04:26.398 +01:00 [DBG] Start token request.
2020-08-29 19:04:26.399 +01:00 [DBG] Start client validation
2020-08-29 19:04:26.402 +01:00 [DBG] Start parsing Basic Authentication secret
2020-08-29 19:04:26.403 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-08-29 19:04:26.403 +01:00 [DBG] Secret id found: TaxAdminCode
2020-08-29 19:04:27.205 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-29 19:04:27.206 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-29 19:04:27.208 +01:00 [DBG] Public Client - skipping secret validation success
2020-08-29 19:04:27.209 +01:00 [DBG] Client validation success
2020-08-29 19:04:27.213 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2C8NILUR61:00000001","TimeStamp":"2020-08-29T18:04:27.0000000Z","ProcessId":39836,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-08-29 19:04:27.220 +01:00 [DBG] Start token request validation
2020-08-29 19:04:27.223 +01:00 [DBG] Start validation of authorization code token request
2020-08-29 19:04:27.356 +01:00 [DBG] uD45Hl1cZ5Jz3UpjAUrQCVI4M342d/m/7cCoaOn8b5w= found in database: true
2020-08-29 19:04:27.473 +01:00 [DBG] removing uD45Hl1cZ5Jz3UpjAUrQCVI4M342d/m/7cCoaOn8b5w= persisted grant from database
2020-08-29 19:04:27.791 +01:00 [DBG] Validation of authorization code token request success
2020-08-29 19:04:27.795 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"1C01D2BFCA54EDB9A738F3A880CC4140D6305EF13D9C5C09A729C9809E74B3DE","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"1C01D2BFCA54EDB9A738F3A880CC4140D6305EF13D9C5C09A729C9809E74B3DE","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-08-29 19:04:28.520 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-29 19:04:28.521 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-29 19:04:28.614 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-08-29 19:04:28.757 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-08-29 19:04:28.792 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-08-29 19:04:28.803 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-08-29 19:04:28.805 +01:00 [DBG] Getting claims for access token for subject: 2c5fc677-ad73-4109-85ff-4699aff81e2b
2020-08-29 19:04:57.991 +01:00 [WRN] No type was specified for the decimal column 'nCashLimit' on entity type 'AspNetUsers'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-29 19:05:26.386 +01:00 [INF] {"Details":"System.ArgumentException: Object of type 'System.String' cannot be converted to type 'System.Guid'.\r\n   at System.RuntimeType.TryChangeType(Object value, Binder binder, CultureInfo culture, Boolean needsSpecialCast)\r\n   at System.Reflection.MethodBase.CheckArguments(Object[] parameters, Binder binder, BindingFlags invokeAttr, CultureInfo culture, Signature sig)\r\n   at System.Reflection.RuntimeMethodInfo.InvokeArgumentsCheck(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\r\n   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\r\n   at System.Reflection.RuntimePropertyInfo.SetValue(Object obj, Object value, BindingFlags invokeAttr, Binder binder, Object[] index, CultureInfo culture)\r\n   at System.Reflection.RuntimePropertyInfo.SetValue(Object obj, Object value, Object[] index)\r\n   at Admin.IDP.DataReaderExtensions.MapToList[T](DbDataReader dr) in C:\\IMPORTANT\\AdminService\\Admin.IDP\\DataReaderExtensions.cs:line 31\r\n   at Admin.IDP.Services.CompanyService.GetUserRecordsAsync(String strAssemblyCode, String strAssemblyUserId) in C:\\IMPORTANT\\AdminService\\Admin.IDP\\Services\\CompanyService.cs:line 66\r\n   at Admin.IDP.ProfileService.GetProfileDataAsync(ProfileDataRequestContext context) in C:\\IMPORTANT\\AdminService\\Admin.IDP\\ProfileService.cs:line 47\r\n   at IdentityServer4.Services.DefaultClaimsService.GetAccessTokenClaimsAsync(ClaimsPrincipal subject, ResourceValidationResult resourceResult, ValidatedRequest request)\r\n   at IdentityServer4.Services.DefaultTokenService.CreateAccessTokenAsync(TokenCreationRequest request)\r\n   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request)\r\n   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAuthorizationCodeRequestAsync(TokenRequestValidationResult request)\r\n   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request)\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Object of type 'System.String' cannot be converted to type 'System.Guid'.","ActivityId":"0HM2C8NILUR61:00000001","TimeStamp":"2020-08-29T18:05:26.0000000Z","ProcessId":39836,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2020-08-29 19:05:26.396 +01:00 [FTL] Unhandled exception: Object of type 'System.String' cannot be converted to type 'System.Guid'.
System.ArgumentException: Object of type 'System.String' cannot be converted to type 'System.Guid'.
   at System.RuntimeType.TryChangeType(Object value, Binder binder, CultureInfo culture, Boolean needsSpecialCast)
   at System.Reflection.MethodBase.CheckArguments(Object[] parameters, Binder binder, BindingFlags invokeAttr, CultureInfo culture, Signature sig)
   at System.Reflection.RuntimeMethodInfo.InvokeArgumentsCheck(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimePropertyInfo.SetValue(Object obj, Object value, BindingFlags invokeAttr, Binder binder, Object[] index, CultureInfo culture)
   at System.Reflection.RuntimePropertyInfo.SetValue(Object obj, Object value, Object[] index)
   at Admin.IDP.DataReaderExtensions.MapToList[T](DbDataReader dr) in C:\IMPORTANT\AdminService\Admin.IDP\DataReaderExtensions.cs:line 31
   at Admin.IDP.Services.CompanyService.GetUserRecordsAsync(String strAssemblyCode, String strAssemblyUserId) in C:\IMPORTANT\AdminService\Admin.IDP\Services\CompanyService.cs:line 66
   at Admin.IDP.ProfileService.GetProfileDataAsync(ProfileDataRequestContext context) in C:\IMPORTANT\AdminService\Admin.IDP\ProfileService.cs:line 47
   at IdentityServer4.Services.DefaultClaimsService.GetAccessTokenClaimsAsync(ClaimsPrincipal subject, ResourceValidationResult resourceResult, ValidatedRequest request)
   at IdentityServer4.Services.DefaultTokenService.CreateAccessTokenAsync(TokenCreationRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAuthorizationCodeRequestAsync(TokenRequestValidationResult request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
2020-08-29 19:05:26.406 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Object of type 'System.String' cannot be converted to type 'System.Guid'.
   at System.RuntimeType.TryChangeType(Object value, Binder binder, CultureInfo culture, Boolean needsSpecialCast)
   at System.Reflection.MethodBase.CheckArguments(Object[] parameters, Binder binder, BindingFlags invokeAttr, CultureInfo culture, Signature sig)
   at System.Reflection.RuntimeMethodInfo.InvokeArgumentsCheck(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimePropertyInfo.SetValue(Object obj, Object value, BindingFlags invokeAttr, Binder binder, Object[] index, CultureInfo culture)
   at System.Reflection.RuntimePropertyInfo.SetValue(Object obj, Object value, Object[] index)
   at Admin.IDP.DataReaderExtensions.MapToList[T](DbDataReader dr) in C:\IMPORTANT\AdminService\Admin.IDP\DataReaderExtensions.cs:line 31
   at Admin.IDP.Services.CompanyService.GetUserRecordsAsync(String strAssemblyCode, String strAssemblyUserId) in C:\IMPORTANT\AdminService\Admin.IDP\Services\CompanyService.cs:line 66
   at Admin.IDP.ProfileService.GetProfileDataAsync(ProfileDataRequestContext context) in C:\IMPORTANT\AdminService\Admin.IDP\ProfileService.cs:line 47
   at IdentityServer4.Services.DefaultClaimsService.GetAccessTokenClaimsAsync(ClaimsPrincipal subject, ResourceValidationResult resourceResult, ValidatedRequest request)
   at IdentityServer4.Services.DefaultTokenService.CreateAccessTokenAsync(TokenCreationRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAuthorizationCodeRequestAsync(TokenRequestValidationResult request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-08-29 19:10:42.515 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-08-29 19:10:42.518 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-08-29 19:10:42.520 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-08-29 19:10:42.521 +01:00 [DBG] Start authorize request
2020-08-29 19:10:42.522 +01:00 [DBG] User in authorize request: 2c5fc677-ad73-4109-85ff-4699aff81e2b
2020-08-29 19:10:42.524 +01:00 [DBG] Start authorize request protocol validation
2020-08-29 19:10:43.730 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-29 19:10:43.731 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-29 19:10:43.733 +01:00 [DBG] Checking for PKCE parameters
2020-08-29 19:10:43.733 +01:00 [DBG] No PKCE used.
2020-08-29 19:10:43.856 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-08-29 19:10:43.996 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-08-29 19:10:44.063 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-08-29 19:10:44.067 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-08-29 19:10:44.067 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html"],"SubjectId":"2c5fc677-ad73-4109-85ff-4699aff81e2b","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi profile openid email","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"3E69E1A23408CC40C92AC55C98D16EA9","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi profile openid email","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-08-29 19:10:44.208 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-08-29 19:10:44.209 +01:00 [DBG] Creating Authorization Code Flow response.
2020-08-29 19:10:44.316 +01:00 [DBG] fSfs5ldOCdtD7agEwL67gea2fAnRtrkwg+cx9K+IOKA= not found in database
2020-08-29 19:10:44.565 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"2c5fc677-ad73-4109-85ff-4699aff81e2b","Scopes":"collectorapi profile openid email","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****8D05","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2C8NILUR62:00000001","TimeStamp":"2020-08-29T18:10:44.0000000Z","ProcessId":39836,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-08-29 19:10:44.569 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"2c5fc677-ad73-4109-85ff-4699aff81e2b","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi profile openid email","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-08-29 19:10:44.571 +01:00 [DBG] Augmenting SignInContext
2020-08-29 19:10:44.571 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-08-29 19:10:44.810 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-08-29 19:10:44.812 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-08-29 19:10:44.815 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-08-29 19:10:44.816 +01:00 [DBG] Start token request.
2020-08-29 19:10:44.816 +01:00 [DBG] Start client validation
2020-08-29 19:10:44.817 +01:00 [DBG] Start parsing Basic Authentication secret
2020-08-29 19:10:44.817 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-08-29 19:10:44.817 +01:00 [DBG] Secret id found: TaxAdminCode
2020-08-29 19:10:45.551 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-29 19:10:45.552 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-29 19:10:45.553 +01:00 [DBG] Public Client - skipping secret validation success
2020-08-29 19:10:45.553 +01:00 [DBG] Client validation success
2020-08-29 19:10:45.554 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2C8NILUR61:00000002","TimeStamp":"2020-08-29T18:10:45.0000000Z","ProcessId":39836,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-08-29 19:10:45.557 +01:00 [DBG] Start token request validation
2020-08-29 19:10:45.557 +01:00 [DBG] Start validation of authorization code token request
2020-08-29 19:10:45.634 +01:00 [DBG] fSfs5ldOCdtD7agEwL67gea2fAnRtrkwg+cx9K+IOKA= found in database: true
2020-08-29 19:10:45.753 +01:00 [DBG] removing fSfs5ldOCdtD7agEwL67gea2fAnRtrkwg+cx9K+IOKA= persisted grant from database
2020-08-29 19:10:46.034 +01:00 [DBG] Validation of authorization code token request success
2020-08-29 19:10:46.035 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"C9BFA1FF43EF91851224A3E953BD1D29E95448F237DF1D23686C5FC81D5C8D05","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"C9BFA1FF43EF91851224A3E953BD1D29E95448F237DF1D23686C5FC81D5C8D05","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-08-29 19:10:46.813 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-29 19:10:46.817 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-29 19:10:46.936 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-08-29 19:10:47.033 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-08-29 19:10:47.079 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-08-29 19:10:47.081 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-08-29 19:10:47.081 +01:00 [DBG] Getting claims for access token for subject: 2c5fc677-ad73-4109-85ff-4699aff81e2b
2020-08-29 19:11:09.749 +01:00 [INF] {"Details":"System.ArgumentException: Object of type 'System.String' cannot be converted to type 'System.Guid'.\r\n   at System.RuntimeType.TryChangeType(Object value, Binder binder, CultureInfo culture, Boolean needsSpecialCast)\r\n   at System.Reflection.MethodBase.CheckArguments(Object[] parameters, Binder binder, BindingFlags invokeAttr, CultureInfo culture, Signature sig)\r\n   at System.Reflection.RuntimeMethodInfo.InvokeArgumentsCheck(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\r\n   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\r\n   at System.Reflection.RuntimePropertyInfo.SetValue(Object obj, Object value, BindingFlags invokeAttr, Binder binder, Object[] index, CultureInfo culture)\r\n   at System.Reflection.RuntimePropertyInfo.SetValue(Object obj, Object value, Object[] index)\r\n   at Admin.IDP.DataReaderExtensions.MapToList[T](DbDataReader dr) in C:\\IMPORTANT\\AdminService\\Admin.IDP\\DataReaderExtensions.cs:line 31\r\n   at Admin.IDP.Services.CompanyService.GetUserRecordsAsync(String strAssemblyCode, String strAssemblyUserId) in C:\\IMPORTANT\\AdminService\\Admin.IDP\\Services\\CompanyService.cs:line 66\r\n   at Admin.IDP.ProfileService.GetProfileDataAsync(ProfileDataRequestContext context) in C:\\IMPORTANT\\AdminService\\Admin.IDP\\ProfileService.cs:line 47\r\n   at IdentityServer4.Services.DefaultClaimsService.GetAccessTokenClaimsAsync(ClaimsPrincipal subject, ResourceValidationResult resourceResult, ValidatedRequest request)\r\n   at IdentityServer4.Services.DefaultTokenService.CreateAccessTokenAsync(TokenCreationRequest request)\r\n   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request)\r\n   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAuthorizationCodeRequestAsync(TokenRequestValidationResult request)\r\n   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request)\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Object of type 'System.String' cannot be converted to type 'System.Guid'.","ActivityId":"0HM2C8NILUR61:00000002","TimeStamp":"2020-08-29T18:11:09.0000000Z","ProcessId":39836,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2020-08-29 19:11:09.756 +01:00 [FTL] Unhandled exception: Object of type 'System.String' cannot be converted to type 'System.Guid'.
System.ArgumentException: Object of type 'System.String' cannot be converted to type 'System.Guid'.
   at System.RuntimeType.TryChangeType(Object value, Binder binder, CultureInfo culture, Boolean needsSpecialCast)
   at System.Reflection.MethodBase.CheckArguments(Object[] parameters, Binder binder, BindingFlags invokeAttr, CultureInfo culture, Signature sig)
   at System.Reflection.RuntimeMethodInfo.InvokeArgumentsCheck(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimePropertyInfo.SetValue(Object obj, Object value, BindingFlags invokeAttr, Binder binder, Object[] index, CultureInfo culture)
   at System.Reflection.RuntimePropertyInfo.SetValue(Object obj, Object value, Object[] index)
   at Admin.IDP.DataReaderExtensions.MapToList[T](DbDataReader dr) in C:\IMPORTANT\AdminService\Admin.IDP\DataReaderExtensions.cs:line 31
   at Admin.IDP.Services.CompanyService.GetUserRecordsAsync(String strAssemblyCode, String strAssemblyUserId) in C:\IMPORTANT\AdminService\Admin.IDP\Services\CompanyService.cs:line 66
   at Admin.IDP.ProfileService.GetProfileDataAsync(ProfileDataRequestContext context) in C:\IMPORTANT\AdminService\Admin.IDP\ProfileService.cs:line 47
   at IdentityServer4.Services.DefaultClaimsService.GetAccessTokenClaimsAsync(ClaimsPrincipal subject, ResourceValidationResult resourceResult, ValidatedRequest request)
   at IdentityServer4.Services.DefaultTokenService.CreateAccessTokenAsync(TokenCreationRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAuthorizationCodeRequestAsync(TokenRequestValidationResult request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
2020-08-29 19:11:09.764 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Object of type 'System.String' cannot be converted to type 'System.Guid'.
   at System.RuntimeType.TryChangeType(Object value, Binder binder, CultureInfo culture, Boolean needsSpecialCast)
   at System.Reflection.MethodBase.CheckArguments(Object[] parameters, Binder binder, BindingFlags invokeAttr, CultureInfo culture, Signature sig)
   at System.Reflection.RuntimeMethodInfo.InvokeArgumentsCheck(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimePropertyInfo.SetValue(Object obj, Object value, BindingFlags invokeAttr, Binder binder, Object[] index, CultureInfo culture)
   at System.Reflection.RuntimePropertyInfo.SetValue(Object obj, Object value, Object[] index)
   at Admin.IDP.DataReaderExtensions.MapToList[T](DbDataReader dr) in C:\IMPORTANT\AdminService\Admin.IDP\DataReaderExtensions.cs:line 31
   at Admin.IDP.Services.CompanyService.GetUserRecordsAsync(String strAssemblyCode, String strAssemblyUserId) in C:\IMPORTANT\AdminService\Admin.IDP\Services\CompanyService.cs:line 66
   at Admin.IDP.ProfileService.GetProfileDataAsync(ProfileDataRequestContext context) in C:\IMPORTANT\AdminService\Admin.IDP\ProfileService.cs:line 47
   at IdentityServer4.Services.DefaultClaimsService.GetAccessTokenClaimsAsync(ClaimsPrincipal subject, ResourceValidationResult resourceResult, ValidatedRequest request)
   at IdentityServer4.Services.DefaultTokenService.CreateAccessTokenAsync(TokenCreationRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAuthorizationCodeRequestAsync(TokenRequestValidationResult request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-08-29 19:14:04.177 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-08-29 19:14:04.186 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-08-29 19:14:04.189 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-08-29 19:14:04.192 +01:00 [DBG] Start authorize request
2020-08-29 19:14:04.193 +01:00 [DBG] User in authorize request: 2c5fc677-ad73-4109-85ff-4699aff81e2b
2020-08-29 19:14:04.194 +01:00 [DBG] Start authorize request protocol validation
2020-08-29 19:14:04.988 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-29 19:14:04.990 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-29 19:14:04.997 +01:00 [DBG] Checking for PKCE parameters
2020-08-29 19:14:04.998 +01:00 [DBG] No PKCE used.
2020-08-29 19:14:05.107 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-08-29 19:14:05.274 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-08-29 19:14:05.315 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-08-29 19:14:05.322 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-08-29 19:14:05.334 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html"],"SubjectId":"2c5fc677-ad73-4109-85ff-4699aff81e2b","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi profile openid email","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"3E69E1A23408CC40C92AC55C98D16EA9","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi profile openid email","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-08-29 19:14:05.499 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-08-29 19:14:05.500 +01:00 [DBG] Creating Authorization Code Flow response.
2020-08-29 19:14:05.613 +01:00 [DBG] 4BZpKX2alhKB46/B+1GVmqxhmWWGOmQsWuWVy3hN+5g= not found in database
2020-08-29 19:14:05.863 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"2c5fc677-ad73-4109-85ff-4699aff81e2b","Scopes":"collectorapi profile openid email","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****DBB6","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2C8NILUR63:00000001","TimeStamp":"2020-08-29T18:14:05.0000000Z","ProcessId":39836,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-08-29 19:14:05.866 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"2c5fc677-ad73-4109-85ff-4699aff81e2b","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi profile openid email","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-08-29 19:14:05.869 +01:00 [DBG] Augmenting SignInContext
2020-08-29 19:14:05.870 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-08-29 19:14:06.089 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-08-29 19:14:06.104 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-08-29 19:14:06.106 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-08-29 19:14:06.107 +01:00 [DBG] Start token request.
2020-08-29 19:14:06.107 +01:00 [DBG] Start client validation
2020-08-29 19:14:06.107 +01:00 [DBG] Start parsing Basic Authentication secret
2020-08-29 19:14:06.108 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-08-29 19:14:06.108 +01:00 [DBG] Secret id found: TaxAdminCode
2020-08-29 19:14:06.789 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-29 19:14:06.790 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-29 19:14:06.795 +01:00 [DBG] Public Client - skipping secret validation success
2020-08-29 19:14:06.796 +01:00 [DBG] Client validation success
2020-08-29 19:14:06.796 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2C8NILUR61:00000003","TimeStamp":"2020-08-29T18:14:06.0000000Z","ProcessId":39836,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-08-29 19:14:06.799 +01:00 [DBG] Start token request validation
2020-08-29 19:14:06.799 +01:00 [DBG] Start validation of authorization code token request
2020-08-29 19:14:06.934 +01:00 [DBG] 4BZpKX2alhKB46/B+1GVmqxhmWWGOmQsWuWVy3hN+5g= found in database: true
2020-08-29 19:14:07.079 +01:00 [DBG] removing 4BZpKX2alhKB46/B+1GVmqxhmWWGOmQsWuWVy3hN+5g= persisted grant from database
2020-08-29 19:14:07.366 +01:00 [DBG] Validation of authorization code token request success
2020-08-29 19:14:07.366 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"224C2B397FD8F203BA2007C4E13608536CE101A3D09D91B45D5793FA356EDBB6","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"224C2B397FD8F203BA2007C4E13608536CE101A3D09D91B45D5793FA356EDBB6","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-08-29 19:14:08.163 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-29 19:14:08.163 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-29 19:14:08.282 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-08-29 19:14:08.407 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-08-29 19:14:08.463 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-08-29 19:14:08.465 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-08-29 19:14:08.465 +01:00 [DBG] Getting claims for access token for subject: 2c5fc677-ad73-4109-85ff-4699aff81e2b
2020-08-29 19:21:26.194 +01:00 [INF] {"Details":"System.ArgumentException: Object of type 'System.String' cannot be converted to type 'System.Guid'.\r\n   at System.RuntimeType.TryChangeType(Object value, Binder binder, CultureInfo culture, Boolean needsSpecialCast)\r\n   at System.Reflection.MethodBase.CheckArguments(Object[] parameters, Binder binder, BindingFlags invokeAttr, CultureInfo culture, Signature sig)\r\n   at System.Reflection.RuntimeMethodInfo.InvokeArgumentsCheck(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\r\n   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\r\n   at System.Reflection.RuntimePropertyInfo.SetValue(Object obj, Object value, BindingFlags invokeAttr, Binder binder, Object[] index, CultureInfo culture)\r\n   at System.Reflection.RuntimePropertyInfo.SetValue(Object obj, Object value, Object[] index)\r\n   at Admin.IDP.DataReaderExtensions.MapToList[T](DbDataReader dr) in C:\\IMPORTANT\\AdminService\\Admin.IDP\\DataReaderExtensions.cs:line 31\r\n   at Admin.IDP.Services.CompanyService.GetUserRecordsAsync(String strAssemblyCode, String strAssemblyUserId) in C:\\IMPORTANT\\AdminService\\Admin.IDP\\Services\\CompanyService.cs:line 66\r\n   at Admin.IDP.ProfileService.GetProfileDataAsync(ProfileDataRequestContext context) in C:\\IMPORTANT\\AdminService\\Admin.IDP\\ProfileService.cs:line 47\r\n   at IdentityServer4.Services.DefaultClaimsService.GetAccessTokenClaimsAsync(ClaimsPrincipal subject, ResourceValidationResult resourceResult, ValidatedRequest request)\r\n   at IdentityServer4.Services.DefaultTokenService.CreateAccessTokenAsync(TokenCreationRequest request)\r\n   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request)\r\n   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAuthorizationCodeRequestAsync(TokenRequestValidationResult request)\r\n   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request)\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Object of type 'System.String' cannot be converted to type 'System.Guid'.","ActivityId":"0HM2C8NILUR61:00000003","TimeStamp":"2020-08-29T18:21:26.0000000Z","ProcessId":39836,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2020-08-29 19:21:26.201 +01:00 [FTL] Unhandled exception: Object of type 'System.String' cannot be converted to type 'System.Guid'.
System.ArgumentException: Object of type 'System.String' cannot be converted to type 'System.Guid'.
   at System.RuntimeType.TryChangeType(Object value, Binder binder, CultureInfo culture, Boolean needsSpecialCast)
   at System.Reflection.MethodBase.CheckArguments(Object[] parameters, Binder binder, BindingFlags invokeAttr, CultureInfo culture, Signature sig)
   at System.Reflection.RuntimeMethodInfo.InvokeArgumentsCheck(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimePropertyInfo.SetValue(Object obj, Object value, BindingFlags invokeAttr, Binder binder, Object[] index, CultureInfo culture)
   at System.Reflection.RuntimePropertyInfo.SetValue(Object obj, Object value, Object[] index)
   at Admin.IDP.DataReaderExtensions.MapToList[T](DbDataReader dr) in C:\IMPORTANT\AdminService\Admin.IDP\DataReaderExtensions.cs:line 31
   at Admin.IDP.Services.CompanyService.GetUserRecordsAsync(String strAssemblyCode, String strAssemblyUserId) in C:\IMPORTANT\AdminService\Admin.IDP\Services\CompanyService.cs:line 66
   at Admin.IDP.ProfileService.GetProfileDataAsync(ProfileDataRequestContext context) in C:\IMPORTANT\AdminService\Admin.IDP\ProfileService.cs:line 47
   at IdentityServer4.Services.DefaultClaimsService.GetAccessTokenClaimsAsync(ClaimsPrincipal subject, ResourceValidationResult resourceResult, ValidatedRequest request)
   at IdentityServer4.Services.DefaultTokenService.CreateAccessTokenAsync(TokenCreationRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAuthorizationCodeRequestAsync(TokenRequestValidationResult request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
2020-08-29 19:21:26.211 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Object of type 'System.String' cannot be converted to type 'System.Guid'.
   at System.RuntimeType.TryChangeType(Object value, Binder binder, CultureInfo culture, Boolean needsSpecialCast)
   at System.Reflection.MethodBase.CheckArguments(Object[] parameters, Binder binder, BindingFlags invokeAttr, CultureInfo culture, Signature sig)
   at System.Reflection.RuntimeMethodInfo.InvokeArgumentsCheck(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimePropertyInfo.SetValue(Object obj, Object value, BindingFlags invokeAttr, Binder binder, Object[] index, CultureInfo culture)
   at System.Reflection.RuntimePropertyInfo.SetValue(Object obj, Object value, Object[] index)
   at Admin.IDP.DataReaderExtensions.MapToList[T](DbDataReader dr) in C:\IMPORTANT\AdminService\Admin.IDP\DataReaderExtensions.cs:line 31
   at Admin.IDP.Services.CompanyService.GetUserRecordsAsync(String strAssemblyCode, String strAssemblyUserId) in C:\IMPORTANT\AdminService\Admin.IDP\Services\CompanyService.cs:line 66
   at Admin.IDP.ProfileService.GetProfileDataAsync(ProfileDataRequestContext context) in C:\IMPORTANT\AdminService\Admin.IDP\ProfileService.cs:line 47
   at IdentityServer4.Services.DefaultClaimsService.GetAccessTokenClaimsAsync(ClaimsPrincipal subject, ResourceValidationResult resourceResult, ValidatedRequest request)
   at IdentityServer4.Services.DefaultTokenService.CreateAccessTokenAsync(TokenCreationRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAuthorizationCodeRequestAsync(TokenRequestValidationResult request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-08-29 19:22:57.165 +01:00 [INF] Starting host...
2020-08-29 19:22:59.625 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-08-29 19:22:59.640 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-08-29 19:22:59.640 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-08-29 19:22:59.641 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-08-29 19:22:59.641 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-08-29 19:22:59.642 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-08-29 19:22:59.642 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-08-29 19:22:59.821 +01:00 [INF] Now listening on: https://localhost:5001
2020-08-29 19:22:59.822 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-29 19:22:59.822 +01:00 [INF] Hosting environment: Development
2020-08-29 19:22:59.823 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-08-29 19:23:02.115 +01:00 [DBG] Login Url: /Account/Login
2020-08-29 19:23:02.117 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-08-29 19:23:02.118 +01:00 [DBG] Logout Url: /Account/Logout
2020-08-29 19:23:02.119 +01:00 [DBG] ConsentUrl Url: /consent
2020-08-29 19:23:02.120 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-08-29 19:23:02.120 +01:00 [DBG] Error Url: /home/error
2020-08-29 19:23:02.121 +01:00 [DBG] Error Id Parameter: errorId
2020-08-29 19:23:18.550 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-08-29 19:23:18.591 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-08-29 19:23:18.593 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-08-29 19:23:18.595 +01:00 [DBG] Start authorize request
2020-08-29 19:23:18.608 +01:00 [DBG] User in authorize request: 2c5fc677-ad73-4109-85ff-4699aff81e2b
2020-08-29 19:23:18.629 +01:00 [DBG] Start authorize request protocol validation
2020-08-29 19:23:19.805 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-29 19:23:19.812 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-29 19:23:19.823 +01:00 [DBG] Checking for PKCE parameters
2020-08-29 19:23:19.824 +01:00 [DBG] No PKCE used.
2020-08-29 19:23:20.026 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-08-29 19:23:20.261 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-08-29 19:23:20.374 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-08-29 19:23:20.398 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-08-29 19:23:20.410 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html"],"SubjectId":"2c5fc677-ad73-4109-85ff-4699aff81e2b","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi profile openid email","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"3E69E1A23408CC40C92AC55C98D16EA9","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi profile openid email","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-08-29 19:23:20.633 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-08-29 19:23:20.635 +01:00 [DBG] Creating Authorization Code Flow response.
2020-08-29 19:23:20.731 +01:00 [DBG] khddaO+cQiURGPogZiQXi7HODz1ZzKgAzUTneDHYprE= not found in database
2020-08-29 19:23:21.224 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"2c5fc677-ad73-4109-85ff-4699aff81e2b","Scopes":"collectorapi profile openid email","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****CA69","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2C927MROLC:00000001","TimeStamp":"2020-08-29T18:23:21.0000000Z","ProcessId":31560,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-08-29 19:23:21.231 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"2c5fc677-ad73-4109-85ff-4699aff81e2b","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi profile openid email","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-08-29 19:23:21.244 +01:00 [DBG] Augmenting SignInContext
2020-08-29 19:23:21.256 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-08-29 19:23:21.505 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-08-29 19:23:21.511 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-08-29 19:23:21.513 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-08-29 19:23:21.516 +01:00 [DBG] Start token request.
2020-08-29 19:23:21.518 +01:00 [DBG] Start client validation
2020-08-29 19:23:21.520 +01:00 [DBG] Start parsing Basic Authentication secret
2020-08-29 19:23:21.521 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-08-29 19:23:21.521 +01:00 [DBG] Secret id found: TaxAdminCode
2020-08-29 19:23:22.317 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-29 19:23:22.318 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-29 19:23:22.321 +01:00 [DBG] Public Client - skipping secret validation success
2020-08-29 19:23:22.322 +01:00 [DBG] Client validation success
2020-08-29 19:23:22.323 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2C927MROLE:00000001","TimeStamp":"2020-08-29T18:23:22.0000000Z","ProcessId":31560,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-08-29 19:23:22.331 +01:00 [DBG] Start token request validation
2020-08-29 19:23:22.334 +01:00 [DBG] Start validation of authorization code token request
2020-08-29 19:23:22.467 +01:00 [DBG] khddaO+cQiURGPogZiQXi7HODz1ZzKgAzUTneDHYprE= found in database: true
2020-08-29 19:23:22.659 +01:00 [DBG] removing khddaO+cQiURGPogZiQXi7HODz1ZzKgAzUTneDHYprE= persisted grant from database
2020-08-29 19:23:23.001 +01:00 [DBG] Validation of authorization code token request success
2020-08-29 19:23:23.004 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"3D2ED30601DAEB7FE4B02398C0054950884CC642A58C787A58F74F31D667CA69","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"3D2ED30601DAEB7FE4B02398C0054950884CC642A58C787A58F74F31D667CA69","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-08-29 19:23:24.025 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-29 19:23:24.027 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-29 19:23:24.154 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-08-29 19:23:24.290 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-08-29 19:23:24.337 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-08-29 19:23:24.347 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-08-29 19:23:24.348 +01:00 [DBG] Getting claims for access token for subject: 2c5fc677-ad73-4109-85ff-4699aff81e2b
2020-08-29 19:23:47.416 +01:00 [WRN] No type was specified for the decimal column 'nCashLimit' on entity type 'AspNetUsers'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-08-29 19:25:27.738 +01:00 [DBG] TaxAdminCode found in database: true
2020-08-29 19:25:27.739 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-08-29 19:25:27.872 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-08-29 19:25:28.017 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-08-29 19:25:28.060 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-08-29 19:25:28.067 +01:00 [DBG] Getting claims for identity token for subject: 2c5fc677-ad73-4109-85ff-4699aff81e2b and client: TaxAdminCode
2020-08-29 19:25:28.068 +01:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-08-29 19:25:28.072 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"2c5fc677-ad73-4109-85ff-4699aff81e2b","Scopes":"collectorapi profile openid email","GrantType":"authorization_code","Tokens":[{"TokenType":"id_token","TokenValue":"****CKYA","$type":"Token"},{"TokenType":"access_token","TokenValue":"****feew","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2C927MROLE:00000001","TimeStamp":"2020-08-29T18:25:28.0000000Z","ProcessId":31560,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-08-29 19:25:28.077 +01:00 [DBG] Token request success.
2020-08-29 19:26:25.513 +01:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://jwt.io
2020-08-29 19:26:25.567 +01:00 [DBG] Origin https://jwt.io is allowed: false
2020-08-29 19:26:25.571 +01:00 [WRN] CorsPolicyService did not allow origin: https://jwt.io
2020-08-29 19:26:25.572 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-08-29 19:26:25.574 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-08-29 19:26:25.575 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-08-29 19:26:25.577 +01:00 [DBG] Start discovery request
2020-08-29 19:26:25.947 +01:00 [DBG] Found ["profile","openid","email","collectorapi"] as all scopes, and ["collectorapi","email","openid","profile"] as API resources
2020-08-31 16:15:12.127 +01:00 [INF] Starting host...
2020-08-31 16:15:16.651 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-08-31 16:15:16.673 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-08-31 16:15:16.674 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-08-31 16:15:16.674 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-08-31 16:15:16.674 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-08-31 16:15:16.674 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-08-31 16:15:16.675 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-08-31 16:15:17.448 +01:00 [INF] Now listening on: https://localhost:5001
2020-08-31 16:15:17.448 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-08-31 16:15:17.449 +01:00 [INF] Hosting environment: Development
2020-08-31 16:15:17.450 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-08-31 16:15:18.404 +01:00 [DBG] Login Url: /Account/Login
2020-08-31 16:15:18.407 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-08-31 16:15:18.408 +01:00 [DBG] Logout Url: /Account/Logout
2020-08-31 16:15:18.412 +01:00 [DBG] ConsentUrl Url: /consent
2020-08-31 16:15:18.413 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-08-31 16:15:18.413 +01:00 [DBG] Error Url: /home/error
2020-08-31 16:15:18.414 +01:00 [DBG] Error Id Parameter: errorId
2020-09-03 13:52:35.244 +01:00 [FTL] Host terminated unexpectedly.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger`1[System.String]' while attempting to activate 'Admin.IDP.Startup'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Hosting.GenericWebHostBuilder.UseStartup(Type startupType, HostBuilderContext context, IServiceCollection services)
   at Microsoft.AspNetCore.Hosting.GenericWebHostBuilder.<>c__DisplayClass12_0.<UseStartup>b__0(HostBuilderContext context, IServiceCollection services)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at Admin.IDP.Program.Main(String[] args) in C:\IMPORTANT\AdminService\Admin.IDP\Program.cs:line 50
2020-09-03 13:56:22.946 +01:00 [FTL] Host terminated unexpectedly.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILoggerFactory' while attempting to activate 'Admin.IDP.Startup'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Hosting.GenericWebHostBuilder.UseStartup(Type startupType, HostBuilderContext context, IServiceCollection services)
   at Microsoft.AspNetCore.Hosting.GenericWebHostBuilder.<>c__DisplayClass12_0.<UseStartup>b__0(HostBuilderContext context, IServiceCollection services)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at Admin.IDP.Program.Main(String[] args) in C:\IMPORTANT\AdminService\Admin.IDP\Program.cs:line 50
2020-09-03 14:33:35.642 +01:00 [FTL] Host terminated unexpectedly.
Internal.Cryptography.CryptoThrowHelper+WindowsCryptographicException: The specified network password is not correct.
   at Internal.Cryptography.Pal.CertificatePal.FilterPFXStore(Byte[] rawData, SafePasswordHandle password, PfxCertStoreFlags pfxCertStoreFlags)
   at Internal.Cryptography.Pal.CertificatePal.FromBlobOrFile(Byte[] rawData, String fileName, SafePasswordHandle password, X509KeyStorageFlags keyStorageFlags)
   at System.Security.Cryptography.X509Certificates.X509Certificate..ctor(String fileName, String password, X509KeyStorageFlags keyStorageFlags)
   at System.Security.Cryptography.X509Certificates.X509Certificate2..ctor(String fileName, String password)
   at Admin.IDP.Startup.ConfigureServices(IServiceCollection services) in C:\IMPORTANT\AdminService\Admin.IDP\Startup.cs:line 90
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.AspNetCore.Hosting.ConfigureServicesBuilder.InvokeCore(Object instance, IServiceCollection services)
   at Microsoft.AspNetCore.Hosting.ConfigureServicesBuilder.<>c__DisplayClass9_0.<Invoke>g__Startup|0(IServiceCollection serviceCollection)
   at Microsoft.AspNetCore.Hosting.ConfigureServicesBuilder.Invoke(Object instance, IServiceCollection services)
   at Microsoft.AspNetCore.Hosting.ConfigureServicesBuilder.<>c__DisplayClass8_0.<Build>b__0(IServiceCollection services)
   at Microsoft.AspNetCore.Hosting.GenericWebHostBuilder.UseStartup(Type startupType, HostBuilderContext context, IServiceCollection services)
   at Microsoft.AspNetCore.Hosting.GenericWebHostBuilder.<>c__DisplayClass12_0.<UseStartup>b__0(HostBuilderContext context, IServiceCollection services)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at Admin.IDP.Program.Main(String[] args) in C:\IMPORTANT\AdminService\Admin.IDP\Program.cs:line 50
2020-09-03 14:35:47.390 +01:00 [FTL] Host terminated unexpectedly.
Internal.Cryptography.CryptoThrowHelper+WindowsCryptographicException: The specified network password is not correct.
   at Internal.Cryptography.Pal.CertificatePal.FilterPFXStore(Byte[] rawData, SafePasswordHandle password, PfxCertStoreFlags pfxCertStoreFlags)
   at Internal.Cryptography.Pal.CertificatePal.FromBlobOrFile(Byte[] rawData, String fileName, SafePasswordHandle password, X509KeyStorageFlags keyStorageFlags)
   at System.Security.Cryptography.X509Certificates.X509Certificate..ctor(String fileName, String password, X509KeyStorageFlags keyStorageFlags)
   at System.Security.Cryptography.X509Certificates.X509Certificate2..ctor(String fileName, String password)
   at Admin.IDP.Startup.ConfigureServices(IServiceCollection services) in C:\IMPORTANT\AdminService\Admin.IDP\Startup.cs:line 90
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.AspNetCore.Hosting.ConfigureServicesBuilder.InvokeCore(Object instance, IServiceCollection services)
   at Microsoft.AspNetCore.Hosting.ConfigureServicesBuilder.<>c__DisplayClass9_0.<Invoke>g__Startup|0(IServiceCollection serviceCollection)
   at Microsoft.AspNetCore.Hosting.ConfigureServicesBuilder.Invoke(Object instance, IServiceCollection services)
   at Microsoft.AspNetCore.Hosting.ConfigureServicesBuilder.<>c__DisplayClass8_0.<Build>b__0(IServiceCollection services)
   at Microsoft.AspNetCore.Hosting.GenericWebHostBuilder.UseStartup(Type startupType, HostBuilderContext context, IServiceCollection services)
   at Microsoft.AspNetCore.Hosting.GenericWebHostBuilder.<>c__DisplayClass12_0.<UseStartup>b__0(HostBuilderContext context, IServiceCollection services)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at Admin.IDP.Program.Main(String[] args) in C:\IMPORTANT\AdminService\Admin.IDP\Program.cs:line 50
2020-09-03 16:40:04.591 +01:00 [INF] Starting host...
2020-09-03 16:40:10.312 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-03 16:40:10.353 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-03 16:40:10.354 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-03 16:40:10.354 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-03 16:40:10.355 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-03 16:40:10.355 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-03 16:40:10.355 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-03 16:40:11.293 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-03 16:40:11.294 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-03 16:40:11.295 +01:00 [INF] Hosting environment: Development
2020-09-03 16:40:11.295 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-03 16:40:37.774 +01:00 [DBG] Login Url: /Account/Login
2020-09-03 16:40:37.776 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-03 16:40:37.778 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-03 16:40:37.784 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-03 16:40:37.784 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-03 16:40:37.788 +01:00 [DBG] Error Url: /home/error
2020-09-03 16:40:37.790 +01:00 [DBG] Error Id Parameter: errorId
2020-09-08 03:51:34.484 +01:00 [INF] Starting host...
2020-09-08 03:51:38.932 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-08 03:51:38.983 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-08 03:51:38.984 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-08 03:51:38.985 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-08 03:51:38.985 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-08 03:51:38.986 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-08 03:51:38.987 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-08 03:51:39.404 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-08 03:51:39.405 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-08 03:51:39.406 +01:00 [INF] Hosting environment: Development
2020-09-08 03:51:39.407 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-08 03:51:41.153 +01:00 [DBG] Login Url: /Account/Login
2020-09-08 03:51:41.155 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-08 03:51:41.157 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-08 03:51:41.160 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-08 03:51:41.161 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-08 03:51:41.162 +01:00 [DBG] Error Url: /home/error
2020-09-08 03:51:41.162 +01:00 [DBG] Error Id Parameter: errorId
2020-09-08 09:55:04.749 +01:00 [INF] Starting host...
2020-09-08 09:55:09.188 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-08 09:55:09.203 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-08 09:55:09.203 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-08 09:55:09.204 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-08 09:55:09.204 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-08 09:55:09.204 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-08 09:55:09.205 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-08 09:55:10.493 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-08 09:55:10.493 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-08 09:55:10.493 +01:00 [INF] Hosting environment: Development
2020-09-08 09:55:10.494 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-08 09:55:13.366 +01:00 [DBG] Login Url: /Account/Login
2020-09-08 09:55:13.368 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-08 09:55:13.369 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-08 09:55:13.370 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-08 09:55:13.370 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-08 09:55:13.371 +01:00 [DBG] Error Url: /home/error
2020-09-08 09:55:13.372 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 08:24:12.179 +01:00 [INF] Starting host...
2020-09-09 08:24:16.811 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-09 08:24:16.834 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-09 08:24:16.835 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-09 08:24:16.835 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-09 08:24:16.836 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-09 08:24:16.836 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-09 08:24:16.837 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-09 08:24:17.036 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-09 08:24:17.036 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-09 08:24:17.037 +01:00 [INF] Hosting environment: Development
2020-09-09 08:24:17.039 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-09 08:24:19.401 +01:00 [DBG] Login Url: /Account/Login
2020-09-09 08:24:19.403 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-09 08:24:19.404 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-09 08:24:19.405 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-09 08:24:19.405 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-09 08:24:19.406 +01:00 [DBG] Error Url: /home/error
2020-09-09 08:24:19.406 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 08:29:49.228 +01:00 [INF] Starting host...
2020-09-09 08:29:57.017 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-09 08:29:57.040 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-09 08:29:57.041 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-09 08:29:57.041 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-09 08:29:57.043 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-09 08:29:57.043 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-09 08:29:57.045 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-09 08:29:57.453 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-09 08:29:57.453 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-09 08:29:57.453 +01:00 [INF] Hosting environment: Development
2020-09-09 08:29:57.454 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-09 08:29:59.130 +01:00 [DBG] Login Url: /Account/Login
2020-09-09 08:29:59.132 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-09 08:29:59.133 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-09 08:29:59.133 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-09 08:29:59.134 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-09 08:29:59.135 +01:00 [DBG] Error Url: /home/error
2020-09-09 08:29:59.135 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 08:30:07.123 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-09 08:30:07.194 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-09 08:30:07.196 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-09 08:30:07.201 +01:00 [DBG] Start discovery request
2020-09-09 08:30:08.293 +01:00 [DBG] Found ["profile","openid","email","collectorapi"] as all scopes, and ["collectorapi","email","openid","profile"] as API resources
2020-09-09 08:32:20.615 +01:00 [INF] Starting host...
2020-09-09 08:32:24.041 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-09 08:32:24.056 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-09 08:32:24.057 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-09 08:32:24.057 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-09 08:32:24.057 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-09 08:32:24.058 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-09 08:32:24.058 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-09 08:32:24.276 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-09 08:32:24.276 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-09 08:32:24.277 +01:00 [INF] Hosting environment: Development
2020-09-09 08:32:24.277 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-09 08:32:25.636 +01:00 [DBG] Login Url: /Account/Login
2020-09-09 08:32:25.638 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-09 08:32:25.640 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-09 08:32:25.640 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-09 08:32:25.641 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-09 08:32:25.642 +01:00 [DBG] Error Url: /home/error
2020-09-09 08:32:25.642 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 08:32:36.474 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-09 08:32:36.485 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-09 08:32:36.490 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-09 08:32:36.493 +01:00 [DBG] Start discovery request
2020-09-09 08:32:37.399 +01:00 [DBG] Found ["profile","openid","email","collectorapi"] as all scopes, and ["collectorapi","email","openid","profile"] as API resources
2020-09-09 08:32:37.834 +01:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-09-09 08:32:37.836 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-09-09 08:32:37.839 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-09-09 08:32:37.842 +01:00 [DBG] Start key discovery request
2020-09-09 08:32:38.069 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 08:32:38.119 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 08:32:38.123 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 08:32:38.125 +01:00 [DBG] Start authorize request
2020-09-09 08:32:38.149 +01:00 [DBG] No user present in authorize request
2020-09-09 08:32:38.150 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 08:32:39.283 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 08:32:39.290 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 08:32:39.307 +01:00 [ERR] Invalid redirect_uri: https://localhost:44302/signin-oidc
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"TaxAdminCode","redirect_uri":"https://localhost:44302/signin-oidc","response_type":"code","scope":"openid profile email collectorapi","code_challenge":"M1Nl59CsuCwcrRV1qfbOKS_9ahH945z7QZmIN09WHA4","code_challenge_method":"S256","response_mode":"form_post","nonce":"637352335580377717.YjY1MGE3MTUtMzVkNy00N2I5LTk4MDItOWU5MmJlNWFlY2QzMDEyNmEzZDUtMjg5Zi00MGRjLTlkY2ItOGNmZTQxNDVhMjFi","state":"CfDJ8M4LjOOeCp5DlHUMpekaVScQD5K9BoTmVSl3Gy66mKmr_k_xB7i4IoCo3XMoLkB9JcjiMrUzIfkXVZTXoQCuG50CQvo5mmLz8H_91aNJUWoEC5u0c2TlkK4nwYn9jguoB1QqOLYshP8RLF7hBhqrWa2tdso3HDmwW_Vaf3zC151z9xOKTOHJhcVm3KEltGCUCYxGamdPuj1iMXvdNybOi_Ik3lqjCpNwH4tu9S4dG33NWVYp-IGCykD5XoojDu-kg0lMZ1Y0gtCsRjNyDb6m2UzVQYxCtv97gG8ONue9Skd66cb1BMR6vb0pplF_8d2Iv5PrzO1kG6Xb2PiQskWTpoiffgjj-GsqLvdMQtH9lxIeI5qceXbGH5kIyixfEFm2Gg","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.5.0.0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 08:32:39.342 +01:00 [ERR] Request validation failed
2020-09-09 08:32:39.343 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"TaxAdminCode","redirect_uri":"https://localhost:44302/signin-oidc","response_type":"code","scope":"openid profile email collectorapi","code_challenge":"M1Nl59CsuCwcrRV1qfbOKS_9ahH945z7QZmIN09WHA4","code_challenge_method":"S256","response_mode":"form_post","nonce":"637352335580377717.YjY1MGE3MTUtMzVkNy00N2I5LTk4MDItOWU5MmJlNWFlY2QzMDEyNmEzZDUtMjg5Zi00MGRjLTlkY2ItOGNmZTQxNDVhMjFi","state":"CfDJ8M4LjOOeCp5DlHUMpekaVScQD5K9BoTmVSl3Gy66mKmr_k_xB7i4IoCo3XMoLkB9JcjiMrUzIfkXVZTXoQCuG50CQvo5mmLz8H_91aNJUWoEC5u0c2TlkK4nwYn9jguoB1QqOLYshP8RLF7hBhqrWa2tdso3HDmwW_Vaf3zC151z9xOKTOHJhcVm3KEltGCUCYxGamdPuj1iMXvdNybOi_Ik3lqjCpNwH4tu9S4dG33NWVYp-IGCykD5XoojDu-kg0lMZ1Y0gtCsRjNyDb6m2UzVQYxCtv97gG8ONue9Skd66cb1BMR6vb0pplF_8d2Iv5PrzO1kG6Xb2PiQskWTpoiffgjj-GsqLvdMQtH9lxIeI5qceXbGH5kIyixfEFm2Gg","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.5.0.0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 08:32:39.391 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Authorize","SubjectId":null,"Scopes":"","GrantType":null,"Error":"invalid_request","ErrorDescription":"Invalid redirect_uri","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HM2KI9VF79IH:00000011","TimeStamp":"2020-09-09T07:32:39.0000000Z","ProcessId":31736,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2020-09-09 08:36:34.014 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 08:36:34.023 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 08:36:34.024 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 08:36:34.025 +01:00 [DBG] Start authorize request
2020-09-09 08:36:34.026 +01:00 [DBG] No user present in authorize request
2020-09-09 08:36:34.026 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 08:36:34.807 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 08:36:34.808 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 08:36:34.813 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 08:36:34.967 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 08:36:35.147 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 08:36:35.240 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 08:36:35.252 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 08:36:35.254 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"https://localhost:44302/signin-oidc","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile email collectorapi","State":"CfDJ8M4LjOOeCp5DlHUMpekaVScNE5TNtvxgkeviu_LH2eopirt1cQhkYiXRY19eMdUDzawho5ils-uKMljdfYUMN-1ygQTR_DWaZSLrJSlIpXMjfioy4MVZCFNxuZNijoIYGocYkS_Z8jafgQ3kbHG02iWKLXmlViYW8xopOXqf7110LDH0I8qcJWgYeBrJVth8hmAkENOo4NM_gFrkcGQOG3AglHqdoebojg6VBSa9wC8SsVYmSpwnD1iKGwuvvCkQ-m2YV7jORtCj2JW_1qWaxRVAz4yYgkoZ2Ap9VqmBNTDSJ-Vm9VwRiiQS2eBKalSsbkFKz5pniCxtebqUUllWXL5O-FjQlySX6yZSIhcBUJvX-js0C4xkw4n3YhiZBq3OhQ","UiLocales":null,"Nonce":"637352337940053319.Yzc2MjViMzYtYmRhYy00NzExLThlYzUtOTRhYzNhYmIwN2Y5MzM4NzhhNTItN2IzZi00ZTg2LThmMTctNGYyM2I5ZWQzYTk5","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"TaxAdminCode","redirect_uri":"https://localhost:44302/signin-oidc","response_type":"code","scope":"openid profile email collectorapi","code_challenge":"Wc7OKAeIbvp9kp-ebPS3QyDZyR2cPqkPlgU5g_kEdz4","code_challenge_method":"S256","response_mode":"form_post","nonce":"637352337940053319.Yzc2MjViMzYtYmRhYy00NzExLThlYzUtOTRhYzNhYmIwN2Y5MzM4NzhhNTItN2IzZi00ZTg2LThmMTctNGYyM2I5ZWQzYTk5","state":"CfDJ8M4LjOOeCp5DlHUMpekaVScNE5TNtvxgkeviu_LH2eopirt1cQhkYiXRY19eMdUDzawho5ils-uKMljdfYUMN-1ygQTR_DWaZSLrJSlIpXMjfioy4MVZCFNxuZNijoIYGocYkS_Z8jafgQ3kbHG02iWKLXmlViYW8xopOXqf7110LDH0I8qcJWgYeBrJVth8hmAkENOo4NM_gFrkcGQOG3AglHqdoebojg6VBSa9wC8SsVYmSpwnD1iKGwuvvCkQ-m2YV7jORtCj2JW_1qWaxRVAz4yYgkoZ2Ap9VqmBNTDSJ-Vm9VwRiiQS2eBKalSsbkFKz5pniCxtebqUUllWXL5O-FjQlySX6yZSIhcBUJvX-js0C4xkw4n3YhiZBq3OhQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.5.0.0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 08:36:35.277 +01:00 [INF] Showing login: User is not authenticated
2020-09-09 08:36:35.327 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 08:36:36.058 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 08:36:36.059 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 08:36:36.061 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 08:36:36.193 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 08:36:36.334 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 08:36:36.384 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 08:36:36.386 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 08:36:37.190 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 08:36:37.193 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 08:37:05.821 +01:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-09-09 08:37:13.386 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 08:37:14.275 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 08:37:14.284 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 08:37:14.287 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 08:37:14.506 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 08:37:14.654 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 08:37:14.702 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 08:37:14.705 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 08:37:19.611 +01:00 [DBG] Augmenting SignInContext
2020-09-09 08:37:19.612 +01:00 [DBG] Adding idp claim with value: local
2020-09-09 08:37:19.613 +01:00 [DBG] Adding auth_time claim with value: 1599637039
2020-09-09 08:37:19.654 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 08:37:19.773 +01:00 [INF] {"Username":"T0009","Provider":null,"ProviderUserId":null,"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","DisplayName":"T0009","Endpoint":"UI","ClientId":"TaxAdminCode","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HM2KI9VF79IJ:00000015","TimeStamp":"2020-09-09T07:37:19.0000000Z","ProcessId":31736,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2020-09-09 08:37:20.561 +01:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2020-09-09 08:37:20.563 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2020-09-09 08:37:20.565 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-09-09 08:37:20.567 +01:00 [DBG] Start authorize callback request
2020-09-09 08:37:20.571 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 08:37:20.574 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 08:37:21.398 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 08:37:21.399 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 08:37:21.400 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 08:37:21.496 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 08:37:21.656 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 08:37:21.826 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 08:37:21.827 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 08:37:21.829 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"https://localhost:44302/signin-oidc","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile email collectorapi","State":"CfDJ8M4LjOOeCp5DlHUMpekaVScNE5TNtvxgkeviu_LH2eopirt1cQhkYiXRY19eMdUDzawho5ils-uKMljdfYUMN-1ygQTR_DWaZSLrJSlIpXMjfioy4MVZCFNxuZNijoIYGocYkS_Z8jafgQ3kbHG02iWKLXmlViYW8xopOXqf7110LDH0I8qcJWgYeBrJVth8hmAkENOo4NM_gFrkcGQOG3AglHqdoebojg6VBSa9wC8SsVYmSpwnD1iKGwuvvCkQ-m2YV7jORtCj2JW_1qWaxRVAz4yYgkoZ2Ap9VqmBNTDSJ-Vm9VwRiiQS2eBKalSsbkFKz5pniCxtebqUUllWXL5O-FjQlySX6yZSIhcBUJvX-js0C4xkw4n3YhiZBq3OhQ","UiLocales":null,"Nonce":"637352337940053319.Yzc2MjViMzYtYmRhYy00NzExLThlYzUtOTRhYzNhYmIwN2Y5MzM4NzhhNTItN2IzZi00ZTg2LThmMTctNGYyM2I5ZWQzYTk5","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"6976B1E72EE0EFED8D8F74FD9F656298","Raw":{"client_id":"TaxAdminCode","redirect_uri":"https://localhost:44302/signin-oidc","response_type":"code","scope":"openid profile email collectorapi","code_challenge":"Wc7OKAeIbvp9kp-ebPS3QyDZyR2cPqkPlgU5g_kEdz4","code_challenge_method":"S256","response_mode":"form_post","nonce":"637352337940053319.Yzc2MjViMzYtYmRhYy00NzExLThlYzUtOTRhYzNhYmIwN2Y5MzM4NzhhNTItN2IzZi00ZTg2LThmMTctNGYyM2I5ZWQzYTk5","state":"CfDJ8M4LjOOeCp5DlHUMpekaVScNE5TNtvxgkeviu_LH2eopirt1cQhkYiXRY19eMdUDzawho5ils-uKMljdfYUMN-1ygQTR_DWaZSLrJSlIpXMjfioy4MVZCFNxuZNijoIYGocYkS_Z8jafgQ3kbHG02iWKLXmlViYW8xopOXqf7110LDH0I8qcJWgYeBrJVth8hmAkENOo4NM_gFrkcGQOG3AglHqdoebojg6VBSa9wC8SsVYmSpwnD1iKGwuvvCkQ-m2YV7jORtCj2JW_1qWaxRVAz4yYgkoZ2Ap9VqmBNTDSJ-Vm9VwRiiQS2eBKalSsbkFKz5pniCxtebqUUllWXL5O-FjQlySX6yZSIhcBUJvX-js0C4xkw4n3YhiZBq3OhQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.5.0.0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 08:37:21.984 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 08:37:21.986 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 08:37:22.204 +01:00 [DBG] MIHLvWN+tPVPq4fL5udKDXhw3CDoov84t+z9CcoLfMY= not found in database
2020-09-09 08:37:22.585 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"https://localhost:44302/signin-oidc","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"openid profile email collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****98A4","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KI9VF79IJ:00000017","TimeStamp":"2020-09-09T07:37:22.0000000Z","ProcessId":31736,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 08:37:22.596 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"https://localhost:44302/signin-oidc","State":"CfDJ8M4LjOOeCp5DlHUMpekaVScNE5TNtvxgkeviu_LH2eopirt1cQhkYiXRY19eMdUDzawho5ils-uKMljdfYUMN-1ygQTR_DWaZSLrJSlIpXMjfioy4MVZCFNxuZNijoIYGocYkS_Z8jafgQ3kbHG02iWKLXmlViYW8xopOXqf7110LDH0I8qcJWgYeBrJVth8hmAkENOo4NM_gFrkcGQOG3AglHqdoebojg6VBSa9wC8SsVYmSpwnD1iKGwuvvCkQ-m2YV7jORtCj2JW_1qWaxRVAz4yYgkoZ2Ap9VqmBNTDSJ-Vm9VwRiiQS2eBKalSsbkFKz5pniCxtebqUUllWXL5O-FjQlySX6yZSIhcBUJvX-js0C4xkw4n3YhiZBq3OhQ","Scope":"openid profile email collectorapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 08:37:22.606 +01:00 [DBG] Augmenting SignInContext
2020-09-09 08:37:22.607 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 08:37:22.764 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 08:37:22.769 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 08:37:22.772 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 08:37:22.776 +01:00 [DBG] Start token request.
2020-09-09 08:37:22.777 +01:00 [DBG] Start client validation
2020-09-09 08:37:22.780 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 08:37:22.781 +01:00 [DBG] Start parsing for secret in post body
2020-09-09 08:37:22.799 +01:00 [DBG] Parser found secret: PostBodySecretParser
2020-09-09 08:37:22.800 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 08:37:23.553 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 08:37:23.554 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 08:37:23.560 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 08:37:23.561 +01:00 [DBG] Client validation success
2020-09-09 08:37:23.563 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KI9VF79IK:00000001","TimeStamp":"2020-09-09T07:37:23.0000000Z","ProcessId":31736,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 08:37:23.569 +01:00 [DBG] Start token request validation
2020-09-09 08:37:23.571 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 08:37:23.715 +01:00 [DBG] MIHLvWN+tPVPq4fL5udKDXhw3CDoov84t+z9CcoLfMY= found in database: true
2020-09-09 08:37:23.889 +01:00 [DBG] removing MIHLvWN+tPVPq4fL5udKDXhw3CDoov84t+z9CcoLfMY= persisted grant from database
2020-09-09 08:37:24.109 +01:00 [DBG] Client required a proof key for code exchange. Starting PKCE validation
2020-09-09 08:37:24.233 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 08:37:24.237 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"18BD42E3D1B6913B6EDC579A3ED127841146938794EEB3314F8936EF18E698A4","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"client_id":"TaxAdminCode","client_secret":"***REDACTED***","code":"18BD42E3D1B6913B6EDC579A3ED127841146938794EEB3314F8936EF18E698A4","grant_type":"authorization_code","redirect_uri":"https://localhost:44302/signin-oidc","code_verifier":"ev7rUHcSDYXDzyEIC6KUsWsQCisrjUs52-ioNs3wWW4"},"$type":"TokenRequestValidationLog"}
2020-09-09 08:37:25.001 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 08:37:25.002 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 08:37:25.108 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 08:37:25.247 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 08:37:25.296 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 08:37:25.307 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 08:37:25.308 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 08:37:29.398 +01:00 [WRN] No type was specified for the decimal column 'nCashLimit' on entity type 'AspNetUsers'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-09-09 08:37:33.003 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 08:37:33.004 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 08:37:33.124 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 08:37:33.275 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 08:37:33.321 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 08:37:33.327 +01:00 [DBG] Getting claims for identity token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7 and client: TaxAdminCode
2020-09-09 08:37:33.330 +01:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-09-09 08:37:33.337 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"openid profile email collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"id_token","TokenValue":"****2Z-g","$type":"Token"},{"TokenType":"access_token","TokenValue":"****iOXA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KI9VF79IK:00000001","TimeStamp":"2020-09-09T07:37:33.0000000Z","ProcessId":31736,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 08:37:33.344 +01:00 [DBG] Token request success.
2020-09-09 08:37:33.616 +01:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2020-09-09 08:37:33.619 +01:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2020-09-09 08:37:33.619 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2020-09-09 08:37:33.621 +01:00 [DBG] Start userinfo request
2020-09-09 08:37:33.623 +01:00 [DBG] Bearer token found in header
2020-09-09 08:37:34.424 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 08:37:34.425 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 08:37:35.081 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 08:37:35.082 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 08:37:35.187 +01:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2020-09-09 08:37:35.189 +01:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"FA5F9241E81ACD167C51ADAEA8C085F2","Claims":{"nbf":1599637051,"exp":1599640651,"iss":"https://localhost:5001","aud":["collectorapi","https://localhost:5001/resources"],"client_id":"TaxAdminCode","sub":"8aa41560-b391-43ed-835a-2542e99b7cd7","auth_time":1599637039,"idp":"local","WebSite":"83488df5-c4b5-4ca9-b33c-92b5b3ca0641","AssemblyCode":"C0002","AssemblyName":"ABLEKUMA NORTH MUNICIPAL ASSEMBLY","AssemblyLogo":"a26d8c7c-a8c4-4a09-83e7-700041b5efdb.png","FirstName":"Somad","LastName":"Yessoufou","jti":"FA5F9241E81ACD167C51ADAEA8C085F2","sid":"6976B1E72EE0EFED8D8F74FD9F656298","iat":1599637051,"scope":["openid","profile","email","collectorapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2020-09-09 08:37:35.205 +01:00 [DBG] Creating userinfo response
2020-09-09 08:37:35.207 +01:00 [DBG] Scopes in access token: openid profile email collectorapi
2020-09-09 08:37:35.319 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 08:37:35.324 +01:00 [DBG] Requested claim types: updated_at name family_name given_name middle_name nickname preferred_username picture website gender birthdate zoneinfo locale profile sub email_verified email
2020-09-09 08:37:38.703 +01:00 [INF] Profile service returned the following claim types: sub website preferred_username name email email_verified WebSite AssemblyCode AssemblyName AssemblyLogo FirstName LastName
2020-09-09 08:37:38.705 +01:00 [DBG] End userinfo request
2020-09-09 08:42:11.543 +01:00 [INF] Starting host...
2020-09-09 08:42:15.604 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-09 08:42:15.619 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-09 08:42:15.619 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-09 08:42:15.620 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-09 08:42:15.620 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-09 08:42:15.620 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-09 08:42:15.621 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-09 08:42:15.829 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-09 08:42:15.829 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-09 08:42:15.830 +01:00 [INF] Hosting environment: Development
2020-09-09 08:42:15.831 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-09 08:42:16.940 +01:00 [DBG] Login Url: /Account/Login
2020-09-09 08:42:16.942 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-09 08:42:16.943 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-09 08:42:16.944 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-09 08:42:16.944 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-09 08:42:16.945 +01:00 [DBG] Error Url: /home/error
2020-09-09 08:42:16.945 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 08:45:48.978 +01:00 [INF] Starting host...
2020-09-09 08:45:52.255 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-09 08:45:52.269 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-09 08:45:52.270 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-09 08:45:52.270 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-09 08:45:52.270 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-09 08:45:52.271 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-09 08:45:52.271 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-09 08:45:52.470 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-09 08:45:52.471 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-09 08:45:52.472 +01:00 [INF] Hosting environment: Development
2020-09-09 08:45:52.476 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-09 08:45:53.917 +01:00 [DBG] Login Url: /Account/Login
2020-09-09 08:45:53.919 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-09 08:45:53.921 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-09 08:45:53.921 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-09 08:45:53.922 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-09 08:45:53.923 +01:00 [DBG] Error Url: /home/error
2020-09-09 08:45:53.924 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 08:54:17.348 +01:00 [INF] Starting host...
2020-09-09 08:54:20.695 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-09 08:54:20.712 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-09 08:54:20.712 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-09 08:54:20.713 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-09 08:54:20.714 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-09 08:54:20.714 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-09 08:54:20.715 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-09 08:54:20.928 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-09 08:54:20.929 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-09 08:54:20.929 +01:00 [INF] Hosting environment: Development
2020-09-09 08:54:20.930 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-09 08:54:22.506 +01:00 [DBG] Login Url: /Account/Login
2020-09-09 08:54:22.507 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-09 08:54:22.508 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-09 08:54:22.509 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-09 08:54:22.509 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-09 08:54:22.510 +01:00 [DBG] Error Url: /home/error
2020-09-09 08:54:22.510 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 09:22:37.149 +01:00 [INF] Starting host...
2020-09-09 09:22:40.640 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-09 09:22:40.665 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-09 09:22:40.666 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-09 09:22:40.666 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-09 09:22:40.667 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-09 09:22:40.668 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-09 09:22:40.668 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-09 09:22:40.857 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-09 09:22:40.858 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-09 09:22:40.858 +01:00 [INF] Hosting environment: Development
2020-09-09 09:22:40.860 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-09 09:22:41.925 +01:00 [DBG] Login Url: /Account/Login
2020-09-09 09:22:41.927 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-09 09:22:41.928 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-09 09:22:41.929 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-09 09:22:41.930 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-09 09:22:41.930 +01:00 [DBG] Error Url: /home/error
2020-09-09 09:22:41.930 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 09:28:44.192 +01:00 [INF] Starting host...
2020-09-09 09:28:47.653 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-09 09:28:47.669 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-09 09:28:47.669 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-09 09:28:47.669 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-09 09:28:47.669 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-09 09:28:47.670 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-09 09:28:47.670 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-09 09:28:47.876 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-09 09:28:47.877 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-09 09:28:47.877 +01:00 [INF] Hosting environment: Development
2020-09-09 09:28:47.877 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-09 09:28:49.514 +01:00 [DBG] Login Url: /Account/Login
2020-09-09 09:28:49.516 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-09 09:28:49.517 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-09 09:28:49.518 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-09 09:28:49.518 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-09 09:28:49.519 +01:00 [DBG] Error Url: /home/error
2020-09-09 09:28:49.519 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 09:31:15.303 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-09 09:31:15.341 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-09 09:31:15.348 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-09 09:31:15.351 +01:00 [DBG] Start discovery request
2020-09-09 09:31:16.404 +01:00 [DBG] Found ["profile","openid","email","collectorapi"] as all scopes, and ["collectorapi","email","openid","profile"] as API resources
2020-09-09 09:31:16.762 +01:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-09-09 09:31:16.764 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-09-09 09:31:16.764 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-09-09 09:31:16.769 +01:00 [DBG] Start key discovery request
2020-09-09 09:31:16.921 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 09:31:16.954 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 09:31:16.956 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 09:31:16.960 +01:00 [DBG] Start authorize request
2020-09-09 09:31:16.965 +01:00 [DBG] No user present in authorize request
2020-09-09 09:31:16.967 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 09:31:19.680 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:31:19.686 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:31:19.703 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 09:31:19.704 +01:00 [DBG] No PKCE used.
2020-09-09 09:31:19.868 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 09:31:20.049 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 09:31:20.130 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 09:31:20.140 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 09:31:20.151 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"https://localhost:44302/signin-oidc","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile email collectorapi","State":"CfDJ8M4LjOOeCp5DlHUMpekaVScijWlp82PPliiGU2HNQxTmCcxXM8lgzoD2xIFCbMs8e7XM5QcfzlPA0_8-_8KxyzNKKkwWMyENEvhFOzqOQoMLl0QoVWANhtnwkb6Tc5QqjQuc5kFNyUEV9bH1112Yg3ieExE8iktPG9lX6Ez1KycGpap34JCc40R9mexQsAPEiaztcsox7xsvFSWLf3RAYRmr4zulngtEan8GAAEQMA6Ga7XS4v7rH4tM4_CA0C21mNOBdoXM2xlb3dvGaRoLfWMydz9Ib5V3yzEJCbFghiBhm23j_Ad5FPQjy5nf4RnLLA","UiLocales":null,"Nonce":"637352370768349455.NDcyMWJlNzAtMmMzNi00MzYzLThhNzAtOThiZGNkZWRlODk0ZjExMGQyMWQtMDVmNy00NDY3LTllMGYtYTFmZjFlOTdhYmZk","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"TaxAdminCode","redirect_uri":"https://localhost:44302/signin-oidc","response_type":"code","scope":"openid profile email collectorapi","response_mode":"form_post","nonce":"637352370768349455.NDcyMWJlNzAtMmMzNi00MzYzLThhNzAtOThiZGNkZWRlODk0ZjExMGQyMWQtMDVmNy00NDY3LTllMGYtYTFmZjFlOTdhYmZk","state":"CfDJ8M4LjOOeCp5DlHUMpekaVScijWlp82PPliiGU2HNQxTmCcxXM8lgzoD2xIFCbMs8e7XM5QcfzlPA0_8-_8KxyzNKKkwWMyENEvhFOzqOQoMLl0QoVWANhtnwkb6Tc5QqjQuc5kFNyUEV9bH1112Yg3ieExE8iktPG9lX6Ez1KycGpap34JCc40R9mexQsAPEiaztcsox7xsvFSWLf3RAYRmr4zulngtEan8GAAEQMA6Ga7XS4v7rH4tM4_CA0C21mNOBdoXM2xlb3dvGaRoLfWMydz9Ib5V3yzEJCbFghiBhm23j_Ad5FPQjy5nf4RnLLA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.5.0.0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 09:31:20.180 +01:00 [INF] Showing login: User is not authenticated
2020-09-09 09:31:20.275 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 09:31:21.183 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:31:21.184 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:31:21.187 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 09:31:21.187 +01:00 [DBG] No PKCE used.
2020-09-09 09:31:21.359 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 09:31:21.560 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 09:31:21.611 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 09:31:21.614 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 09:31:22.610 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:31:22.611 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:31:54.492 +01:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-09-09 09:31:57.996 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 09:31:58.970 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:31:58.971 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:31:58.972 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 09:31:58.973 +01:00 [DBG] No PKCE used.
2020-09-09 09:31:59.153 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 09:31:59.336 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 09:31:59.407 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 09:31:59.409 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 09:32:00.984 +01:00 [DBG] Augmenting SignInContext
2020-09-09 09:32:00.985 +01:00 [DBG] Adding idp claim with value: local
2020-09-09 09:32:00.986 +01:00 [DBG] Adding auth_time claim with value: 1599640320
2020-09-09 09:32:00.994 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 09:32:01.150 +01:00 [INF] {"Username":"T0009","Provider":null,"ProviderUserId":null,"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","DisplayName":"T0009","Endpoint":"UI","ClientId":"TaxAdminCode","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HM2KJ9FQMRTF:00000011","TimeStamp":"2020-09-09T08:32:01.0000000Z","ProcessId":34412,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2020-09-09 09:32:02.233 +01:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2020-09-09 09:32:02.238 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2020-09-09 09:32:02.239 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-09-09 09:32:02.243 +01:00 [DBG] Start authorize callback request
2020-09-09 09:32:02.246 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 09:32:02.247 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 09:32:03.291 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:32:03.292 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:32:03.294 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 09:32:03.295 +01:00 [DBG] No PKCE used.
2020-09-09 09:32:03.425 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 09:32:03.608 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 09:32:03.682 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 09:32:03.683 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 09:32:03.685 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"https://localhost:44302/signin-oidc","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile email collectorapi","State":"CfDJ8M4LjOOeCp5DlHUMpekaVScijWlp82PPliiGU2HNQxTmCcxXM8lgzoD2xIFCbMs8e7XM5QcfzlPA0_8-_8KxyzNKKkwWMyENEvhFOzqOQoMLl0QoVWANhtnwkb6Tc5QqjQuc5kFNyUEV9bH1112Yg3ieExE8iktPG9lX6Ez1KycGpap34JCc40R9mexQsAPEiaztcsox7xsvFSWLf3RAYRmr4zulngtEan8GAAEQMA6Ga7XS4v7rH4tM4_CA0C21mNOBdoXM2xlb3dvGaRoLfWMydz9Ib5V3yzEJCbFghiBhm23j_Ad5FPQjy5nf4RnLLA","UiLocales":null,"Nonce":"637352370768349455.NDcyMWJlNzAtMmMzNi00MzYzLThhNzAtOThiZGNkZWRlODk0ZjExMGQyMWQtMDVmNy00NDY3LTllMGYtYTFmZjFlOTdhYmZk","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"C735D23B8EDD81C5112EA09A9A651980","Raw":{"client_id":"TaxAdminCode","redirect_uri":"https://localhost:44302/signin-oidc","response_type":"code","scope":"openid profile email collectorapi","response_mode":"form_post","nonce":"637352370768349455.NDcyMWJlNzAtMmMzNi00MzYzLThhNzAtOThiZGNkZWRlODk0ZjExMGQyMWQtMDVmNy00NDY3LTllMGYtYTFmZjFlOTdhYmZk","state":"CfDJ8M4LjOOeCp5DlHUMpekaVScijWlp82PPliiGU2HNQxTmCcxXM8lgzoD2xIFCbMs8e7XM5QcfzlPA0_8-_8KxyzNKKkwWMyENEvhFOzqOQoMLl0QoVWANhtnwkb6Tc5QqjQuc5kFNyUEV9bH1112Yg3ieExE8iktPG9lX6Ez1KycGpap34JCc40R9mexQsAPEiaztcsox7xsvFSWLf3RAYRmr4zulngtEan8GAAEQMA6Ga7XS4v7rH4tM4_CA0C21mNOBdoXM2xlb3dvGaRoLfWMydz9Ib5V3yzEJCbFghiBhm23j_Ad5FPQjy5nf4RnLLA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.5.0.0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 09:32:03.892 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 09:32:03.894 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 09:32:04.123 +01:00 [DBG] 4MjHb7KZaK7EIfPNnWa/SH4IiMe2+IqqeWyTMF+cZV8= not found in database
2020-09-09 09:32:04.554 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"https://localhost:44302/signin-oidc","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"openid profile email collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****5245","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KJ9FQMRTF:00000013","TimeStamp":"2020-09-09T08:32:04.0000000Z","ProcessId":34412,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 09:32:04.563 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"https://localhost:44302/signin-oidc","State":"CfDJ8M4LjOOeCp5DlHUMpekaVScijWlp82PPliiGU2HNQxTmCcxXM8lgzoD2xIFCbMs8e7XM5QcfzlPA0_8-_8KxyzNKKkwWMyENEvhFOzqOQoMLl0QoVWANhtnwkb6Tc5QqjQuc5kFNyUEV9bH1112Yg3ieExE8iktPG9lX6Ez1KycGpap34JCc40R9mexQsAPEiaztcsox7xsvFSWLf3RAYRmr4zulngtEan8GAAEQMA6Ga7XS4v7rH4tM4_CA0C21mNOBdoXM2xlb3dvGaRoLfWMydz9Ib5V3yzEJCbFghiBhm23j_Ad5FPQjy5nf4RnLLA","Scope":"openid profile email collectorapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 09:32:04.574 +01:00 [DBG] Augmenting SignInContext
2020-09-09 09:32:04.575 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 09:32:05.143 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 09:32:05.147 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 09:32:05.148 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 09:32:05.154 +01:00 [DBG] Start token request.
2020-09-09 09:32:05.156 +01:00 [DBG] Start client validation
2020-09-09 09:32:05.159 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 09:32:05.161 +01:00 [DBG] Start parsing for secret in post body
2020-09-09 09:32:05.166 +01:00 [DBG] Parser found secret: PostBodySecretParser
2020-09-09 09:32:05.167 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 09:32:06.249 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:32:06.250 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:32:06.257 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 09:32:06.257 +01:00 [DBG] Client validation success
2020-09-09 09:32:06.259 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KJ9FQMRTE:00000003","TimeStamp":"2020-09-09T08:32:06.0000000Z","ProcessId":34412,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 09:32:06.265 +01:00 [DBG] Start token request validation
2020-09-09 09:32:06.271 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 09:32:06.472 +01:00 [DBG] 4MjHb7KZaK7EIfPNnWa/SH4IiMe2+IqqeWyTMF+cZV8= found in database: true
2020-09-09 09:32:06.703 +01:00 [DBG] removing 4MjHb7KZaK7EIfPNnWa/SH4IiMe2+IqqeWyTMF+cZV8= persisted grant from database
2020-09-09 09:32:07.047 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 09:32:07.051 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"81CB84A1835B703EFCC54ADC111961168B5C665679D8951A2E4ECF7279505245","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"client_id":"TaxAdminCode","client_secret":"***REDACTED***","code":"81CB84A1835B703EFCC54ADC111961168B5C665679D8951A2E4ECF7279505245","grant_type":"authorization_code","redirect_uri":"https://localhost:44302/signin-oidc"},"$type":"TokenRequestValidationLog"}
2020-09-09 09:32:08.054 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:32:08.054 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:32:08.201 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 09:32:08.376 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 09:32:08.438 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 09:32:08.449 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 09:32:08.450 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 09:32:11.183 +01:00 [WRN] No type was specified for the decimal column 'nCashLimit' on entity type 'AspNetUsers'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-09-09 09:32:17.251 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:32:17.252 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:32:17.404 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 09:32:17.565 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 09:32:17.635 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 09:32:17.649 +01:00 [DBG] Getting claims for identity token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7 and client: TaxAdminCode
2020-09-09 09:32:17.651 +01:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-09-09 09:32:17.657 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"openid profile email collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"id_token","TokenValue":"****e9Nw","$type":"Token"},{"TokenType":"access_token","TokenValue":"****6VQw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KJ9FQMRTE:00000003","TimeStamp":"2020-09-09T08:32:17.0000000Z","ProcessId":34412,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 09:32:17.669 +01:00 [DBG] Token request success.
2020-09-09 09:32:17.871 +01:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2020-09-09 09:32:17.872 +01:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2020-09-09 09:32:17.874 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2020-09-09 09:32:17.877 +01:00 [DBG] Start userinfo request
2020-09-09 09:32:17.880 +01:00 [DBG] Bearer token found in header
2020-09-09 09:32:18.788 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:32:18.790 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:32:19.563 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:32:19.566 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:32:19.717 +01:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2020-09-09 09:32:19.719 +01:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"EAA0ADDF8E14FB900E65A75EE5C9A1B1","Claims":{"nbf":1599640335,"exp":1599643935,"iss":"https://localhost:5001","aud":["collectorapi","https://localhost:5001/resources"],"client_id":"TaxAdminCode","sub":"8aa41560-b391-43ed-835a-2542e99b7cd7","auth_time":1599640320,"idp":"local","WebSite":"83488df5-c4b5-4ca9-b33c-92b5b3ca0641","AssemblyCode":"C0002","AssemblyName":"ABLEKUMA NORTH MUNICIPAL ASSEMBLY","AssemblyLogo":"a26d8c7c-a8c4-4a09-83e7-700041b5efdb.png","FirstName":"Somad","LastName":"Yessoufou","jti":"EAA0ADDF8E14FB900E65A75EE5C9A1B1","sid":"C735D23B8EDD81C5112EA09A9A651980","iat":1599640335,"scope":["openid","profile","email","collectorapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2020-09-09 09:32:19.736 +01:00 [DBG] Creating userinfo response
2020-09-09 09:32:19.739 +01:00 [DBG] Scopes in access token: openid profile email collectorapi
2020-09-09 09:32:19.921 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 09:32:19.929 +01:00 [DBG] Requested claim types: updated_at name family_name given_name middle_name nickname preferred_username picture website gender birthdate zoneinfo locale profile sub email_verified email
2020-09-09 09:32:23.198 +01:00 [INF] Profile service returned the following claim types: sub website preferred_username name email email_verified WebSite AssemblyCode AssemblyName AssemblyLogo FirstName LastName
2020-09-09 09:32:23.199 +01:00 [DBG] End userinfo request
2020-09-09 09:37:18.972 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 09:37:18.980 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 09:37:18.982 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 09:37:18.987 +01:00 [DBG] Start authorize request
2020-09-09 09:37:18.988 +01:00 [DBG] No user present in authorize request
2020-09-09 09:37:18.989 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 09:37:29.607 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:37:29.607 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:37:29.610 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 09:37:29.613 +01:00 [DBG] No PKCE used.
2020-09-09 09:37:29.898 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 09:37:30.082 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 09:37:30.130 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 09:37:30.137 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 09:37:30.141 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"https://localhost:44302/signin-oidc","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile email collectorapi","State":"CfDJ8M4LjOOeCp5DlHUMpekaVSdkhXF91ki7jpPE0QGCH_sk-D9QJSynoArxNiF9UfTprPUtRuPwyJd_TyRLPqkeyIiDi9VPQ20z1KMsyE5qkaKefv4OjbQ8zaNdzKbDJvIA8PM-Le9EsNuglCRLPlaC6Ult8fXXDxcSrqubiSlCIK48bAwlvZ2t52iz4i-lTCJptft9JpQ_5hpQTA2ObDD_QQqNBZarhlnIjvd8dBNnGGIKWVqUdzCq2LFhZEawVADwyLkP81t_lFNf7f6aYRvfO3xUUGQXGSlXFyCrytbQ7pJ435br0g8k0XNm1m5tUt--Mw","UiLocales":null,"Nonce":"637352374389184482.ZTM5MmUxMzQtZTM4ZS00ODgyLWI4MjItMDAwOTJiMDQ5MjBhMmExYzBkZjYtYjA1MS00OWYxLWEwZWMtMzZmMWQ4MjI1ZGU4","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"TaxAdminCode","redirect_uri":"https://localhost:44302/signin-oidc","response_type":"code","scope":"openid profile email collectorapi","response_mode":"form_post","nonce":"637352374389184482.ZTM5MmUxMzQtZTM4ZS00ODgyLWI4MjItMDAwOTJiMDQ5MjBhMmExYzBkZjYtYjA1MS00OWYxLWEwZWMtMzZmMWQ4MjI1ZGU4","state":"CfDJ8M4LjOOeCp5DlHUMpekaVSdkhXF91ki7jpPE0QGCH_sk-D9QJSynoArxNiF9UfTprPUtRuPwyJd_TyRLPqkeyIiDi9VPQ20z1KMsyE5qkaKefv4OjbQ8zaNdzKbDJvIA8PM-Le9EsNuglCRLPlaC6Ult8fXXDxcSrqubiSlCIK48bAwlvZ2t52iz4i-lTCJptft9JpQ_5hpQTA2ObDD_QQqNBZarhlnIjvd8dBNnGGIKWVqUdzCq2LFhZEawVADwyLkP81t_lFNf7f6aYRvfO3xUUGQXGSlXFyCrytbQ7pJ435br0g8k0XNm1m5tUt--Mw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.5.0.0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 09:37:30.171 +01:00 [INF] Showing login: User is not authenticated
2020-09-09 09:37:30.207 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 09:37:31.064 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:37:31.064 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:37:31.070 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 09:37:31.072 +01:00 [DBG] No PKCE used.
2020-09-09 09:37:31.236 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 09:37:31.458 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 09:37:31.515 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 09:37:31.522 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 09:37:32.328 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:37:32.329 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:37:59.161 +01:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-09-09 09:38:05.881 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 09:38:08.477 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:38:08.477 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:38:08.479 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 09:38:08.479 +01:00 [DBG] No PKCE used.
2020-09-09 09:38:08.665 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 09:38:08.844 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 09:38:08.918 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 09:38:08.921 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 09:38:10.354 +01:00 [DBG] Augmenting SignInContext
2020-09-09 09:38:10.355 +01:00 [DBG] Adding idp claim with value: local
2020-09-09 09:38:10.357 +01:00 [DBG] Adding auth_time claim with value: 1599640690
2020-09-09 09:38:10.358 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 09:38:10.536 +01:00 [INF] {"Username":"T0009","Provider":null,"ProviderUserId":null,"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","DisplayName":"T0009","Endpoint":"UI","ClientId":"TaxAdminCode","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HM2KJ9FQMRTI:00000029","TimeStamp":"2020-09-09T08:38:10.0000000Z","ProcessId":34412,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2020-09-09 09:38:12.259 +01:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2020-09-09 09:38:12.261 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2020-09-09 09:38:12.262 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-09-09 09:38:12.263 +01:00 [DBG] Start authorize callback request
2020-09-09 09:38:12.265 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 09:38:12.266 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 09:38:12.965 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:38:12.965 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:38:12.968 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 09:38:12.972 +01:00 [DBG] No PKCE used.
2020-09-09 09:38:13.110 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 09:38:13.280 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 09:38:13.339 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 09:38:13.342 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 09:38:13.346 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"https://localhost:44302/signin-oidc","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile email collectorapi","State":"CfDJ8M4LjOOeCp5DlHUMpekaVSdkhXF91ki7jpPE0QGCH_sk-D9QJSynoArxNiF9UfTprPUtRuPwyJd_TyRLPqkeyIiDi9VPQ20z1KMsyE5qkaKefv4OjbQ8zaNdzKbDJvIA8PM-Le9EsNuglCRLPlaC6Ult8fXXDxcSrqubiSlCIK48bAwlvZ2t52iz4i-lTCJptft9JpQ_5hpQTA2ObDD_QQqNBZarhlnIjvd8dBNnGGIKWVqUdzCq2LFhZEawVADwyLkP81t_lFNf7f6aYRvfO3xUUGQXGSlXFyCrytbQ7pJ435br0g8k0XNm1m5tUt--Mw","UiLocales":null,"Nonce":"637352374389184482.ZTM5MmUxMzQtZTM4ZS00ODgyLWI4MjItMDAwOTJiMDQ5MjBhMmExYzBkZjYtYjA1MS00OWYxLWEwZWMtMzZmMWQ4MjI1ZGU4","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"0150A1029D0786EDB910B1940698D3C9","Raw":{"client_id":"TaxAdminCode","redirect_uri":"https://localhost:44302/signin-oidc","response_type":"code","scope":"openid profile email collectorapi","response_mode":"form_post","nonce":"637352374389184482.ZTM5MmUxMzQtZTM4ZS00ODgyLWI4MjItMDAwOTJiMDQ5MjBhMmExYzBkZjYtYjA1MS00OWYxLWEwZWMtMzZmMWQ4MjI1ZGU4","state":"CfDJ8M4LjOOeCp5DlHUMpekaVSdkhXF91ki7jpPE0QGCH_sk-D9QJSynoArxNiF9UfTprPUtRuPwyJd_TyRLPqkeyIiDi9VPQ20z1KMsyE5qkaKefv4OjbQ8zaNdzKbDJvIA8PM-Le9EsNuglCRLPlaC6Ult8fXXDxcSrqubiSlCIK48bAwlvZ2t52iz4i-lTCJptft9JpQ_5hpQTA2ObDD_QQqNBZarhlnIjvd8dBNnGGIKWVqUdzCq2LFhZEawVADwyLkP81t_lFNf7f6aYRvfO3xUUGQXGSlXFyCrytbQ7pJ435br0g8k0XNm1m5tUt--Mw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.5.0.0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 09:38:13.531 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 09:38:13.531 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 09:38:13.655 +01:00 [DBG] PcZtUV0mswssmBfI0gmPum8oSsvCvjAG8y9Ovj+v/9c= not found in database
2020-09-09 09:38:13.976 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"https://localhost:44302/signin-oidc","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"openid profile email collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****8320","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KJ9FQMRTI:0000002B","TimeStamp":"2020-09-09T08:38:13.0000000Z","ProcessId":34412,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 09:38:13.984 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"https://localhost:44302/signin-oidc","State":"CfDJ8M4LjOOeCp5DlHUMpekaVSdkhXF91ki7jpPE0QGCH_sk-D9QJSynoArxNiF9UfTprPUtRuPwyJd_TyRLPqkeyIiDi9VPQ20z1KMsyE5qkaKefv4OjbQ8zaNdzKbDJvIA8PM-Le9EsNuglCRLPlaC6Ult8fXXDxcSrqubiSlCIK48bAwlvZ2t52iz4i-lTCJptft9JpQ_5hpQTA2ObDD_QQqNBZarhlnIjvd8dBNnGGIKWVqUdzCq2LFhZEawVADwyLkP81t_lFNf7f6aYRvfO3xUUGQXGSlXFyCrytbQ7pJ435br0g8k0XNm1m5tUt--Mw","Scope":"openid profile email collectorapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 09:38:13.990 +01:00 [DBG] Augmenting SignInContext
2020-09-09 09:38:13.991 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 09:38:14.117 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 09:38:14.119 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 09:38:14.120 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 09:38:14.121 +01:00 [DBG] Start token request.
2020-09-09 09:38:14.122 +01:00 [DBG] Start client validation
2020-09-09 09:38:14.122 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 09:38:14.123 +01:00 [DBG] Start parsing for secret in post body
2020-09-09 09:38:14.124 +01:00 [DBG] Parser found secret: PostBodySecretParser
2020-09-09 09:38:14.124 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 09:38:14.870 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:38:14.874 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:38:14.878 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 09:38:14.907 +01:00 [DBG] Client validation success
2020-09-09 09:38:14.913 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KJ9FQMRTJ:00000001","TimeStamp":"2020-09-09T08:38:14.0000000Z","ProcessId":34412,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 09:38:14.920 +01:00 [DBG] Start token request validation
2020-09-09 09:38:14.921 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 09:38:15.072 +01:00 [DBG] PcZtUV0mswssmBfI0gmPum8oSsvCvjAG8y9Ovj+v/9c= found in database: true
2020-09-09 09:38:15.245 +01:00 [DBG] removing PcZtUV0mswssmBfI0gmPum8oSsvCvjAG8y9Ovj+v/9c= persisted grant from database
2020-09-09 09:38:15.595 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 09:38:15.596 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"C9F3B668261146CEA18839448409F28C890BBA5A6F0DAE9F7F231FCA50AD8320","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"client_id":"TaxAdminCode","client_secret":"***REDACTED***","code":"C9F3B668261146CEA18839448409F28C890BBA5A6F0DAE9F7F231FCA50AD8320","grant_type":"authorization_code","redirect_uri":"https://localhost:44302/signin-oidc"},"$type":"TokenRequestValidationLog"}
2020-09-09 09:38:16.418 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:38:16.419 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:38:16.598 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 09:38:16.777 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 09:38:16.834 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 09:38:16.836 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 09:38:16.840 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 09:38:27.299 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:38:27.301 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:38:27.493 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 09:38:27.669 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 09:38:27.719 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 09:38:27.722 +01:00 [DBG] Getting claims for identity token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7 and client: TaxAdminCode
2020-09-09 09:38:27.723 +01:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-09-09 09:38:27.725 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"openid profile email collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"id_token","TokenValue":"****btWA","$type":"Token"},{"TokenType":"access_token","TokenValue":"****PIZw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KJ9FQMRTJ:00000001","TimeStamp":"2020-09-09T08:38:27.0000000Z","ProcessId":34412,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 09:38:27.733 +01:00 [DBG] Token request success.
2020-09-09 09:38:27.807 +01:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2020-09-09 09:38:27.809 +01:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2020-09-09 09:38:27.809 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2020-09-09 09:38:27.810 +01:00 [DBG] Start userinfo request
2020-09-09 09:38:27.811 +01:00 [DBG] Bearer token found in header
2020-09-09 09:38:28.767 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:38:28.767 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:38:29.661 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:38:29.661 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:38:29.800 +01:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2020-09-09 09:38:29.803 +01:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"27C820E95D76D10087461BB5B3AFFFD6","Claims":{"nbf":1599640705,"exp":1599644305,"iss":"https://localhost:5001","aud":["collectorapi","https://localhost:5001/resources"],"client_id":"TaxAdminCode","sub":"8aa41560-b391-43ed-835a-2542e99b7cd7","auth_time":1599640690,"idp":"local","WebSite":"83488df5-c4b5-4ca9-b33c-92b5b3ca0641","AssemblyCode":"C0002","AssemblyName":"ABLEKUMA NORTH MUNICIPAL ASSEMBLY","AssemblyLogo":"a26d8c7c-a8c4-4a09-83e7-700041b5efdb.png","FirstName":"Somad","LastName":"Yessoufou","jti":"27C820E95D76D10087461BB5B3AFFFD6","sid":"0150A1029D0786EDB910B1940698D3C9","iat":1599640705,"scope":["openid","profile","email","collectorapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2020-09-09 09:38:29.813 +01:00 [DBG] Creating userinfo response
2020-09-09 09:38:29.814 +01:00 [DBG] Scopes in access token: openid profile email collectorapi
2020-09-09 09:38:29.989 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 09:38:30.000 +01:00 [DBG] Requested claim types: updated_at name family_name given_name middle_name nickname preferred_username picture website gender birthdate zoneinfo locale profile sub email_verified email
2020-09-09 09:38:33.856 +01:00 [INF] Profile service returned the following claim types: sub website preferred_username name email email_verified WebSite AssemblyCode AssemblyName AssemblyLogo FirstName LastName
2020-09-09 09:38:33.857 +01:00 [DBG] End userinfo request
2020-09-09 09:39:21.358 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 09:39:22.056 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:39:22.056 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:39:22.061 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 09:39:22.061 +01:00 [DBG] No PKCE used.
2020-09-09 09:39:22.199 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 09:39:22.367 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 09:39:22.416 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 09:39:22.419 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 09:39:23.157 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:39:23.158 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:39:39.683 +01:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-09-09 09:39:42.984 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 09:39:44.423 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:39:44.424 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:39:44.427 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 09:39:44.429 +01:00 [DBG] No PKCE used.
2020-09-09 09:39:44.579 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 09:39:45.182 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 09:39:45.565 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 09:39:45.568 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 09:39:47.476 +01:00 [DBG] Augmenting SignInContext
2020-09-09 09:39:47.476 +01:00 [DBG] Adding idp claim with value: local
2020-09-09 09:39:47.478 +01:00 [DBG] Adding auth_time claim with value: 1599640787
2020-09-09 09:39:47.479 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 09:39:47.687 +01:00 [INF] {"Username":"T0009","Provider":null,"ProviderUserId":null,"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","DisplayName":"T0009","Endpoint":"UI","ClientId":"TaxAdminCode","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HM2KJ9FQMRTI:00000037","TimeStamp":"2020-09-09T08:39:47.0000000Z","ProcessId":34412,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2020-09-09 09:39:49.209 +01:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2020-09-09 09:39:49.219 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2020-09-09 09:39:49.221 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-09-09 09:39:49.225 +01:00 [DBG] Start authorize callback request
2020-09-09 09:39:49.227 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 09:39:49.228 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 09:39:49.929 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:39:49.932 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:39:49.942 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 09:39:49.943 +01:00 [DBG] No PKCE used.
2020-09-09 09:39:50.063 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 09:39:50.213 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 09:39:50.262 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 09:39:50.264 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 09:39:50.270 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"https://localhost:44302/signin-oidc","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile email collectorapi","State":"CfDJ8M4LjOOeCp5DlHUMpekaVSdkhXF91ki7jpPE0QGCH_sk-D9QJSynoArxNiF9UfTprPUtRuPwyJd_TyRLPqkeyIiDi9VPQ20z1KMsyE5qkaKefv4OjbQ8zaNdzKbDJvIA8PM-Le9EsNuglCRLPlaC6Ult8fXXDxcSrqubiSlCIK48bAwlvZ2t52iz4i-lTCJptft9JpQ_5hpQTA2ObDD_QQqNBZarhlnIjvd8dBNnGGIKWVqUdzCq2LFhZEawVADwyLkP81t_lFNf7f6aYRvfO3xUUGQXGSlXFyCrytbQ7pJ435br0g8k0XNm1m5tUt--Mw","UiLocales":null,"Nonce":"637352374389184482.ZTM5MmUxMzQtZTM4ZS00ODgyLWI4MjItMDAwOTJiMDQ5MjBhMmExYzBkZjYtYjA1MS00OWYxLWEwZWMtMzZmMWQ4MjI1ZGU4","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"E3C0B70C9F9AA5098A6DB685A3F4F328","Raw":{"client_id":"TaxAdminCode","redirect_uri":"https://localhost:44302/signin-oidc","response_type":"code","scope":"openid profile email collectorapi","response_mode":"form_post","nonce":"637352374389184482.ZTM5MmUxMzQtZTM4ZS00ODgyLWI4MjItMDAwOTJiMDQ5MjBhMmExYzBkZjYtYjA1MS00OWYxLWEwZWMtMzZmMWQ4MjI1ZGU4","state":"CfDJ8M4LjOOeCp5DlHUMpekaVSdkhXF91ki7jpPE0QGCH_sk-D9QJSynoArxNiF9UfTprPUtRuPwyJd_TyRLPqkeyIiDi9VPQ20z1KMsyE5qkaKefv4OjbQ8zaNdzKbDJvIA8PM-Le9EsNuglCRLPlaC6Ult8fXXDxcSrqubiSlCIK48bAwlvZ2t52iz4i-lTCJptft9JpQ_5hpQTA2ObDD_QQqNBZarhlnIjvd8dBNnGGIKWVqUdzCq2LFhZEawVADwyLkP81t_lFNf7f6aYRvfO3xUUGQXGSlXFyCrytbQ7pJ435br0g8k0XNm1m5tUt--Mw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.5.0.0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 09:39:50.411 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 09:39:50.415 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 09:39:50.547 +01:00 [DBG] 5STTW5EctKiTmELvB1n05nlyhsB0SJ1nG+DY+coZsws= not found in database
2020-09-09 09:39:50.814 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"https://localhost:44302/signin-oidc","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"openid profile email collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****F490","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KJ9FQMRTI:00000039","TimeStamp":"2020-09-09T08:39:50.0000000Z","ProcessId":34412,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 09:39:50.823 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"https://localhost:44302/signin-oidc","State":"CfDJ8M4LjOOeCp5DlHUMpekaVSdkhXF91ki7jpPE0QGCH_sk-D9QJSynoArxNiF9UfTprPUtRuPwyJd_TyRLPqkeyIiDi9VPQ20z1KMsyE5qkaKefv4OjbQ8zaNdzKbDJvIA8PM-Le9EsNuglCRLPlaC6Ult8fXXDxcSrqubiSlCIK48bAwlvZ2t52iz4i-lTCJptft9JpQ_5hpQTA2ObDD_QQqNBZarhlnIjvd8dBNnGGIKWVqUdzCq2LFhZEawVADwyLkP81t_lFNf7f6aYRvfO3xUUGQXGSlXFyCrytbQ7pJ435br0g8k0XNm1m5tUt--Mw","Scope":"openid profile email collectorapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 09:39:50.828 +01:00 [DBG] Augmenting SignInContext
2020-09-09 09:39:50.829 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 09:44:33.474 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 09:44:33.480 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 09:44:33.480 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 09:44:33.481 +01:00 [DBG] Start authorize request
2020-09-09 09:44:33.482 +01:00 [DBG] No user present in authorize request
2020-09-09 09:44:33.483 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 09:44:38.474 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:44:38.475 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:44:38.477 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 09:44:38.478 +01:00 [DBG] No PKCE used.
2020-09-09 09:44:38.717 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 09:44:38.899 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 09:44:38.953 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 09:44:38.957 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 09:44:38.959 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi profile openid email","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi profile openid email","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 09:44:38.978 +01:00 [INF] Showing login: User is not authenticated
2020-09-09 09:44:39.044 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 09:44:40.169 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:44:40.170 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:44:40.176 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 09:44:40.176 +01:00 [DBG] No PKCE used.
2020-09-09 09:44:40.476 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 09:44:40.813 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 09:44:40.879 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 09:44:40.880 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 09:44:41.756 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:44:41.757 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:44:50.163 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 09:44:50.177 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 09:44:50.179 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 09:44:50.180 +01:00 [DBG] Start authorize request
2020-09-09 09:44:50.181 +01:00 [DBG] No user present in authorize request
2020-09-09 09:44:50.181 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 09:44:51.075 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:44:51.076 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:44:51.078 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 09:44:51.079 +01:00 [DBG] No PKCE used.
2020-09-09 09:44:51.132 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 09:44:51.392 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 09:44:51.469 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 09:44:51.471 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 09:44:51.472 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 09:44:51.493 +01:00 [INF] Showing login: User is not authenticated
2020-09-09 09:44:51.502 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 09:44:52.360 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:44:52.361 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:44:52.363 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 09:44:52.364 +01:00 [DBG] No PKCE used.
2020-09-09 09:44:52.401 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 09:44:52.574 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 09:44:52.629 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 09:44:52.635 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 09:44:53.425 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:44:53.428 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:45:12.350 +01:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-09-09 09:45:15.399 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 09:45:16.560 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:45:16.562 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:45:16.590 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 09:45:16.595 +01:00 [DBG] No PKCE used.
2020-09-09 09:45:16.649 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 09:45:16.811 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 09:45:16.853 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 09:45:16.856 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 09:45:18.087 +01:00 [DBG] Augmenting SignInContext
2020-09-09 09:45:18.087 +01:00 [DBG] Adding idp claim with value: local
2020-09-09 09:45:18.089 +01:00 [DBG] Adding auth_time claim with value: 1599641118
2020-09-09 09:45:18.091 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 09:45:18.229 +01:00 [INF] {"Username":"T0009","Provider":null,"ProviderUserId":null,"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","DisplayName":"T0009","Endpoint":"UI","ClientId":"TaxAdminCode","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HM2KJ9FQMRTS:0000000F","TimeStamp":"2020-09-09T08:45:18.0000000Z","ProcessId":34412,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2020-09-09 09:45:20.049 +01:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2020-09-09 09:45:20.051 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2020-09-09 09:45:20.057 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-09-09 09:45:20.058 +01:00 [DBG] Start authorize callback request
2020-09-09 09:45:20.060 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 09:45:20.061 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 09:45:20.940 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:45:20.940 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:45:20.942 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 09:45:20.943 +01:00 [DBG] No PKCE used.
2020-09-09 09:45:21.024 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 09:45:21.213 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 09:45:21.279 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 09:45:21.288 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 09:45:21.291 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"20CF5EECB40DBE4FA5DECFED668BBA83","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 09:45:21.452 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 09:45:21.454 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 09:45:21.544 +01:00 [DBG] zWMX5J/6HbqR8ABfd6n77/1tUCLcpAmOQM+cQiU6JLM= not found in database
2020-09-09 09:45:21.899 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****E62F","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KJ9FQMRTS:00000011","TimeStamp":"2020-09-09T08:45:21.0000000Z","ProcessId":34412,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 09:45:21.916 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 09:45:21.919 +01:00 [DBG] Augmenting SignInContext
2020-09-09 09:45:21.920 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 09:45:22.299 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 09:45:22.308 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 09:45:22.309 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 09:45:22.311 +01:00 [DBG] Start token request.
2020-09-09 09:45:22.312 +01:00 [DBG] Start client validation
2020-09-09 09:45:22.313 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 09:45:22.313 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-09-09 09:45:22.314 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 09:45:23.239 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:45:23.240 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:45:23.245 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 09:45:23.245 +01:00 [DBG] Client validation success
2020-09-09 09:45:23.246 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KJ9FQMRTV:00000001","TimeStamp":"2020-09-09T08:45:23.0000000Z","ProcessId":34412,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 09:45:23.250 +01:00 [DBG] Start token request validation
2020-09-09 09:45:23.250 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 09:45:23.454 +01:00 [DBG] zWMX5J/6HbqR8ABfd6n77/1tUCLcpAmOQM+cQiU6JLM= found in database: true
2020-09-09 09:45:23.600 +01:00 [DBG] removing zWMX5J/6HbqR8ABfd6n77/1tUCLcpAmOQM+cQiU6JLM= persisted grant from database
2020-09-09 09:45:24.159 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 09:45:24.159 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"2B9C7FF9F7BD7BF15C3CDF444D819BBC54811778B142E5C08F681B491A67E62F","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"2B9C7FF9F7BD7BF15C3CDF444D819BBC54811778B142E5C08F681B491A67E62F","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-09-09 09:45:25.211 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 09:45:25.211 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 09:45:25.429 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 09:45:25.638 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 09:45:25.753 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 09:45:25.758 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 09:45:25.759 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 09:45:29.839 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"access_token","TokenValue":"****4RVA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KJ9FQMRTV:00000001","TimeStamp":"2020-09-09T08:45:29.0000000Z","ProcessId":34412,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 09:45:29.853 +01:00 [DBG] Token request success.
2020-09-09 10:03:22.110 +01:00 [INF] Starting host...
2020-09-09 10:03:25.205 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-09 10:03:25.219 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-09 10:03:25.220 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-09 10:03:25.221 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-09 10:03:25.222 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-09 10:03:25.222 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-09 10:03:25.223 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-09 10:03:25.412 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-09 10:03:25.412 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-09 10:03:25.413 +01:00 [INF] Hosting environment: Development
2020-09-09 10:03:25.414 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-09 10:03:26.650 +01:00 [DBG] Login Url: /Account/Login
2020-09-09 10:03:26.652 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-09 10:03:26.653 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-09 10:03:26.654 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-09 10:03:26.654 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-09 10:03:26.655 +01:00 [DBG] Error Url: /home/error
2020-09-09 10:03:26.655 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 10:03:34.247 +01:00 [DBG] CORS request made for path: /Account/Logout from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-09-09 10:03:35.502 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:03:35.510 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:03:35.512 +01:00 [DBG] No client back-channel logout URLs
2020-09-09 10:03:35.521 +01:00 [INF] AuthenticationScheme: Identity.Application signed out.
2020-09-09 10:03:35.524 +01:00 [INF] AuthenticationScheme: Identity.External signed out.
2020-09-09 10:03:35.525 +01:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2020-09-09 10:03:35.534 +01:00 [INF] {"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","DisplayName":"T0009","Category":"Authentication","Name":"User Logout Success","EventType":"Success","Id":1002,"Message":null,"ActivityId":"0HM2KJSR0QJD6:00000019","TimeStamp":"2020-09-09T09:03:35.0000000Z","ProcessId":29652,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"UserLogoutSuccessEvent"}
2020-09-09 10:03:35.630 +01:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2020-09-09 10:03:35.688 +01:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2020-09-09 10:03:35.690 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2020-09-09 10:03:35.694 +01:00 [DBG] Processing signout callback request
2020-09-09 10:03:36.423 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:03:36.424 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:03:36.427 +01:00 [DBG] No client front-channel logout URLs
2020-09-09 10:03:36.429 +01:00 [INF] Successful signout callback.
2020-09-09 10:03:52.721 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 10:03:52.727 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 10:03:52.728 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 10:03:52.731 +01:00 [DBG] Start authorize request
2020-09-09 10:03:52.735 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 10:03:52.738 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 10:03:53.545 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:03:53.548 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:03:53.563 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 10:03:53.564 +01:00 [DBG] No PKCE used.
2020-09-09 10:03:53.679 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 10:03:53.883 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:03:53.970 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:03:53.996 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 10:03:54.005 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"20CF5EECB40DBE4FA5DECFED668BBA83","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 10:03:54.194 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 10:03:54.197 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 10:03:54.372 +01:00 [DBG] dnwAJ0lDbHVVF8d0L0d5bfo9/a4f5qVeWHE7mfm/azU= not found in database
2020-09-09 10:03:54.782 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****F73C","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KJSR0QJD7:00000001","TimeStamp":"2020-09-09T09:03:54.0000000Z","ProcessId":29652,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 10:03:54.793 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 10:03:54.800 +01:00 [DBG] Augmenting SignInContext
2020-09-09 10:03:54.804 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 10:03:55.068 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 10:03:55.084 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 10:03:55.087 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 10:03:55.092 +01:00 [DBG] Start token request.
2020-09-09 10:03:55.094 +01:00 [DBG] Start client validation
2020-09-09 10:03:55.096 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 10:03:55.097 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-09-09 10:03:55.098 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 10:03:55.815 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:03:55.816 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:03:55.819 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 10:03:55.820 +01:00 [DBG] Client validation success
2020-09-09 10:03:55.822 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KJSR0QJD9:00000001","TimeStamp":"2020-09-09T09:03:55.0000000Z","ProcessId":29652,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 10:03:55.828 +01:00 [DBG] Start token request validation
2020-09-09 10:03:55.830 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 10:03:55.987 +01:00 [DBG] dnwAJ0lDbHVVF8d0L0d5bfo9/a4f5qVeWHE7mfm/azU= found in database: true
2020-09-09 10:03:56.144 +01:00 [DBG] removing dnwAJ0lDbHVVF8d0L0d5bfo9/a4f5qVeWHE7mfm/azU= persisted grant from database
2020-09-09 10:03:56.487 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 10:03:56.491 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"581A9C3530F0CF58126F863197B3FCFE86FB01D738D08295DEC8DB819FF4F73C","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"581A9C3530F0CF58126F863197B3FCFE86FB01D738D08295DEC8DB819FF4F73C","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-09-09 10:03:57.257 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:03:57.259 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:03:57.296 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 10:03:57.456 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:03:57.502 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:03:57.514 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 10:03:57.515 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 10:04:03.935 +01:00 [WRN] No type was specified for the decimal column 'nCashLimit' on entity type 'AspNetUsers'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-09-09 10:04:06.430 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"access_token","TokenValue":"****HQrw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KJSR0QJD9:00000001","TimeStamp":"2020-09-09T09:04:06.0000000Z","ProcessId":29652,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 10:04:06.441 +01:00 [DBG] Token request success.
2020-09-09 10:12:32.086 +01:00 [INF] Starting host...
2020-09-09 10:12:35.101 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-09 10:12:35.115 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-09 10:12:35.116 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-09 10:12:35.117 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-09 10:12:35.117 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-09 10:12:35.117 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-09 10:12:35.118 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-09 10:12:35.303 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-09 10:12:35.304 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-09 10:12:35.304 +01:00 [INF] Hosting environment: Development
2020-09-09 10:12:35.305 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-09 10:12:36.144 +01:00 [DBG] Login Url: /Account/Login
2020-09-09 10:12:36.146 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-09 10:12:36.148 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-09 10:12:36.148 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-09 10:12:36.149 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-09 10:12:36.150 +01:00 [DBG] Error Url: /home/error
2020-09-09 10:12:36.150 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 10:16:34.290 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 10:16:34.325 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 10:16:34.327 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 10:16:34.330 +01:00 [DBG] Start authorize request
2020-09-09 10:16:34.334 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 10:16:34.348 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 10:16:35.397 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:16:35.404 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:16:35.414 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 10:16:35.415 +01:00 [DBG] No PKCE used.
2020-09-09 10:16:35.522 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 10:16:35.724 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:16:35.876 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:16:35.923 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 10:16:35.934 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"20CF5EECB40DBE4FA5DECFED668BBA83","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 10:16:35.965 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 10:16:35.967 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 10:16:36.151 +01:00 [DBG] aOuWpX4ecjODNzfnFw9EQk1CheUPTSlATd3m9lGPnEg= not found in database
2020-09-09 10:16:36.572 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****D71E","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KK1USFO39:00000001","TimeStamp":"2020-09-09T09:16:36.0000000Z","ProcessId":6856,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 10:16:36.586 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 10:16:36.599 +01:00 [DBG] Augmenting SignInContext
2020-09-09 10:16:36.607 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 10:16:36.850 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 10:16:36.855 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 10:16:36.856 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 10:16:36.860 +01:00 [DBG] Start token request.
2020-09-09 10:16:36.862 +01:00 [DBG] Start client validation
2020-09-09 10:16:36.869 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 10:16:36.870 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-09-09 10:16:36.871 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 10:16:37.633 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:16:37.634 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:16:37.637 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 10:16:37.637 +01:00 [DBG] Client validation success
2020-09-09 10:16:37.639 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KK1USFO3B:00000001","TimeStamp":"2020-09-09T09:16:37.0000000Z","ProcessId":6856,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 10:16:37.648 +01:00 [DBG] Start token request validation
2020-09-09 10:16:37.651 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 10:16:37.799 +01:00 [DBG] aOuWpX4ecjODNzfnFw9EQk1CheUPTSlATd3m9lGPnEg= found in database: true
2020-09-09 10:16:37.993 +01:00 [DBG] removing aOuWpX4ecjODNzfnFw9EQk1CheUPTSlATd3m9lGPnEg= persisted grant from database
2020-09-09 10:16:38.562 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 10:16:38.566 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"4FDD7705BCD0D7A5E1A6284A944469B805EDB593BCF599FA71649402A2C1D71E","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"4FDD7705BCD0D7A5E1A6284A944469B805EDB593BCF599FA71649402A2C1D71E","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-09-09 10:16:39.291 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:16:39.292 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:16:39.329 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 10:16:39.479 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:16:39.536 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:16:39.547 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 10:16:39.548 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 10:16:56.883 +01:00 [WRN] No type was specified for the decimal column 'nCashLimit' on entity type 'AspNetUsers'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-09-09 10:17:06.743 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"access_token","TokenValue":"****zBWw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KK1USFO3B:00000001","TimeStamp":"2020-09-09T09:17:06.0000000Z","ProcessId":6856,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 10:17:06.750 +01:00 [DBG] Token request success.
2020-09-09 10:22:58.921 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 10:22:58.925 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 10:22:58.926 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 10:22:58.929 +01:00 [DBG] Start authorize request
2020-09-09 10:22:58.930 +01:00 [DBG] No user present in authorize request
2020-09-09 10:22:58.931 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 10:23:00.196 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:23:00.197 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:23:00.199 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 10:23:00.200 +01:00 [DBG] No PKCE used.
2020-09-09 10:23:00.319 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 10:23:00.483 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:23:00.530 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:23:00.534 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 10:23:00.537 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi email openid profile","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi email openid profile","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 10:23:00.558 +01:00 [INF] Showing login: User is not authenticated
2020-09-09 10:23:00.698 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 10:23:01.448 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:23:01.449 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:23:01.452 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 10:23:01.456 +01:00 [DBG] No PKCE used.
2020-09-09 10:23:01.572 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 10:23:01.741 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:23:01.790 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:23:01.793 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 10:23:02.616 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:23:02.617 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:23:29.907 +01:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-09-09 10:23:32.582 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 10:23:33.310 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:23:33.312 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:23:33.314 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 10:23:33.314 +01:00 [DBG] No PKCE used.
2020-09-09 10:23:33.535 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 10:23:33.701 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:23:33.753 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:23:33.755 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 10:23:34.932 +01:00 [DBG] Augmenting SignInContext
2020-09-09 10:23:34.933 +01:00 [DBG] Adding idp claim with value: local
2020-09-09 10:23:34.934 +01:00 [DBG] Adding auth_time claim with value: 1599643414
2020-09-09 10:23:34.937 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 10:23:35.061 +01:00 [INF] {"Username":"T0009","Provider":null,"ProviderUserId":null,"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","DisplayName":"T0009","Endpoint":"UI","ClientId":"TaxAdminCode","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HM2KK1USFO3E:00000005","TimeStamp":"2020-09-09T09:23:35.0000000Z","ProcessId":6856,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2020-09-09 10:23:35.812 +01:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2020-09-09 10:23:35.814 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2020-09-09 10:23:35.817 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-09-09 10:23:35.819 +01:00 [DBG] Start authorize callback request
2020-09-09 10:23:35.822 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 10:23:35.823 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 10:23:36.560 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:23:36.561 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:23:36.564 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 10:23:36.564 +01:00 [DBG] No PKCE used.
2020-09-09 10:23:36.695 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 10:23:36.853 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:23:36.891 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:23:36.898 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 10:23:36.899 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi email openid profile","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"FB3DFF3AAD4CDD0DDA46194EF463297F","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi email openid profile","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 10:23:37.069 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 10:23:37.070 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 10:23:37.202 +01:00 [DBG] RIX8+SrpGWoeblPb/tAHPxsXA1XPAONSmqD7YKQpwZk= not found in database
2020-09-09 10:23:37.456 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi email openid profile","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****1060","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KK1USFO3E:00000007","TimeStamp":"2020-09-09T09:23:37.0000000Z","ProcessId":6856,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 10:23:37.463 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi email openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 10:23:37.467 +01:00 [DBG] Augmenting SignInContext
2020-09-09 10:23:37.468 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 10:23:37.768 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 10:23:37.770 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 10:23:37.771 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 10:23:37.775 +01:00 [DBG] Start token request.
2020-09-09 10:23:37.776 +01:00 [DBG] Start client validation
2020-09-09 10:23:37.777 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 10:23:37.777 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-09-09 10:23:37.778 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 10:23:38.600 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:23:38.602 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:23:38.605 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 10:23:38.606 +01:00 [DBG] Client validation success
2020-09-09 10:23:38.608 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KK1USFO3G:00000001","TimeStamp":"2020-09-09T09:23:38.0000000Z","ProcessId":6856,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 10:23:38.613 +01:00 [DBG] Start token request validation
2020-09-09 10:23:38.613 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 10:23:38.783 +01:00 [DBG] RIX8+SrpGWoeblPb/tAHPxsXA1XPAONSmqD7YKQpwZk= found in database: true
2020-09-09 10:23:38.948 +01:00 [DBG] removing RIX8+SrpGWoeblPb/tAHPxsXA1XPAONSmqD7YKQpwZk= persisted grant from database
2020-09-09 10:23:39.316 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 10:23:39.317 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"8CE23AA43D113987CDDC68CD3286063676916817367235BFF8460B2CCFBE1060","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"8CE23AA43D113987CDDC68CD3286063676916817367235BFF8460B2CCFBE1060","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-09-09 10:23:40.111 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:23:40.112 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:23:40.262 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 10:23:40.448 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:23:40.502 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:23:40.506 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 10:23:40.509 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 10:23:45.875 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:23:45.876 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:23:46.015 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 10:23:46.195 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:23:46.255 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:23:46.265 +01:00 [DBG] Getting claims for identity token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7 and client: TaxAdminCode
2020-09-09 10:23:46.269 +01:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-09-09 10:23:46.272 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi email openid profile","GrantType":"authorization_code","Tokens":[{"TokenType":"id_token","TokenValue":"****JpZQ","$type":"Token"},{"TokenType":"access_token","TokenValue":"****LNbQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KK1USFO3G:00000001","TimeStamp":"2020-09-09T09:23:46.0000000Z","ProcessId":6856,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 10:23:46.281 +01:00 [DBG] Token request success.
2020-09-09 10:27:33.290 +01:00 [INF] Starting host...
2020-09-09 10:27:36.211 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-09 10:27:36.232 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-09 10:27:36.233 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-09 10:27:36.233 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-09 10:27:36.233 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-09 10:27:36.233 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-09 10:27:36.234 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-09 10:27:36.525 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-09 10:27:36.526 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-09 10:27:36.526 +01:00 [INF] Hosting environment: Development
2020-09-09 10:27:36.527 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-09 10:27:38.284 +01:00 [DBG] Login Url: /Account/Login
2020-09-09 10:27:38.287 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-09 10:27:38.289 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-09 10:27:38.289 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-09 10:27:38.290 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-09 10:27:38.292 +01:00 [DBG] Error Url: /home/error
2020-09-09 10:27:38.293 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 10:28:02.086 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 10:28:02.122 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 10:28:02.124 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 10:28:02.127 +01:00 [DBG] Start authorize request
2020-09-09 10:28:02.134 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 10:28:02.146 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 10:28:03.452 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:28:03.459 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:28:03.470 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 10:28:03.471 +01:00 [DBG] No PKCE used.
2020-09-09 10:28:03.696 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 10:28:03.929 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:28:04.080 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:28:04.106 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 10:28:04.117 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi email openid profile","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"FB3DFF3AAD4CDD0DDA46194EF463297F","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi email openid profile","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 10:28:04.347 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 10:28:04.350 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 10:28:04.528 +01:00 [DBG] +S6g7Acj0+jDOkea5yN5ykxUJ4LwfPLkG7y1m9ERM5U= not found in database
2020-09-09 10:28:04.939 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi email openid profile","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****7019","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KKABFT0DH:00000001","TimeStamp":"2020-09-09T09:28:04.0000000Z","ProcessId":34336,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 10:28:04.950 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi email openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 10:28:04.965 +01:00 [DBG] Augmenting SignInContext
2020-09-09 10:28:04.975 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 10:28:05.257 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 10:28:05.264 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 10:28:05.268 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 10:28:05.273 +01:00 [DBG] Start token request.
2020-09-09 10:28:05.274 +01:00 [DBG] Start client validation
2020-09-09 10:28:05.277 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 10:28:05.278 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-09-09 10:28:05.278 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 10:28:06.275 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:28:06.276 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:28:06.279 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 10:28:06.279 +01:00 [DBG] Client validation success
2020-09-09 10:28:06.281 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KKABFT0DJ:00000001","TimeStamp":"2020-09-09T09:28:06.0000000Z","ProcessId":34336,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 10:28:06.295 +01:00 [DBG] Start token request validation
2020-09-09 10:28:06.299 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 10:28:06.466 +01:00 [DBG] +S6g7Acj0+jDOkea5yN5ykxUJ4LwfPLkG7y1m9ERM5U= found in database: true
2020-09-09 10:28:06.647 +01:00 [DBG] removing +S6g7Acj0+jDOkea5yN5ykxUJ4LwfPLkG7y1m9ERM5U= persisted grant from database
2020-09-09 10:28:07.059 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 10:28:07.070 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"3BB2714313DD6E8C89D63B185E931117AE54B8081BEB6E162026128506827019","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"3BB2714313DD6E8C89D63B185E931117AE54B8081BEB6E162026128506827019","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-09-09 10:28:07.916 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:28:07.920 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:28:08.077 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 10:28:08.232 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:28:08.280 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:28:08.291 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 10:28:08.292 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 10:28:12.301 +01:00 [WRN] No type was specified for the decimal column 'nCashLimit' on entity type 'AspNetUsers'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-09-09 10:28:15.113 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:28:15.114 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:28:15.218 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 10:28:15.372 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:28:15.435 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:28:15.451 +01:00 [DBG] Getting claims for identity token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7 and client: TaxAdminCode
2020-09-09 10:28:15.453 +01:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-09-09 10:28:15.460 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi email openid profile","GrantType":"authorization_code","Tokens":[{"TokenType":"id_token","TokenValue":"****p3DQ","$type":"Token"},{"TokenType":"access_token","TokenValue":"****hXcw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KKABFT0DJ:00000001","TimeStamp":"2020-09-09T09:28:15.0000000Z","ProcessId":34336,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 10:28:15.473 +01:00 [DBG] Token request success.
2020-09-09 10:29:11.372 +01:00 [INF] Starting host...
2020-09-09 10:29:14.578 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-09 10:29:14.593 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-09 10:29:14.593 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-09 10:29:14.594 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-09 10:29:14.594 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-09 10:29:14.595 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-09 10:29:14.595 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-09 10:29:14.795 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-09 10:29:14.796 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-09 10:29:14.796 +01:00 [INF] Hosting environment: Development
2020-09-09 10:29:14.798 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-09 10:29:16.200 +01:00 [DBG] Login Url: /Account/Login
2020-09-09 10:29:16.202 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-09 10:29:16.203 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-09 10:29:16.204 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-09 10:29:16.205 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-09 10:29:16.205 +01:00 [DBG] Error Url: /home/error
2020-09-09 10:29:16.206 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 10:30:04.739 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 10:30:04.783 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 10:30:04.784 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 10:30:04.786 +01:00 [DBG] Start authorize request
2020-09-09 10:30:04.790 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 10:30:04.803 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 10:30:05.964 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:30:05.971 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:30:05.981 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 10:30:05.983 +01:00 [DBG] No PKCE used.
2020-09-09 10:30:06.193 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 10:30:06.433 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:30:06.560 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:30:06.585 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 10:30:06.595 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi email openid profile","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"FB3DFF3AAD4CDD0DDA46194EF463297F","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi email openid profile","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 10:30:06.782 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 10:30:06.785 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 10:30:06.954 +01:00 [DBG] tBlAEH75T4N9mJF2/411d0y7jX0wd0jOwJbuWDTJ160= not found in database
2020-09-09 10:30:07.347 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi email openid profile","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****5B98","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KKB8RACEP:00000001","TimeStamp":"2020-09-09T09:30:07.0000000Z","ProcessId":11452,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 10:30:07.355 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi email openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 10:30:07.368 +01:00 [DBG] Augmenting SignInContext
2020-09-09 10:30:07.377 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 10:30:07.684 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 10:30:07.689 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 10:30:07.690 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 10:30:07.694 +01:00 [DBG] Start token request.
2020-09-09 10:30:07.696 +01:00 [DBG] Start client validation
2020-09-09 10:30:07.699 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 10:30:07.700 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-09-09 10:30:07.700 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 10:30:08.569 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:30:08.571 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:30:08.574 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 10:30:08.575 +01:00 [DBG] Client validation success
2020-09-09 10:30:08.577 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KKB8RACER:00000001","TimeStamp":"2020-09-09T09:30:08.0000000Z","ProcessId":11452,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 10:30:08.588 +01:00 [DBG] Start token request validation
2020-09-09 10:30:08.591 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 10:30:08.754 +01:00 [DBG] tBlAEH75T4N9mJF2/411d0y7jX0wd0jOwJbuWDTJ160= found in database: true
2020-09-09 10:30:08.965 +01:00 [DBG] removing tBlAEH75T4N9mJF2/411d0y7jX0wd0jOwJbuWDTJ160= persisted grant from database
2020-09-09 10:30:09.306 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 10:30:09.309 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"AAD75FD25BB119D6AE8E44726C9A703773F6BCEA84E31EA4D70E5F6B4FD55B98","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"AAD75FD25BB119D6AE8E44726C9A703773F6BCEA84E31EA4D70E5F6B4FD55B98","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-09-09 10:30:10.034 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:30:10.035 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:30:10.153 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 10:30:10.316 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:30:10.361 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:30:10.375 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 10:30:10.376 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 10:30:14.299 +01:00 [WRN] No type was specified for the decimal column 'nCashLimit' on entity type 'AspNetUsers'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-09-09 10:30:16.965 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:30:16.967 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:30:17.108 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 10:30:17.273 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:30:17.326 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:30:17.361 +01:00 [DBG] Getting claims for identity token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7 and client: TaxAdminCode
2020-09-09 10:30:17.363 +01:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-09-09 10:30:17.372 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi email openid profile","GrantType":"authorization_code","Tokens":[{"TokenType":"id_token","TokenValue":"****yapg","$type":"Token"},{"TokenType":"access_token","TokenValue":"****Wsaw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KKB8RACER:00000001","TimeStamp":"2020-09-09T09:30:17.0000000Z","ProcessId":11452,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 10:30:17.383 +01:00 [DBG] Token request success.
2020-09-09 10:38:38.935 +01:00 [INF] Starting host...
2020-09-09 10:38:42.707 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-09 10:38:42.721 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-09 10:38:42.722 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-09 10:38:42.722 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-09 10:38:42.723 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-09 10:38:42.723 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-09 10:38:42.724 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-09 10:38:42.921 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-09 10:38:42.921 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-09 10:38:42.922 +01:00 [INF] Hosting environment: Development
2020-09-09 10:38:42.923 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-09 10:38:44.515 +01:00 [DBG] Login Url: /Account/Login
2020-09-09 10:38:44.517 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-09 10:38:44.527 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-09 10:38:44.530 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-09 10:38:44.530 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-09 10:38:44.531 +01:00 [DBG] Error Url: /home/error
2020-09-09 10:38:44.531 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 10:39:22.042 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 10:39:22.093 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 10:39:22.095 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 10:39:22.097 +01:00 [DBG] Start authorize request
2020-09-09 10:39:22.106 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 10:39:22.119 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 10:39:23.349 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:39:23.356 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:39:23.366 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 10:39:23.367 +01:00 [DBG] No PKCE used.
2020-09-09 10:39:23.592 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 10:39:23.827 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:39:23.993 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:39:24.043 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 10:39:24.055 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi email openid profile","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"FB3DFF3AAD4CDD0DDA46194EF463297F","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi email openid profile","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 10:39:24.287 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 10:39:24.288 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 10:39:24.447 +01:00 [DBG] V+rR7HC9vvbhXVFexBZtEVep3VtIUQV9E8Y1OPUyfgk= not found in database
2020-09-09 10:39:24.954 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi email openid profile","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****5611","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KKGI578O1:00000001","TimeStamp":"2020-09-09T09:39:24.0000000Z","ProcessId":35360,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 10:39:24.961 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi email openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 10:39:24.974 +01:00 [DBG] Augmenting SignInContext
2020-09-09 10:39:24.983 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 10:39:25.329 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 10:39:25.333 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 10:39:25.333 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 10:39:25.338 +01:00 [DBG] Start token request.
2020-09-09 10:39:25.340 +01:00 [DBG] Start client validation
2020-09-09 10:39:25.342 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 10:39:25.343 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-09-09 10:39:25.344 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 10:39:26.343 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:39:26.344 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:39:26.347 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 10:39:26.348 +01:00 [DBG] Client validation success
2020-09-09 10:39:26.350 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KKGI578O3:00000001","TimeStamp":"2020-09-09T09:39:26.0000000Z","ProcessId":35360,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 10:39:26.360 +01:00 [DBG] Start token request validation
2020-09-09 10:39:26.364 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 10:39:26.523 +01:00 [DBG] V+rR7HC9vvbhXVFexBZtEVep3VtIUQV9E8Y1OPUyfgk= found in database: true
2020-09-09 10:39:26.701 +01:00 [DBG] removing V+rR7HC9vvbhXVFexBZtEVep3VtIUQV9E8Y1OPUyfgk= persisted grant from database
2020-09-09 10:39:27.047 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 10:39:27.051 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"2C81A611C2EC85A27EF2CC4FB012A4075E8044142F86C439F83C85FB03905611","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"2C81A611C2EC85A27EF2CC4FB012A4075E8044142F86C439F83C85FB03905611","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-09-09 10:39:27.848 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:39:27.851 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:39:28.009 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 10:39:28.198 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:39:28.259 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:39:28.282 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 10:39:28.284 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 10:49:33.214 +01:00 [INF] Starting host...
2020-09-09 10:49:36.498 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-09 10:49:36.520 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-09 10:49:36.522 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-09 10:49:36.522 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-09 10:49:36.523 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-09 10:49:36.523 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-09 10:49:36.524 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-09 10:49:36.711 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-09 10:49:36.711 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-09 10:49:36.712 +01:00 [INF] Hosting environment: Development
2020-09-09 10:49:36.712 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-09 10:49:37.976 +01:00 [DBG] Login Url: /Account/Login
2020-09-09 10:49:37.978 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-09 10:49:37.979 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-09 10:49:37.980 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-09 10:49:37.980 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-09 10:49:37.981 +01:00 [DBG] Error Url: /home/error
2020-09-09 10:49:37.982 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 10:49:53.271 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 10:49:53.309 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 10:49:53.310 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 10:49:53.312 +01:00 [DBG] Start authorize request
2020-09-09 10:49:53.316 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 10:49:53.331 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 10:49:54.898 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:49:54.905 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:49:54.915 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 10:49:54.916 +01:00 [DBG] No PKCE used.
2020-09-09 10:49:55.129 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 10:49:55.340 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:49:55.441 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:49:55.466 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 10:49:55.477 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi email openid profile","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"FB3DFF3AAD4CDD0DDA46194EF463297F","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi email openid profile","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 10:49:55.730 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 10:49:55.732 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 10:49:55.928 +01:00 [DBG] keFGAl4A850iH2kXGJ+aeVWTA3a6hhjhinllK6O7VQA= not found in database
2020-09-09 10:49:56.453 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi email openid profile","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****69D3","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KKMKUGODE:00000001","TimeStamp":"2020-09-09T09:49:56.0000000Z","ProcessId":25256,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 10:49:56.463 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi email openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 10:49:56.477 +01:00 [DBG] Augmenting SignInContext
2020-09-09 10:49:56.485 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 10:49:56.766 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 10:49:56.771 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 10:49:56.772 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 10:49:56.775 +01:00 [DBG] Start token request.
2020-09-09 10:49:56.777 +01:00 [DBG] Start client validation
2020-09-09 10:49:56.780 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 10:49:56.781 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-09-09 10:49:56.781 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 10:49:57.632 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:49:57.633 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:49:57.638 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 10:49:57.639 +01:00 [DBG] Client validation success
2020-09-09 10:49:57.641 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KKMKUGODG:00000001","TimeStamp":"2020-09-09T09:49:57.0000000Z","ProcessId":25256,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 10:49:57.652 +01:00 [DBG] Start token request validation
2020-09-09 10:49:57.655 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 10:49:58.071 +01:00 [DBG] keFGAl4A850iH2kXGJ+aeVWTA3a6hhjhinllK6O7VQA= found in database: true
2020-09-09 10:49:58.333 +01:00 [DBG] removing keFGAl4A850iH2kXGJ+aeVWTA3a6hhjhinllK6O7VQA= persisted grant from database
2020-09-09 10:49:58.801 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 10:49:58.806 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"421955F16EA45B6939AFD59CC3D3F6237CD893A87E29B9B7819BF013460F69D3","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"421955F16EA45B6939AFD59CC3D3F6237CD893A87E29B9B7819BF013460F69D3","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-09-09 10:49:59.782 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:49:59.783 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:49:59.936 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 10:50:00.111 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:50:00.177 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:50:00.187 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 10:50:00.189 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 10:50:06.999 +01:00 [WRN] No type was specified for the decimal column 'nCashLimit' on entity type 'AspNetUsers'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-09-09 10:50:10.429 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:50:10.430 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:50:10.578 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 10:50:10.734 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:50:10.791 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:50:10.797 +01:00 [DBG] Getting claims for identity token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7 and client: TaxAdminCode
2020-09-09 10:50:10.803 +01:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-09-09 10:50:10.808 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi email openid profile","GrantType":"authorization_code","Tokens":[{"TokenType":"id_token","TokenValue":"****pX-g","$type":"Token"},{"TokenType":"access_token","TokenValue":"****lZQQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KKMKUGODG:00000001","TimeStamp":"2020-09-09T09:50:10.0000000Z","ProcessId":25256,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 10:50:10.812 +01:00 [DBG] Token request success.
2020-09-09 10:50:36.518 +01:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://jwt.io
2020-09-09 10:50:36.587 +01:00 [DBG] Origin https://jwt.io is allowed: false
2020-09-09 10:50:36.592 +01:00 [WRN] CorsPolicyService did not allow origin: https://jwt.io
2020-09-09 10:50:36.594 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-09 10:50:36.601 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-09 10:50:36.602 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-09 10:50:36.605 +01:00 [DBG] Start discovery request
2020-09-09 10:50:37.159 +01:00 [DBG] Found ["profile","openid","email","collectorapi"] as all scopes, and ["collectorapi","email","openid","profile"] as API resources
2020-09-09 10:53:08.584 +01:00 [INF] Starting host...
2020-09-09 10:53:11.284 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-09 10:53:11.306 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-09 10:53:11.307 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-09 10:53:11.308 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-09 10:53:11.308 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-09 10:53:11.308 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-09 10:53:11.308 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-09 10:53:11.714 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-09 10:53:11.714 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-09 10:53:11.714 +01:00 [INF] Hosting environment: Development
2020-09-09 10:53:11.715 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-09 10:53:14.326 +01:00 [DBG] Login Url: /Account/Login
2020-09-09 10:53:14.328 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-09 10:53:14.329 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-09 10:53:14.330 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-09 10:53:14.330 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-09 10:53:14.331 +01:00 [DBG] Error Url: /home/error
2020-09-09 10:53:14.331 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 10:54:08.450 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 10:54:08.483 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 10:54:08.485 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 10:54:08.492 +01:00 [DBG] Start authorize request
2020-09-09 10:54:08.496 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 10:54:08.508 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 10:54:09.598 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:54:09.606 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:54:09.616 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 10:54:09.617 +01:00 [DBG] No PKCE used.
2020-09-09 10:54:09.786 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 10:54:10.047 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:54:10.160 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:54:10.185 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 10:54:10.198 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi email openid profile","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"FB3DFF3AAD4CDD0DDA46194EF463297F","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi email openid profile","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 10:54:10.229 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 10:54:10.231 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 10:54:10.403 +01:00 [DBG] sccuH85UARc3EZh7DC+NczMwxAMeTUOBKis9IePPghw= not found in database
2020-09-09 10:54:10.777 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi email openid profile","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****539A","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KKOL1O15L:00000001","TimeStamp":"2020-09-09T09:54:10.0000000Z","ProcessId":26868,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 10:54:10.787 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi email openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 10:54:10.799 +01:00 [DBG] Augmenting SignInContext
2020-09-09 10:54:10.808 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 10:54:11.090 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 10:54:11.094 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 10:54:11.095 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 10:54:11.104 +01:00 [DBG] Start token request.
2020-09-09 10:54:11.105 +01:00 [DBG] Start client validation
2020-09-09 10:54:11.108 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 10:54:11.108 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-09-09 10:54:11.109 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 10:54:11.904 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:54:11.905 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:54:11.908 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 10:54:11.909 +01:00 [DBG] Client validation success
2020-09-09 10:54:11.913 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KKOL1O15N:00000001","TimeStamp":"2020-09-09T09:54:11.0000000Z","ProcessId":26868,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 10:54:11.922 +01:00 [DBG] Start token request validation
2020-09-09 10:54:11.924 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 10:54:12.092 +01:00 [DBG] sccuH85UARc3EZh7DC+NczMwxAMeTUOBKis9IePPghw= found in database: true
2020-09-09 10:54:12.237 +01:00 [DBG] removing sccuH85UARc3EZh7DC+NczMwxAMeTUOBKis9IePPghw= persisted grant from database
2020-09-09 10:54:12.580 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 10:54:12.584 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"B1341E26C83F03A5A5ACDE12D1A958C55F1D0098BEE0B204CA27F034D5C8539A","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"B1341E26C83F03A5A5ACDE12D1A958C55F1D0098BEE0B204CA27F034D5C8539A","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-09-09 10:54:13.443 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:54:13.444 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:54:13.555 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 10:54:13.722 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:54:13.781 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:54:13.795 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 10:54:13.796 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 10:54:19.936 +01:00 [WRN] No type was specified for the decimal column 'nCashLimit' on entity type 'AspNetUsers'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-09-09 10:54:23.286 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:54:23.288 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:54:23.476 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 10:54:23.630 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:54:23.692 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:54:23.698 +01:00 [DBG] Getting claims for identity token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7 and client: TaxAdminCode
2020-09-09 10:54:23.699 +01:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-09-09 10:54:23.704 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi email openid profile","GrantType":"authorization_code","Tokens":[{"TokenType":"id_token","TokenValue":"****SR1g","$type":"Token"},{"TokenType":"access_token","TokenValue":"****kToA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KKOL1O15N:00000001","TimeStamp":"2020-09-09T09:54:23.0000000Z","ProcessId":26868,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 10:54:23.718 +01:00 [DBG] Token request success.
2020-09-09 10:55:02.165 +01:00 [INF] Application is shutting down...
2020-09-09 10:55:28.853 +01:00 [INF] Starting host...
2020-09-09 10:55:32.066 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-09 10:55:32.089 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-09 10:55:32.090 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-09 10:55:32.090 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-09 10:55:32.090 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-09 10:55:32.090 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-09 10:55:32.091 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-09 10:55:32.322 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-09 10:55:32.323 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-09 10:55:32.323 +01:00 [INF] Hosting environment: Development
2020-09-09 10:55:32.325 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-09 10:55:33.841 +01:00 [DBG] Login Url: /Account/Login
2020-09-09 10:55:33.843 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-09 10:55:33.844 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-09 10:55:33.845 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-09 10:55:33.845 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-09 10:55:33.850 +01:00 [DBG] Error Url: /home/error
2020-09-09 10:55:33.852 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 10:56:01.045 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 10:56:01.080 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 10:56:01.082 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 10:56:01.085 +01:00 [DBG] Start authorize request
2020-09-09 10:56:01.089 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 10:56:01.098 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 10:56:02.373 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:56:02.381 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:56:02.390 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 10:56:02.392 +01:00 [DBG] No PKCE used.
2020-09-09 10:56:02.648 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 10:56:02.894 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:56:03.056 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:56:03.081 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 10:56:03.091 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi email openid profile","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"FB3DFF3AAD4CDD0DDA46194EF463297F","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi email openid profile","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 10:56:03.117 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 10:56:03.119 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 10:56:03.294 +01:00 [DBG] voJrI43qKSvjJSedPJOtrjix8Sql6dVXcDvY/Q9Vr3o= not found in database
2020-09-09 10:56:03.691 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi email openid profile","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****B8DE","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KKPUVTBDO:00000001","TimeStamp":"2020-09-09T09:56:03.0000000Z","ProcessId":16016,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 10:56:03.702 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi email openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 10:56:03.716 +01:00 [DBG] Augmenting SignInContext
2020-09-09 10:56:03.726 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 10:56:03.986 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 10:56:03.992 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 10:56:03.999 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 10:56:04.005 +01:00 [DBG] Start token request.
2020-09-09 10:56:04.007 +01:00 [DBG] Start client validation
2020-09-09 10:56:04.010 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 10:56:04.011 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-09-09 10:56:04.011 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 10:56:04.879 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:56:04.881 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:56:04.882 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 10:56:04.882 +01:00 [DBG] Client validation success
2020-09-09 10:56:04.884 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KKPUVTBDQ:00000001","TimeStamp":"2020-09-09T09:56:04.0000000Z","ProcessId":16016,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 10:56:04.892 +01:00 [DBG] Start token request validation
2020-09-09 10:56:04.895 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 10:56:05.041 +01:00 [DBG] voJrI43qKSvjJSedPJOtrjix8Sql6dVXcDvY/Q9Vr3o= found in database: true
2020-09-09 10:56:05.196 +01:00 [DBG] removing voJrI43qKSvjJSedPJOtrjix8Sql6dVXcDvY/Q9Vr3o= persisted grant from database
2020-09-09 10:56:05.662 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 10:56:05.667 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"AF9DA7EDA6764FBF5724881515DDA366E99A7D7FD875286D798356965005B8DE","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"AF9DA7EDA6764FBF5724881515DDA366E99A7D7FD875286D798356965005B8DE","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-09-09 10:56:06.560 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:56:06.561 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:56:06.717 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 10:56:06.889 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:56:06.940 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:56:06.952 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 10:56:06.953 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 10:56:10.375 +01:00 [WRN] No type was specified for the decimal column 'nCashLimit' on entity type 'AspNetUsers'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-09-09 10:56:13.795 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:56:13.798 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:56:13.988 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 10:56:14.179 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:56:14.260 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:56:14.267 +01:00 [DBG] Getting claims for identity token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7 and client: TaxAdminCode
2020-09-09 10:56:14.268 +01:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-09-09 10:56:14.275 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi email openid profile","GrantType":"authorization_code","Tokens":[{"TokenType":"id_token","TokenValue":"****dJQw","$type":"Token"},{"TokenType":"access_token","TokenValue":"****i46A","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KKPUVTBDQ:00000001","TimeStamp":"2020-09-09T09:56:14.0000000Z","ProcessId":16016,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 10:56:14.283 +01:00 [DBG] Token request success.
2020-09-09 10:57:07.131 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 10:57:07.134 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 10:57:07.137 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 10:57:07.139 +01:00 [DBG] Start authorize request
2020-09-09 10:57:07.140 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 10:57:07.141 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 10:57:07.916 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:57:07.920 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:57:07.928 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 10:57:07.930 +01:00 [DBG] No PKCE used.
2020-09-09 10:57:08.076 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 10:57:08.242 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:57:08.295 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:57:08.297 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 10:57:08.299 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi email openid profile","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"FB3DFF3AAD4CDD0DDA46194EF463297F","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi email openid profile","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 10:57:08.317 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 10:57:08.318 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 10:57:08.369 +01:00 [DBG] bN8Y6GQeHv7oKtJB55/CXCHaRpKyeYjGW+MJZl5NMM0= not found in database
2020-09-09 10:57:08.667 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi email openid profile","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****D39F","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KKPUVTBDS:00000001","TimeStamp":"2020-09-09T09:57:08.0000000Z","ProcessId":16016,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 10:57:08.678 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi email openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 10:57:08.682 +01:00 [DBG] Augmenting SignInContext
2020-09-09 10:57:08.683 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 10:57:08.839 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 10:57:08.841 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 10:57:08.844 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 10:57:08.848 +01:00 [DBG] Start token request.
2020-09-09 10:57:08.851 +01:00 [DBG] Start client validation
2020-09-09 10:57:08.851 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 10:57:08.852 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-09-09 10:57:08.852 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 10:57:10.035 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:57:10.036 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:57:10.044 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 10:57:10.046 +01:00 [DBG] Client validation success
2020-09-09 10:57:10.048 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KKPUVTBDQ:00000002","TimeStamp":"2020-09-09T09:57:10.0000000Z","ProcessId":16016,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 10:57:10.054 +01:00 [DBG] Start token request validation
2020-09-09 10:57:10.055 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 10:57:10.179 +01:00 [DBG] bN8Y6GQeHv7oKtJB55/CXCHaRpKyeYjGW+MJZl5NMM0= found in database: true
2020-09-09 10:57:10.315 +01:00 [DBG] removing bN8Y6GQeHv7oKtJB55/CXCHaRpKyeYjGW+MJZl5NMM0= persisted grant from database
2020-09-09 10:57:10.798 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 10:57:10.799 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"20D77C68722C349981D3B2522678AA5FB142D8E2024F3CE7883C0CDE7B91D39F","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"20D77C68722C349981D3B2522678AA5FB142D8E2024F3CE7883C0CDE7B91D39F","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-09-09 10:57:11.664 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:57:11.665 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:57:11.848 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 10:57:12.046 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:57:12.111 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:57:12.113 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 10:57:12.114 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 10:57:17.619 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:57:17.620 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:57:17.772 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 10:57:17.960 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:57:18.005 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:57:18.007 +01:00 [DBG] Getting claims for identity token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7 and client: TaxAdminCode
2020-09-09 10:57:18.008 +01:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-09-09 10:57:18.011 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi email openid profile","GrantType":"authorization_code","Tokens":[{"TokenType":"id_token","TokenValue":"****iL_w","$type":"Token"},{"TokenType":"access_token","TokenValue":"****0jcw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KKPUVTBDQ:00000002","TimeStamp":"2020-09-09T09:57:18.0000000Z","ProcessId":16016,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 10:57:18.024 +01:00 [DBG] Token request success.
2020-09-09 10:57:37.900 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 10:57:37.907 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 10:57:37.908 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 10:57:37.909 +01:00 [DBG] Start authorize request
2020-09-09 10:57:37.910 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 10:57:37.913 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 10:57:38.802 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:57:38.803 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:57:38.804 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 10:57:38.805 +01:00 [DBG] No PKCE used.
2020-09-09 10:57:38.871 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 10:57:39.054 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:57:39.105 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:57:39.113 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 10:57:39.131 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"FB3DFF3AAD4CDD0DDA46194EF463297F","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 10:57:39.141 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 10:57:39.146 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 10:57:39.290 +01:00 [DBG] lfoscY45ykCbp7o6miDa1SVQGRbcZ+1/EM/sfz3oOeM= not found in database
2020-09-09 10:57:39.553 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****2AB9","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KKPUVTBE0:00000001","TimeStamp":"2020-09-09T09:57:39.0000000Z","ProcessId":16016,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 10:57:39.560 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 10:57:39.568 +01:00 [DBG] Augmenting SignInContext
2020-09-09 10:57:39.569 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 10:57:39.810 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 10:57:39.836 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 10:57:39.839 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 10:57:39.841 +01:00 [DBG] Start token request.
2020-09-09 10:57:39.841 +01:00 [DBG] Start client validation
2020-09-09 10:57:39.842 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 10:57:39.842 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-09-09 10:57:39.842 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 10:57:40.732 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:57:40.733 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:57:40.736 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 10:57:40.736 +01:00 [DBG] Client validation success
2020-09-09 10:57:40.737 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KKPUVTBDQ:00000003","TimeStamp":"2020-09-09T09:57:40.0000000Z","ProcessId":16016,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 10:57:40.741 +01:00 [DBG] Start token request validation
2020-09-09 10:57:40.741 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 10:57:40.908 +01:00 [DBG] lfoscY45ykCbp7o6miDa1SVQGRbcZ+1/EM/sfz3oOeM= found in database: true
2020-09-09 10:57:41.145 +01:00 [DBG] removing lfoscY45ykCbp7o6miDa1SVQGRbcZ+1/EM/sfz3oOeM= persisted grant from database
2020-09-09 10:57:41.511 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 10:57:41.512 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"52DDD19F12BA5B074E49EAAEA7F7BA2B08C2B9E7660A4B2801E33879751B2AB9","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"52DDD19F12BA5B074E49EAAEA7F7BA2B08C2B9E7660A4B2801E33879751B2AB9","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-09-09 10:57:42.559 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:57:42.559 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:57:42.699 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 10:57:42.887 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:57:42.958 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:57:42.960 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 10:57:42.961 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 10:57:46.337 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"access_token","TokenValue":"****EpVQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KKPUVTBDQ:00000003","TimeStamp":"2020-09-09T09:57:46.0000000Z","ProcessId":16016,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 10:57:46.344 +01:00 [DBG] Token request success.
2020-09-09 10:58:45.698 +01:00 [INF] Starting host...
2020-09-09 10:58:48.542 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-09 10:58:48.558 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-09 10:58:48.558 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-09 10:58:48.559 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-09 10:58:48.560 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-09 10:58:48.560 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-09 10:58:48.560 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-09 10:58:48.776 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-09 10:58:48.777 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-09 10:58:48.778 +01:00 [INF] Hosting environment: Development
2020-09-09 10:58:48.779 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-09 10:58:50.268 +01:00 [DBG] Login Url: /Account/Login
2020-09-09 10:58:50.269 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-09 10:58:50.271 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-09 10:58:50.271 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-09 10:58:50.271 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-09 10:58:50.272 +01:00 [DBG] Error Url: /home/error
2020-09-09 10:58:50.272 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 10:59:02.998 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 10:59:03.031 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 10:59:03.033 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 10:59:03.036 +01:00 [DBG] Start authorize request
2020-09-09 10:59:03.041 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 10:59:03.054 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 10:59:04.253 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:59:04.260 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:59:04.271 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 10:59:04.273 +01:00 [DBG] No PKCE used.
2020-09-09 10:59:04.370 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 10:59:04.616 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:59:04.709 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:59:04.767 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 10:59:04.778 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"FB3DFF3AAD4CDD0DDA46194EF463297F","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 10:59:04.809 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 10:59:04.811 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 10:59:04.989 +01:00 [DBG] x5Wg5wVO/tnw5CjESyr6wcTQKZYJTnsJWWsZBhhfobI= not found in database
2020-09-09 10:59:05.450 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****5001","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KKRPGBIOJ:00000001","TimeStamp":"2020-09-09T09:59:05.0000000Z","ProcessId":23388,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 10:59:05.463 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 10:59:05.474 +01:00 [DBG] Augmenting SignInContext
2020-09-09 10:59:05.483 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 10:59:05.778 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 10:59:05.783 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 10:59:05.785 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 10:59:05.790 +01:00 [DBG] Start token request.
2020-09-09 10:59:05.794 +01:00 [DBG] Start client validation
2020-09-09 10:59:05.797 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 10:59:05.799 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-09-09 10:59:05.800 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 10:59:06.716 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:59:06.717 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:59:06.720 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 10:59:06.724 +01:00 [DBG] Client validation success
2020-09-09 10:59:06.725 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KKRPGBIOL:00000001","TimeStamp":"2020-09-09T09:59:06.0000000Z","ProcessId":23388,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 10:59:06.734 +01:00 [DBG] Start token request validation
2020-09-09 10:59:06.737 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 10:59:06.897 +01:00 [DBG] x5Wg5wVO/tnw5CjESyr6wcTQKZYJTnsJWWsZBhhfobI= found in database: true
2020-09-09 10:59:07.125 +01:00 [DBG] removing x5Wg5wVO/tnw5CjESyr6wcTQKZYJTnsJWWsZBhhfobI= persisted grant from database
2020-09-09 10:59:07.446 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 10:59:07.449 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"75271BC08A58CF215896C4DA1CCCAC52F5264391323B3A783D14054294495001","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"75271BC08A58CF215896C4DA1CCCAC52F5264391323B3A783D14054294495001","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-09-09 10:59:08.291 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 10:59:08.293 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 10:59:08.467 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 10:59:08.656 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 10:59:08.698 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 10:59:08.710 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 10:59:08.711 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 10:59:11.955 +01:00 [WRN] No type was specified for the decimal column 'nCashLimit' on entity type 'AspNetUsers'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-09-09 10:59:13.775 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"access_token","TokenValue":"****UV-A","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KKRPGBIOL:00000001","TimeStamp":"2020-09-09T09:59:13.0000000Z","ProcessId":23388,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 10:59:13.789 +01:00 [DBG] Token request success.
2020-09-09 11:32:45.760 +01:00 [INF] Starting host...
2020-09-09 11:33:14.933 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-09 11:33:14.956 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-09 11:33:14.956 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-09 11:33:14.957 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-09 11:33:14.957 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-09 11:33:14.958 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-09 11:33:14.958 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-09 11:33:15.163 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-09 11:33:15.165 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-09 11:33:15.166 +01:00 [INF] Hosting environment: Development
2020-09-09 11:33:15.174 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-09 11:33:16.991 +01:00 [DBG] Login Url: /Account/Login
2020-09-09 11:33:16.993 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-09 11:33:16.994 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-09 11:33:16.994 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-09 11:33:16.995 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-09 11:33:16.995 +01:00 [DBG] Error Url: /home/error
2020-09-09 11:33:16.996 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 11:37:04.934 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 11:37:04.962 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 11:37:04.964 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 11:37:04.966 +01:00 [DBG] Start authorize request
2020-09-09 11:37:04.970 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 11:37:05.000 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 11:37:42.776 +01:00 [ERR] Failed executing DbCommand (37,753ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AllowedIdentityTokenSigningAlgorithms], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Created], [c].[Description], [c].[DeviceCodeLifetime], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LastAccessed], [c].[LogoUri], [c].[NonEditable], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[RequireRequestObject], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh], [c].[Updated], [c].[UserCodeType], [c].[UserSsoLifetime]
FROM [Clients] AS [c]
WHERE [c].[ClientId] = @__clientId_0
2020-09-09 11:37:42.959 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.ConfigurationDbContext'.
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-09-09 11:37:43.000 +01:00 [INF] {"Details":"System.InvalidOperationException: Invalid operation. The connection is closed.\r\n   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)\r\n   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\r\n   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToArrayAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)\r\n   at IdentityServer4.EntityFramework.Stores.ClientStore.FindClientByIdAsync(String clientId)\r\n   at IdentityServer4.Stores.ValidatingClientStore`1.FindClientByIdAsync(String clientId)\r\n   at IdentityServer4.Stores.IClientStoreExtensions.FindEnabledClientByIdAsync(IClientStore store, String clientId)\r\n   at IdentityServer4.Validation.AuthorizeRequestValidator.LoadClientAsync(ValidatedAuthorizeRequest request)\r\n   at IdentityServer4.Validation.AuthorizeRequestValidator.ValidateAsync(NameValueCollection parameters, ClaimsPrincipal subject)\r\n   at IdentityServer4.Endpoints.AuthorizeEndpointBase.ProcessAuthorizeRequestAsync(NameValueCollection parameters, ClaimsPrincipal user, ConsentResponse consent)\r\n   at IdentityServer4.Endpoints.AuthorizeEndpoint.ProcessAsync(HttpContext context)\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Invalid operation. The connection is closed.","ActivityId":"0HM2KLF19U876:00000001","TimeStamp":"2020-09-09T10:37:42.0000000Z","ProcessId":30120,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2020-09-09 11:37:43.027 +01:00 [FTL] Unhandled exception: Invalid operation. The connection is closed.
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToArrayAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at IdentityServer4.EntityFramework.Stores.ClientStore.FindClientByIdAsync(String clientId)
   at IdentityServer4.Stores.ValidatingClientStore`1.FindClientByIdAsync(String clientId)
   at IdentityServer4.Stores.IClientStoreExtensions.FindEnabledClientByIdAsync(IClientStore store, String clientId)
   at IdentityServer4.Validation.AuthorizeRequestValidator.LoadClientAsync(ValidatedAuthorizeRequest request)
   at IdentityServer4.Validation.AuthorizeRequestValidator.ValidateAsync(NameValueCollection parameters, ClaimsPrincipal subject)
   at IdentityServer4.Endpoints.AuthorizeEndpointBase.ProcessAuthorizeRequestAsync(NameValueCollection parameters, ClaimsPrincipal user, ConsentResponse consent)
   at IdentityServer4.Endpoints.AuthorizeEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
2020-09-09 11:38:20.638 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToArrayAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at IdentityServer4.EntityFramework.Stores.ClientStore.FindClientByIdAsync(String clientId)
   at IdentityServer4.Stores.ValidatingClientStore`1.FindClientByIdAsync(String clientId)
   at IdentityServer4.Stores.IClientStoreExtensions.FindEnabledClientByIdAsync(IClientStore store, String clientId)
   at IdentityServer4.Validation.AuthorizeRequestValidator.LoadClientAsync(ValidatedAuthorizeRequest request)
   at IdentityServer4.Validation.AuthorizeRequestValidator.ValidateAsync(NameValueCollection parameters, ClaimsPrincipal subject)
   at IdentityServer4.Endpoints.AuthorizeEndpointBase.ProcessAuthorizeRequestAsync(NameValueCollection parameters, ClaimsPrincipal user, ConsentResponse consent)
   at IdentityServer4.Endpoints.AuthorizeEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-09-09 11:40:26.310 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 11:40:26.330 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 11:40:26.331 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 11:40:26.333 +01:00 [DBG] Start authorize request
2020-09-09 11:40:26.334 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 11:40:26.335 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 11:41:15.063 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 11:41:15.069 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 11:41:15.077 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 11:41:15.079 +01:00 [DBG] No PKCE used.
2020-09-09 11:41:25.987 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 11:41:30.779 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 11:41:36.488 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 11:41:36.514 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 11:41:36.520 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi email openid profile","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"FB3DFF3AAD4CDD0DDA46194EF463297F","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi email openid profile","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 11:41:38.123 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 11:41:38.125 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 11:41:41.449 +01:00 [DBG] Z5RghQG5Bp10IF6IExyLNRz+WTQxoQ4CCmQnjPpX/h8= not found in database
2020-09-09 11:41:51.140 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi email openid profile","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****1733","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KLF19U877:00000001","TimeStamp":"2020-09-09T10:41:51.0000000Z","ProcessId":30120,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 11:41:51.151 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi email openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 11:41:51.180 +01:00 [DBG] Augmenting SignInContext
2020-09-09 11:41:51.189 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 11:45:30.373 +01:00 [INF] Starting host...
2020-09-09 11:46:05.761 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-09 11:46:05.781 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-09 11:46:05.781 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-09 11:46:05.782 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-09 11:46:05.782 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-09 11:46:05.783 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-09 11:46:05.783 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-09 11:46:05.995 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-09 11:46:05.995 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-09 11:46:05.996 +01:00 [INF] Hosting environment: Development
2020-09-09 11:46:05.997 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-09 11:46:07.501 +01:00 [DBG] Login Url: /Account/Login
2020-09-09 11:46:07.506 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-09 11:46:07.507 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-09 11:46:07.508 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-09 11:46:07.509 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-09 11:46:07.510 +01:00 [DBG] Error Url: /home/error
2020-09-09 11:46:07.511 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 11:46:47.084 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 11:46:47.117 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 11:46:47.118 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 11:46:47.120 +01:00 [DBG] Start authorize request
2020-09-09 11:46:47.126 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 11:46:47.144 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 11:46:55.557 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 11:46:55.564 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 11:46:55.573 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 11:46:55.574 +01:00 [DBG] No PKCE used.
2020-09-09 11:46:56.895 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 11:46:58.270 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 11:46:59.478 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 11:46:59.502 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 11:46:59.511 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi email openid profile","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"FB3DFF3AAD4CDD0DDA46194EF463297F","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi email openid profile","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 11:47:02.390 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 11:47:02.392 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 11:47:02.945 +01:00 [DBG] F4M2wXKlY4ojtI/Qpy5ujlDQxc3yn3NreqPIu+OHLLY= not found in database
2020-09-09 11:47:03.805 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi email openid profile","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****A300","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KLM6VOOLC:00000001","TimeStamp":"2020-09-09T10:47:03.0000000Z","ProcessId":21396,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 11:47:03.813 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi email openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 11:47:03.828 +01:00 [DBG] Augmenting SignInContext
2020-09-09 11:47:03.837 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 11:47:22.636 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 11:47:22.645 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 11:47:22.652 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 11:47:22.654 +01:00 [DBG] Start authorize request
2020-09-09 11:47:22.656 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 11:47:22.662 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 11:47:23.805 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 11:47:23.807 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 11:47:23.809 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 11:47:23.810 +01:00 [DBG] No PKCE used.
2020-09-09 11:47:24.048 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 11:47:24.260 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 11:47:24.347 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 11:47:24.348 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 11:47:24.350 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi email openid profile","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"FB3DFF3AAD4CDD0DDA46194EF463297F","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi email openid profile","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 11:47:24.567 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 11:47:24.568 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 11:47:24.755 +01:00 [DBG] YztohVw2ug0CqLuywYRCl5LVbOju5gx09PxelRTeoPU= not found in database
2020-09-09 11:47:25.037 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi email openid profile","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****5EA7","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KLM6VOOLF:00000001","TimeStamp":"2020-09-09T10:47:25.0000000Z","ProcessId":21396,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 11:47:25.046 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi email openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 11:47:25.053 +01:00 [DBG] Augmenting SignInContext
2020-09-09 11:47:25.054 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 11:47:25.341 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 11:47:25.347 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 11:47:25.349 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 11:47:25.354 +01:00 [DBG] Start token request.
2020-09-09 11:47:25.357 +01:00 [DBG] Start client validation
2020-09-09 11:47:25.359 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 11:47:25.360 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-09-09 11:47:25.363 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 11:47:26.454 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 11:47:26.455 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 11:47:26.462 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 11:47:26.462 +01:00 [DBG] Client validation success
2020-09-09 11:47:26.464 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KLM6VOOLE:00000002","TimeStamp":"2020-09-09T10:47:26.0000000Z","ProcessId":21396,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 11:47:26.478 +01:00 [DBG] Start token request validation
2020-09-09 11:47:26.480 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 11:47:26.616 +01:00 [DBG] YztohVw2ug0CqLuywYRCl5LVbOju5gx09PxelRTeoPU= found in database: true
2020-09-09 11:47:26.818 +01:00 [DBG] removing YztohVw2ug0CqLuywYRCl5LVbOju5gx09PxelRTeoPU= persisted grant from database
2020-09-09 11:47:27.173 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 11:47:27.176 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"777B666500827654BDFEA036121E71DC6483A1C3D6AB2A2BCD7A9CA989A85EA7","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"777B666500827654BDFEA036121E71DC6483A1C3D6AB2A2BCD7A9CA989A85EA7","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-09-09 11:47:28.121 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 11:47:28.122 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 11:47:28.263 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 11:47:28.458 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 11:47:28.524 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 11:47:28.535 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 11:47:28.536 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 11:47:32.551 +01:00 [WRN] No type was specified for the decimal column 'nCashLimit' on entity type 'AspNetUsers'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-09-09 11:47:34.522 +01:00 [INF] {"Details":"System.InvalidOperationException: No signing credential is configured. Can't create JWT token\r\n   at IdentityServer4.Services.DefaultTokenCreationService.CreateHeaderAsync(Token token)\r\n   at IdentityServer4.Services.DefaultTokenCreationService.CreateTokenAsync(Token token)\r\n   at IdentityServer4.Services.DefaultTokenService.CreateSecurityTokenAsync(Token token)\r\n   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request)\r\n   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAuthorizationCodeRequestAsync(TokenRequestValidationResult request)\r\n   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request)\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"No signing credential is configured. Can't create JWT token","ActivityId":"0HM2KLM6VOOLE:00000002","TimeStamp":"2020-09-09T10:47:34.0000000Z","ProcessId":21396,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2020-09-09 11:47:34.536 +01:00 [FTL] Unhandled exception: No signing credential is configured. Can't create JWT token
System.InvalidOperationException: No signing credential is configured. Can't create JWT token
   at IdentityServer4.Services.DefaultTokenCreationService.CreateHeaderAsync(Token token)
   at IdentityServer4.Services.DefaultTokenCreationService.CreateTokenAsync(Token token)
   at IdentityServer4.Services.DefaultTokenService.CreateSecurityTokenAsync(Token token)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAuthorizationCodeRequestAsync(TokenRequestValidationResult request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
2020-09-09 11:47:34.545 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No signing credential is configured. Can't create JWT token
   at IdentityServer4.Services.DefaultTokenCreationService.CreateHeaderAsync(Token token)
   at IdentityServer4.Services.DefaultTokenCreationService.CreateTokenAsync(Token token)
   at IdentityServer4.Services.DefaultTokenService.CreateSecurityTokenAsync(Token token)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAuthorizationCodeRequestAsync(TokenRequestValidationResult request)
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context)
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events)
   at IdentityServer4.Hosting.MutualTlsEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-09-09 11:51:50.511 +01:00 [INF] Starting host...
2020-09-09 11:51:58.881 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-09 11:51:58.895 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-09 11:51:58.897 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-09 11:51:58.897 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-09 11:51:58.898 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-09 11:51:58.898 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-09 11:51:58.899 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-09 11:51:59.085 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-09 11:51:59.086 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-09 11:51:59.086 +01:00 [INF] Hosting environment: Development
2020-09-09 11:51:59.087 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-09 11:51:59.412 +01:00 [DBG] Login Url: /Account/Login
2020-09-09 11:51:59.414 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-09 11:51:59.416 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-09 11:51:59.416 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-09 11:51:59.417 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-09 11:51:59.417 +01:00 [DBG] Error Url: /home/error
2020-09-09 11:51:59.418 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 11:52:29.659 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 11:52:29.694 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 11:52:29.695 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 11:52:29.697 +01:00 [DBG] Start authorize request
2020-09-09 11:52:29.701 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 11:52:29.724 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 11:52:40.341 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 11:52:40.348 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 11:52:40.355 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 11:52:40.356 +01:00 [DBG] No PKCE used.
2020-09-09 11:52:41.209 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 11:52:41.575 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 11:52:41.971 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 11:52:41.999 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 11:52:42.008 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi email openid profile","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"FB3DFF3AAD4CDD0DDA46194EF463297F","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi email openid profile","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 11:52:42.237 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 11:52:42.240 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 11:52:42.412 +01:00 [DBG] SLsNocYbYq+9ypxMZR9buxABA/jpMxIP6YcOHVy+h5g= not found in database
2020-09-09 11:52:43.005 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi email openid profile","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****9967","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KLPG7FMRT:00000001","TimeStamp":"2020-09-09T10:52:43.0000000Z","ProcessId":31720,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 11:52:43.020 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi email openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 11:52:43.031 +01:00 [DBG] Augmenting SignInContext
2020-09-09 11:52:43.040 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 11:52:43.381 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 11:52:43.391 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 11:52:43.392 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 11:52:43.404 +01:00 [DBG] Start token request.
2020-09-09 11:52:43.408 +01:00 [DBG] Start client validation
2020-09-09 11:52:43.417 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 11:52:43.418 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-09-09 11:52:43.419 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 11:52:44.577 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 11:52:44.583 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 11:52:44.595 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 11:52:44.597 +01:00 [DBG] Client validation success
2020-09-09 11:52:44.603 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KLPG7FMRV:00000001","TimeStamp":"2020-09-09T10:52:44.0000000Z","ProcessId":31720,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 11:52:44.625 +01:00 [DBG] Start token request validation
2020-09-09 11:52:44.629 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 11:52:44.848 +01:00 [DBG] SLsNocYbYq+9ypxMZR9buxABA/jpMxIP6YcOHVy+h5g= found in database: true
2020-09-09 11:52:45.165 +01:00 [DBG] removing SLsNocYbYq+9ypxMZR9buxABA/jpMxIP6YcOHVy+h5g= persisted grant from database
2020-09-09 11:52:45.620 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 11:52:45.623 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"0D327FF4FA9A48940D944444C43EC2519CD8516CD0A9C1915A3253DB147B9967","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"0D327FF4FA9A48940D944444C43EC2519CD8516CD0A9C1915A3253DB147B9967","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-09-09 11:52:46.789 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 11:52:46.791 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 11:52:46.981 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 11:52:47.231 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 11:52:47.351 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 11:52:47.360 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 11:52:47.361 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 11:52:53.986 +01:00 [WRN] No type was specified for the decimal column 'nCashLimit' on entity type 'AspNetUsers'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-09-09 11:52:57.641 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 11:52:57.643 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 11:52:57.900 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 11:52:58.116 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 11:52:58.290 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 11:52:58.296 +01:00 [DBG] Getting claims for identity token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7 and client: TaxAdminCode
2020-09-09 11:52:58.298 +01:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-09-09 11:52:58.305 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi email openid profile","GrantType":"authorization_code","Tokens":[{"TokenType":"id_token","TokenValue":"****I8Rw","$type":"Token"},{"TokenType":"access_token","TokenValue":"****iKww","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KLPG7FMRV:00000001","TimeStamp":"2020-09-09T10:52:58.0000000Z","ProcessId":31720,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 11:52:58.313 +01:00 [DBG] Token request success.
2020-09-09 11:54:43.735 +01:00 [INF] Starting host...
2020-09-09 11:54:46.172 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-09 11:54:46.185 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-09 11:54:46.185 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-09 11:54:46.186 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-09 11:54:46.186 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-09 11:54:46.186 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-09 11:54:46.187 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-09 11:54:46.367 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-09 11:54:46.368 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-09 11:54:46.368 +01:00 [INF] Hosting environment: Development
2020-09-09 11:54:46.369 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-09 11:54:47.801 +01:00 [DBG] Login Url: /Account/Login
2020-09-09 11:54:47.807 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-09 11:54:47.809 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-09 11:54:47.810 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-09 11:54:47.811 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-09 11:54:47.811 +01:00 [DBG] Error Url: /home/error
2020-09-09 11:54:47.812 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 11:54:53.415 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 11:54:53.420 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 11:54:53.421 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 11:54:53.426 +01:00 [DBG] Start authorize request
2020-09-09 11:54:53.430 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 11:54:53.444 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 11:54:54.751 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 11:54:54.758 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 11:54:54.766 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 11:54:54.768 +01:00 [DBG] No PKCE used.
2020-09-09 11:54:54.972 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 11:54:55.225 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 11:54:55.311 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 11:54:55.333 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 11:54:55.342 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi email openid profile","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"FB3DFF3AAD4CDD0DDA46194EF463297F","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi email openid profile","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 11:54:55.544 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 11:54:55.546 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 11:54:55.648 +01:00 [DBG] 3tZVjkGscZgC5/giOuwuVkKiG8E9PLEBhtHSsXmKq54= not found in database
2020-09-09 11:54:56.085 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi email openid profile","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****26AF","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KLR23CE1C:00000001","TimeStamp":"2020-09-09T10:54:56.0000000Z","ProcessId":33820,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 11:54:56.093 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi email openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 11:54:56.105 +01:00 [DBG] Augmenting SignInContext
2020-09-09 11:54:56.113 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 11:54:56.367 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 11:54:56.382 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 11:54:56.383 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 11:54:56.388 +01:00 [DBG] Start token request.
2020-09-09 11:54:56.390 +01:00 [DBG] Start client validation
2020-09-09 11:54:56.393 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 11:54:56.395 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-09-09 11:54:56.395 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 11:54:57.234 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 11:54:57.235 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 11:54:57.238 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 11:54:57.239 +01:00 [DBG] Client validation success
2020-09-09 11:54:57.244 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KLR23CE1E:00000001","TimeStamp":"2020-09-09T10:54:57.0000000Z","ProcessId":33820,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 11:54:57.253 +01:00 [DBG] Start token request validation
2020-09-09 11:54:57.255 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 11:54:57.423 +01:00 [DBG] 3tZVjkGscZgC5/giOuwuVkKiG8E9PLEBhtHSsXmKq54= found in database: true
2020-09-09 11:54:57.649 +01:00 [DBG] removing 3tZVjkGscZgC5/giOuwuVkKiG8E9PLEBhtHSsXmKq54= persisted grant from database
2020-09-09 11:54:58.040 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 11:54:58.043 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"8ADCC7428007DD3C4CB40AE11CAD5B1445E20D56853CFA2EE53B947A0AE826AF","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"8ADCC7428007DD3C4CB40AE11CAD5B1445E20D56853CFA2EE53B947A0AE826AF","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-09-09 11:54:58.865 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 11:54:58.866 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 11:54:59.012 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 11:54:59.177 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 11:54:59.298 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 11:54:59.308 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 11:54:59.309 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 11:55:00.365 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 11:55:00.366 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 11:55:00.538 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 11:55:00.696 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 11:55:00.748 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 11:55:00.773 +01:00 [DBG] Getting claims for identity token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7 and client: TaxAdminCode
2020-09-09 11:55:00.780 +01:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-09-09 11:55:00.784 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi email openid profile","GrantType":"authorization_code","Tokens":[{"TokenType":"id_token","TokenValue":"****pa-A","$type":"Token"},{"TokenType":"access_token","TokenValue":"****k8kw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KLR23CE1E:00000001","TimeStamp":"2020-09-09T10:55:00.0000000Z","ProcessId":33820,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 11:55:00.793 +01:00 [DBG] Token request success.
2020-09-09 11:55:27.223 +01:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://jwt.io
2020-09-09 11:55:28.535 +01:00 [DBG] Origin https://jwt.io is allowed: false
2020-09-09 11:55:28.543 +01:00 [WRN] CorsPolicyService did not allow origin: https://jwt.io
2020-09-09 11:55:28.544 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-09 11:55:28.546 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-09 11:55:28.547 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-09 11:55:28.553 +01:00 [DBG] Start discovery request
2020-09-09 11:55:30.856 +01:00 [DBG] Found ["profile","openid","email","collectorapi"] as all scopes, and ["collectorapi","email","openid","profile"] as API resources
2020-09-09 12:09:06.665 +01:00 [INF] Starting host...
2020-09-09 12:09:09.031 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-09 12:09:09.052 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-09 12:09:09.053 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-09 12:09:09.054 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-09 12:09:09.055 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-09 12:09:09.055 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-09 12:09:09.056 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-09 12:09:09.224 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-09 12:09:09.225 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-09 12:09:09.225 +01:00 [INF] Hosting environment: Development
2020-09-09 12:09:09.226 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-09 12:09:10.453 +01:00 [DBG] Login Url: /Account/Login
2020-09-09 12:09:10.455 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-09 12:09:10.458 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-09 12:09:10.464 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-09 12:09:10.465 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-09 12:09:10.465 +01:00 [DBG] Error Url: /home/error
2020-09-09 12:09:10.467 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 13:16:12.603 +01:00 [INF] Starting host...
2020-09-09 13:16:26.008 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-09 13:16:26.105 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-09 13:16:26.106 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-09 13:16:26.107 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-09 13:16:26.107 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-09 13:16:26.108 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-09 13:16:26.108 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-09 13:16:27.615 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-09 13:16:27.616 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-09 13:16:27.616 +01:00 [INF] Hosting environment: Development
2020-09-09 13:16:27.617 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-09 13:16:32.282 +01:00 [DBG] Login Url: /Account/Login
2020-09-09 13:16:32.284 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-09 13:16:32.285 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-09 13:16:32.286 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-09 13:16:32.286 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-09 13:16:32.286 +01:00 [DBG] Error Url: /home/error
2020-09-09 13:16:32.287 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 13:25:08.210 +01:00 [INF] Starting host...
2020-09-09 13:25:10.984 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-09 13:25:11.010 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-09 13:25:11.011 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-09 13:25:11.011 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-09 13:25:11.011 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-09 13:25:11.012 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-09 13:25:11.012 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-09 13:25:11.209 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-09 13:25:11.209 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-09 13:25:11.209 +01:00 [INF] Hosting environment: Development
2020-09-09 13:25:11.210 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-09 13:25:12.496 +01:00 [DBG] Login Url: /Account/Login
2020-09-09 13:25:12.498 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-09 13:25:12.499 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-09 13:25:12.499 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-09 13:25:12.500 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-09 13:25:12.504 +01:00 [DBG] Error Url: /home/error
2020-09-09 13:25:12.505 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 13:29:14.711 +01:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2020-09-09 13:29:15.284 +01:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2020-09-09 13:29:15.288 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2020-09-09 13:29:15.362 +01:00 [DBG] Starting introspection request.
2020-09-09 13:29:15.393 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 13:29:15.395 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-09-09 13:29:15.396 +01:00 [DBG] Secret id found: collectorapi
2020-09-09 13:29:19.680 +01:00 [DBG] Found ["collectorapi"] API resource in database
2020-09-09 13:29:20.688 +01:00 [DBG] Secret validator success: HashedSharedSecretValidator
2020-09-09 13:29:20.689 +01:00 [DBG] API resource validation success
2020-09-09 13:29:21.029 +01:00 [INF] {"ApiName":"collectorapi","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"API Authentication Success","EventType":"Success","Id":1020,"Message":null,"ActivityId":"0HM2KNDIPL7GA:00000001","TimeStamp":"2020-09-09T12:29:20.0000000Z","ProcessId":13924,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ApiAuthenticationSuccessEvent"}
2020-09-09 13:29:21.591 +01:00 [DBG] Introspection request validation started.
2020-09-09 13:29:22.914 +01:00 [ERR] JWT token validation error: IDX10501: Signature validation failed. Unable to match key: 
kid: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
Exceptions caught:
 '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. 
token: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10501: Signature validation failed. Unable to match key: 
kid: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
Exceptions caught:
 '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. 
token: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at IdentityServer4.Validation.TokenValidator.ValidateJwtAsync(String jwt, IEnumerable`1 validationKeys, Boolean validateLifetime, String audience)
2020-09-09 13:29:24.360 +01:00 [DBG] Token is invalid.
2020-09-09 13:29:24.439 +01:00 [DBG] Creating introspection response for inactive token.
2020-09-09 13:29:24.451 +01:00 [INF] {"ApiName":"collectorapi","IsActive":false,"Token":"****4ZzA","ClaimTypes":null,"TokenScopes":null,"Category":"Token","Name":"Token Introspection Success","EventType":"Success","Id":2020,"Message":null,"ActivityId":"0HM2KNDIPL7GA:00000001","TimeStamp":"2020-09-09T12:29:24.0000000Z","ProcessId":13924,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIntrospectionSuccessEvent"}
2020-09-09 13:29:24.457 +01:00 [INF] Success token introspection. Token active: false, for API name: collectorapi
2020-09-09 13:30:01.776 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 13:30:01.807 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 13:30:01.809 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 13:30:01.859 +01:00 [DBG] Start authorize request
2020-09-09 13:30:01.934 +01:00 [DBG] No user present in authorize request
2020-09-09 13:30:01.936 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 13:30:03.268 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 13:30:03.317 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 13:30:03.346 +01:00 [ERR] Invalid redirect_uri: https://localhost:44346
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi","redirect_uri":"https://localhost:44346"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 13:30:03.365 +01:00 [ERR] Request validation failed
2020-09-09 13:30:03.365 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi","redirect_uri":"https://localhost:44346"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 13:30:03.384 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Authorize","SubjectId":null,"Scopes":"","GrantType":null,"Error":"invalid_request","ErrorDescription":"Invalid redirect_uri","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HM2KNDIPL7GB:00000001","TimeStamp":"2020-09-09T12:30:03.0000000Z","ProcessId":13924,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2020-09-09 13:31:11.762 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 13:31:11.795 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 13:31:11.800 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 13:31:11.801 +01:00 [DBG] Start authorize request
2020-09-09 13:31:11.803 +01:00 [DBG] No user present in authorize request
2020-09-09 13:31:11.804 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 13:31:12.705 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 13:31:12.709 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 13:31:12.718 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 13:31:12.719 +01:00 [DBG] No PKCE used.
2020-09-09 13:31:12.816 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 13:31:13.000 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 13:31:13.084 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 13:31:13.109 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 13:31:13.117 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"https://localhost:44346","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc","https://localhost:44346"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi","redirect_uri":"https://localhost:44346"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 13:31:13.153 +01:00 [INF] Showing login: User is not authenticated
2020-09-09 13:31:13.263 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 13:31:14.177 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 13:31:14.178 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 13:31:14.181 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 13:31:14.182 +01:00 [DBG] No PKCE used.
2020-09-09 13:31:14.224 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 13:31:14.412 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 13:31:14.476 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 13:31:14.478 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 13:31:15.438 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 13:31:15.438 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 13:31:33.639 +01:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-09-09 13:31:39.863 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 13:31:40.867 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 13:31:40.868 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 13:31:40.872 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 13:31:40.874 +01:00 [DBG] No PKCE used.
2020-09-09 13:31:40.970 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 13:31:41.192 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 13:31:41.300 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 13:31:41.302 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 13:31:45.558 +01:00 [DBG] Augmenting SignInContext
2020-09-09 13:31:45.560 +01:00 [DBG] Adding idp claim with value: local
2020-09-09 13:31:45.561 +01:00 [DBG] Adding auth_time claim with value: 1599654705
2020-09-09 13:31:45.603 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 13:31:45.762 +01:00 [INF] {"Username":"T0009","Provider":null,"ProviderUserId":null,"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","DisplayName":"T0009","Endpoint":"UI","ClientId":"TaxAdminCode","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HM2KNDIPL7GD:00000001","TimeStamp":"2020-09-09T12:31:45.0000000Z","ProcessId":13924,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2020-09-09 13:31:47.167 +01:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2020-09-09 13:31:47.174 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2020-09-09 13:31:47.183 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-09-09 13:31:47.193 +01:00 [DBG] Start authorize callback request
2020-09-09 13:31:47.206 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 13:31:47.210 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 13:31:48.177 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 13:31:48.180 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 13:31:48.183 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 13:31:48.184 +01:00 [DBG] No PKCE used.
2020-09-09 13:31:48.262 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 13:31:48.487 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 13:31:48.551 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 13:31:48.554 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 13:31:48.557 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"https://localhost:44346","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc","https://localhost:44346"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"3E8A1CCAEE16C743E0C1EA4D5B365527","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi","redirect_uri":"https://localhost:44346"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 13:31:48.732 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 13:31:48.735 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 13:31:48.912 +01:00 [DBG] FtGdkclBJMP8oeomJe2uj9fDLiiwsFDO8hziRaDrp3k= not found in database
2020-09-09 13:31:49.399 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"https://localhost:44346","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****AF20","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KNDIPL7GD:00000003","TimeStamp":"2020-09-09T12:31:49.0000000Z","ProcessId":13924,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 13:31:49.407 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"https://localhost:44346","State":null,"Scope":"collectorapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 13:31:49.416 +01:00 [DBG] Augmenting SignInContext
2020-09-09 13:31:49.417 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 13:31:49.860 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 13:31:49.865 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 13:31:49.866 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 13:31:49.868 +01:00 [DBG] Start token request.
2020-09-09 13:31:49.870 +01:00 [DBG] Start client validation
2020-09-09 13:31:49.871 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 13:31:49.871 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-09-09 13:31:49.872 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 13:31:50.978 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 13:31:50.978 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 13:31:50.983 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 13:31:50.984 +01:00 [DBG] Client validation success
2020-09-09 13:31:50.985 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KNDIPL7GF:00000001","TimeStamp":"2020-09-09T12:31:50.0000000Z","ProcessId":13924,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 13:31:50.995 +01:00 [DBG] Start token request validation
2020-09-09 13:31:51.009 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 13:31:51.165 +01:00 [DBG] FtGdkclBJMP8oeomJe2uj9fDLiiwsFDO8hziRaDrp3k= found in database: true
2020-09-09 13:31:51.395 +01:00 [DBG] removing FtGdkclBJMP8oeomJe2uj9fDLiiwsFDO8hziRaDrp3k= persisted grant from database
2020-09-09 13:31:51.793 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 13:31:51.803 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"F3DC718165E5551E4C288E1F6AC57BA3E08BBC66D2FD9D4B28AF32FDC457AF20","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"F3DC718165E5551E4C288E1F6AC57BA3E08BBC66D2FD9D4B28AF32FDC457AF20","redirect_uri":"https://localhost:44346","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-09-09 13:31:53.026 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 13:31:53.027 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 13:31:53.100 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 13:31:53.328 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 13:31:53.403 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 13:31:53.413 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 13:31:53.417 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 13:32:03.488 +01:00 [WRN] No type was specified for the decimal column 'nCashLimit' on entity type 'AspNetUsers'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-09-09 13:32:06.647 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"access_token","TokenValue":"****6f0A","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KNDIPL7GF:00000001","TimeStamp":"2020-09-09T12:32:06.0000000Z","ProcessId":13924,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 13:32:06.654 +01:00 [DBG] Token request success.
2020-09-09 13:32:20.707 +01:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2020-09-09 13:32:20.710 +01:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2020-09-09 13:32:20.711 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2020-09-09 13:32:20.713 +01:00 [DBG] Starting introspection request.
2020-09-09 13:32:20.713 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 13:32:20.714 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-09-09 13:32:20.714 +01:00 [DBG] Secret id found: collectorapi
2020-09-09 13:32:20.901 +01:00 [DBG] Found ["collectorapi"] API resource in database
2020-09-09 13:32:20.903 +01:00 [DBG] Secret validator success: HashedSharedSecretValidator
2020-09-09 13:32:20.903 +01:00 [DBG] API resource validation success
2020-09-09 13:32:20.904 +01:00 [INF] {"ApiName":"collectorapi","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"API Authentication Success","EventType":"Success","Id":1020,"Message":null,"ActivityId":"0HM2KNDIPL7GK:00000001","TimeStamp":"2020-09-09T12:32:20.0000000Z","ProcessId":13924,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ApiAuthenticationSuccessEvent"}
2020-09-09 13:32:20.918 +01:00 [DBG] Introspection request validation started.
2020-09-09 13:32:21.840 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 13:32:21.841 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 13:32:22.818 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 13:32:22.819 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 13:32:22.975 +01:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2020-09-09 13:32:22.977 +01:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":null,"TokenHandle":null,"JwtId":"F018F1C51C2A66E51AE1D87C0F8DE20F","Claims":{"nbf":1599654726,"exp":1599658326,"iss":"https://localhost:5001","aud":["collectorapi","https://localhost:5001/resources"],"client_id":"TaxAdminCode","sub":"8aa41560-b391-43ed-835a-2542e99b7cd7","auth_time":1599654705,"idp":"local","WebSite":"83488df5-c4b5-4ca9-b33c-92b5b3ca0641","AssemblyCode":"C0002","AssemblyName":"ABLEKUMA NORTH MUNICIPAL ASSEMBLY","AssemblyLogo":"a26d8c7c-a8c4-4a09-83e7-700041b5efdb.png","FirstName":"Somad","LastName":"Yessoufou","CashLimit":"2500.00","AgentId":"3","iGroupId":"1","szGroupName":"ADMIN","pkId":"8aa41560-b391-43ed-835a-2542e99b7cd7","iSegmentId":"0","jti":"F018F1C51C2A66E51AE1D87C0F8DE20F","sid":"3E8A1CCAEE16C743E0C1EA4D5B365527","iat":1599654726,"scope":"collectorapi","amr":"pwd"},"$type":"TokenValidationLog"}
2020-09-09 13:32:22.992 +01:00 [DBG] Introspection request validation successful.
2020-09-09 13:32:22.994 +01:00 [DBG] Creating introspection response for active token.
2020-09-09 13:32:22.996 +01:00 [INF] {"ApiName":"collectorapi","IsActive":true,"Token":"****6f0A","ClaimTypes":["nbf","exp","iss","aud","client_id","sub","auth_time","idp","WebSite","AssemblyCode","AssemblyName","AssemblyLogo","FirstName","LastName","CashLimit","AgentId","iGroupId","szGroupName","pkId","iSegmentId","jti","sid","iat","scope","amr"],"TokenScopes":["collectorapi"],"Category":"Token","Name":"Token Introspection Success","EventType":"Success","Id":2020,"Message":null,"ActivityId":"0HM2KNDIPL7GK:00000001","TimeStamp":"2020-09-09T12:32:22.0000000Z","ProcessId":13924,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIntrospectionSuccessEvent"}
2020-09-09 13:32:23.004 +01:00 [INF] Success token introspection. Token active: true, for API name: collectorapi
2020-09-09 13:36:48.503 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 13:36:48.519 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 13:36:48.520 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 13:36:48.521 +01:00 [DBG] Start authorize request
2020-09-09 13:36:48.522 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 13:36:48.528 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 13:36:49.515 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 13:36:49.516 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 13:36:49.517 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 13:36:49.518 +01:00 [DBG] No PKCE used.
2020-09-09 13:36:49.651 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 13:36:49.889 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 13:36:49.961 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 13:36:49.986 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 13:36:49.989 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc","https://localhost:44346"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"3E8A1CCAEE16C743E0C1EA4D5B365527","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 13:36:50.214 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 13:36:50.215 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 13:36:50.364 +01:00 [DBG] IstZOxl08iiVyULmOGE/Q6cYOBx4vM6OqwM6hIWOWcI= not found in database
2020-09-09 13:36:50.671 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****F675","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KNDIPL7GL:00000001","TimeStamp":"2020-09-09T12:36:50.0000000Z","ProcessId":13924,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 13:36:50.692 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 13:36:50.701 +01:00 [DBG] Augmenting SignInContext
2020-09-09 13:36:50.702 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 13:36:50.991 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 13:36:50.993 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 13:36:50.996 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 13:36:50.998 +01:00 [DBG] Start token request.
2020-09-09 13:36:50.999 +01:00 [DBG] Start client validation
2020-09-09 13:36:50.999 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 13:36:51.000 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-09-09 13:36:51.002 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 13:36:52.104 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 13:36:52.105 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 13:36:52.107 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 13:36:52.108 +01:00 [DBG] Client validation success
2020-09-09 13:36:52.109 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KNDIPL7GF:00000002","TimeStamp":"2020-09-09T12:36:52.0000000Z","ProcessId":13924,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 13:36:52.118 +01:00 [DBG] Start token request validation
2020-09-09 13:36:52.119 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 13:36:52.313 +01:00 [DBG] IstZOxl08iiVyULmOGE/Q6cYOBx4vM6OqwM6hIWOWcI= found in database: true
2020-09-09 13:36:52.503 +01:00 [DBG] removing IstZOxl08iiVyULmOGE/Q6cYOBx4vM6OqwM6hIWOWcI= persisted grant from database
2020-09-09 13:36:52.895 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 13:36:52.896 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"85392D18EE7ABE607DF5E4DC81385240FD4A7C24CA437E3604936AFDE633F675","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"85392D18EE7ABE607DF5E4DC81385240FD4A7C24CA437E3604936AFDE633F675","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-09-09 13:36:53.850 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 13:36:53.851 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 13:36:53.935 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 13:36:54.151 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 13:36:54.225 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 13:36:54.227 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 13:36:54.228 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 13:36:58.250 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"access_token","TokenValue":"****LfYw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KNDIPL7GF:00000002","TimeStamp":"2020-09-09T12:36:58.0000000Z","ProcessId":13924,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 13:36:58.264 +01:00 [DBG] Token request success.
2020-09-09 13:41:23.770 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 13:41:23.776 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 13:41:23.777 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 13:41:23.778 +01:00 [DBG] Start authorize request
2020-09-09 13:41:23.779 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 13:41:23.779 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 13:41:30.853 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 13:41:30.858 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 13:41:30.879 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 13:41:30.880 +01:00 [DBG] No PKCE used.
2020-09-09 13:41:30.942 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 13:41:31.163 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 13:41:31.249 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 13:41:31.252 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 13:41:31.253 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc","https://localhost:44346"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"3E8A1CCAEE16C743E0C1EA4D5B365527","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 13:41:31.465 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 13:41:31.466 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 13:41:31.604 +01:00 [DBG] l9ifKV9A0+4CbNoATdK0kQX+NhkCydr8aG3fmVf+P8g= not found in database
2020-09-09 13:41:31.849 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****BEE7","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KNDIPL7GR:00000001","TimeStamp":"2020-09-09T12:41:31.0000000Z","ProcessId":13924,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 13:41:31.854 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 13:41:31.857 +01:00 [DBG] Augmenting SignInContext
2020-09-09 13:41:31.859 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 13:41:32.177 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 13:41:32.196 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 13:41:32.198 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 13:41:32.200 +01:00 [DBG] Start token request.
2020-09-09 13:41:32.201 +01:00 [DBG] Start client validation
2020-09-09 13:41:32.201 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 13:41:32.202 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-09-09 13:41:32.203 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 13:41:33.504 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 13:41:33.505 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 13:41:33.508 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 13:41:33.508 +01:00 [DBG] Client validation success
2020-09-09 13:41:33.509 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KNDIPL7GF:00000003","TimeStamp":"2020-09-09T12:41:33.0000000Z","ProcessId":13924,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 13:41:33.513 +01:00 [DBG] Start token request validation
2020-09-09 13:41:33.514 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 13:41:33.744 +01:00 [DBG] l9ifKV9A0+4CbNoATdK0kQX+NhkCydr8aG3fmVf+P8g= found in database: true
2020-09-09 13:41:34.083 +01:00 [DBG] removing l9ifKV9A0+4CbNoATdK0kQX+NhkCydr8aG3fmVf+P8g= persisted grant from database
2020-09-09 13:41:34.505 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 13:41:34.507 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"65C06C0045685CB3A285C03D2CAEAB2A30FDEA08465F5F09165DEA6250EABEE7","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"65C06C0045685CB3A285C03D2CAEAB2A30FDEA08465F5F09165DEA6250EABEE7","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-09-09 13:41:35.781 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 13:41:35.786 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 13:41:35.900 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 13:41:36.135 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 13:41:36.242 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 13:41:36.246 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 13:41:36.246 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 13:41:40.316 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"access_token","TokenValue":"****zQUQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KNDIPL7GF:00000003","TimeStamp":"2020-09-09T12:41:40.0000000Z","ProcessId":13924,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 13:41:40.330 +01:00 [DBG] Token request success.
2020-09-09 13:54:36.556 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 13:54:36.830 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 13:54:36.857 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 13:54:36.881 +01:00 [DBG] Start authorize request
2020-09-09 13:54:36.967 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 13:54:36.977 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 13:54:39.547 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 13:54:39.571 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 13:54:39.573 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 13:54:39.574 +01:00 [DBG] No PKCE used.
2020-09-09 13:54:39.638 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 13:54:39.821 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 13:54:39.893 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 13:54:39.931 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 13:54:40.156 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc","https://localhost:44346"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"3E8A1CCAEE16C743E0C1EA4D5B365527","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 13:54:40.487 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 13:54:40.488 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 13:54:40.753 +01:00 [DBG] 1llKzn4i6MnD5VU+11J8Q0n4HRnd5T2DjrMY9LKMkeg= not found in database
2020-09-09 13:54:41.341 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****7EF1","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KNDIPL7GV:00000001","TimeStamp":"2020-09-09T12:54:41.0000000Z","ProcessId":13924,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 13:54:41.369 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 13:54:41.429 +01:00 [DBG] Augmenting SignInContext
2020-09-09 13:54:41.578 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 13:54:43.724 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 13:54:43.726 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 13:54:43.727 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 13:54:43.729 +01:00 [DBG] Start token request.
2020-09-09 13:54:43.729 +01:00 [DBG] Start client validation
2020-09-09 13:54:43.730 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 13:54:43.731 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-09-09 13:54:43.732 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 13:54:44.497 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 13:54:44.498 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 13:54:44.501 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 13:54:44.506 +01:00 [DBG] Client validation success
2020-09-09 13:54:44.507 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KNDIPL7GF:00000004","TimeStamp":"2020-09-09T12:54:44.0000000Z","ProcessId":13924,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 13:54:44.527 +01:00 [DBG] Start token request validation
2020-09-09 13:54:44.542 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 13:54:44.660 +01:00 [DBG] 1llKzn4i6MnD5VU+11J8Q0n4HRnd5T2DjrMY9LKMkeg= found in database: true
2020-09-09 13:54:44.828 +01:00 [DBG] removing 1llKzn4i6MnD5VU+11J8Q0n4HRnd5T2DjrMY9LKMkeg= persisted grant from database
2020-09-09 13:54:45.181 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 13:54:45.182 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"4966A6EEA0B60C7BDE28E68222C335DB0C4F380E1732F2617D079C88C6537EF1","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"4966A6EEA0B60C7BDE28E68222C335DB0C4F380E1732F2617D079C88C6537EF1","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-09-09 13:54:45.980 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 13:54:45.980 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 13:54:46.029 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 13:54:46.211 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 13:54:46.266 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 13:54:46.269 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 13:54:46.269 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 13:54:58.974 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"access_token","TokenValue":"****7UOg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KNDIPL7GF:00000004","TimeStamp":"2020-09-09T12:54:58.0000000Z","ProcessId":13924,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 13:54:58.990 +01:00 [DBG] Token request success.
2020-09-09 13:56:45.289 +01:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://jwt.io
2020-09-09 13:56:46.147 +01:00 [DBG] Origin https://jwt.io is allowed: false
2020-09-09 13:56:46.150 +01:00 [WRN] CorsPolicyService did not allow origin: https://jwt.io
2020-09-09 13:56:46.178 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-09 13:56:46.237 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-09 13:56:46.242 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-09 13:56:46.245 +01:00 [DBG] Start discovery request
2020-09-09 13:56:48.063 +01:00 [DBG] Found ["profile","openid","email","collectorapi"] as all scopes, and ["collectorapi","email","openid","profile"] as API resources
2020-09-09 13:59:59.510 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 13:59:59.543 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 13:59:59.545 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 13:59:59.547 +01:00 [DBG] Start authorize request
2020-09-09 13:59:59.604 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 13:59:59.607 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 14:00:02.134 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 14:00:02.135 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 14:00:02.138 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 14:00:02.139 +01:00 [DBG] No PKCE used.
2020-09-09 14:00:02.363 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 14:00:02.661 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 14:00:02.749 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 14:00:02.751 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 14:00:02.756 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc","https://localhost:44346"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"3E8A1CCAEE16C743E0C1EA4D5B365527","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 14:00:03.194 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 14:00:03.194 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 14:00:03.365 +01:00 [DBG] wx3h0+WYM7wHcaz8gtYaLQBMJLtsTqGgjlQ8QQLOKj0= not found in database
2020-09-09 14:00:04.155 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****FE66","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KNDIPL7H3:00000001","TimeStamp":"2020-09-09T13:00:04.0000000Z","ProcessId":13924,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 14:00:04.199 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 14:00:04.239 +01:00 [DBG] Augmenting SignInContext
2020-09-09 14:00:04.252 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 14:00:04.957 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 14:00:04.971 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 14:00:04.978 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 14:00:04.979 +01:00 [DBG] Start token request.
2020-09-09 14:00:04.980 +01:00 [DBG] Start client validation
2020-09-09 14:00:04.981 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 14:00:04.982 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-09-09 14:00:04.983 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 14:00:06.857 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 14:00:06.858 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 14:00:06.859 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 14:00:06.860 +01:00 [DBG] Client validation success
2020-09-09 14:00:06.861 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KNDIPL7GF:00000005","TimeStamp":"2020-09-09T13:00:06.0000000Z","ProcessId":13924,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 14:00:06.864 +01:00 [DBG] Start token request validation
2020-09-09 14:00:06.865 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 14:00:07.125 +01:00 [DBG] wx3h0+WYM7wHcaz8gtYaLQBMJLtsTqGgjlQ8QQLOKj0= found in database: true
2020-09-09 14:00:07.413 +01:00 [DBG] removing wx3h0+WYM7wHcaz8gtYaLQBMJLtsTqGgjlQ8QQLOKj0= persisted grant from database
2020-09-09 14:00:08.002 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 14:00:08.003 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"2025D386156B921592B801FCA855DBEA4E57061DA08AACBE594D79D8B577FE66","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"2025D386156B921592B801FCA855DBEA4E57061DA08AACBE594D79D8B577FE66","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-09-09 14:00:10.532 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 14:00:10.533 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 14:00:10.621 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 14:00:11.269 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 14:00:11.490 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 14:00:11.492 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 14:00:11.492 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 14:00:18.756 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"access_token","TokenValue":"****_FDQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KNDIPL7GF:00000005","TimeStamp":"2020-09-09T13:00:18.0000000Z","ProcessId":13924,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 14:00:18.762 +01:00 [DBG] Token request success.
2020-09-09 15:11:30.433 +01:00 [INF] Starting host...
2020-09-09 15:11:34.424 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-09 15:11:34.439 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-09 15:11:34.440 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-09 15:11:34.441 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-09 15:11:34.442 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-09 15:11:34.442 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-09 15:11:34.443 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-09 15:11:35.218 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-09 15:11:35.219 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-09 15:11:35.219 +01:00 [INF] Hosting environment: Development
2020-09-09 15:11:35.224 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-09 15:11:48.026 +01:00 [DBG] Login Url: /Account/Login
2020-09-09 15:11:48.028 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-09 15:11:48.030 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-09 15:11:48.030 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-09 15:11:48.031 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-09 15:11:48.033 +01:00 [DBG] Error Url: /home/error
2020-09-09 15:11:48.036 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 15:13:14.252 +01:00 [INF] Application is shutting down...
2020-09-09 15:30:09.824 +01:00 [INF] Starting host...
2020-09-09 15:30:22.976 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-09 15:30:22.991 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-09 15:30:22.992 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-09 15:30:22.992 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-09 15:30:22.993 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-09 15:30:22.993 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-09 15:30:22.994 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-09 15:30:23.418 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-09 15:30:23.418 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-09 15:30:23.418 +01:00 [INF] Hosting environment: Development
2020-09-09 15:30:23.419 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-09 15:30:25.372 +01:00 [DBG] Login Url: /Account/Login
2020-09-09 15:30:25.375 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-09 15:30:25.378 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-09 15:30:25.378 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-09 15:30:25.379 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-09 15:30:25.379 +01:00 [DBG] Error Url: /home/error
2020-09-09 15:30:25.380 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 15:31:02.509 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 15:31:02.543 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 15:31:02.545 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 15:31:02.548 +01:00 [DBG] Start authorize request
2020-09-09 15:31:02.604 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 15:31:02.615 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 15:31:07.703 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 15:31:07.712 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 15:31:07.722 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 15:31:07.723 +01:00 [DBG] No PKCE used.
2020-09-09 15:31:09.485 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 15:31:10.228 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 15:31:11.098 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 15:31:11.179 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 15:31:11.189 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc","https://localhost:44346"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"3E8A1CCAEE16C743E0C1EA4D5B365527","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 15:31:11.214 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 15:31:11.216 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 15:31:11.835 +01:00 [DBG] rx+hFucJLDvgXApb/9mI0LkKjVeiTESz7nsySfe6TwE= not found in database
2020-09-09 15:31:13.266 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****F3A3","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KPJHKRIJG:00000001","TimeStamp":"2020-09-09T14:31:13.0000000Z","ProcessId":14648,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 15:31:13.275 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 15:31:13.317 +01:00 [DBG] Augmenting SignInContext
2020-09-09 15:31:13.352 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 15:31:15.249 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 15:31:15.257 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 15:31:15.258 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 15:31:15.262 +01:00 [DBG] Start token request.
2020-09-09 15:31:15.265 +01:00 [DBG] Start client validation
2020-09-09 15:31:15.269 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 15:31:15.270 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-09-09 15:31:15.271 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 15:31:17.628 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 15:31:17.629 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 15:31:17.635 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 15:31:17.635 +01:00 [DBG] Client validation success
2020-09-09 15:31:17.637 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KPJHKRIJI:00000001","TimeStamp":"2020-09-09T14:31:17.0000000Z","ProcessId":14648,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 15:31:17.671 +01:00 [DBG] Start token request validation
2020-09-09 15:31:17.675 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 15:31:18.883 +01:00 [DBG] rx+hFucJLDvgXApb/9mI0LkKjVeiTESz7nsySfe6TwE= found in database: true
2020-09-09 15:31:19.358 +01:00 [DBG] removing rx+hFucJLDvgXApb/9mI0LkKjVeiTESz7nsySfe6TwE= persisted grant from database
2020-09-09 15:31:21.210 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 15:31:21.214 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"2B2DE1D7C648CDCF6BCB4856CF49FB26C512A928940A92C1ABCE30505E8AF3A3","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"2B2DE1D7C648CDCF6BCB4856CF49FB26C512A928940A92C1ABCE30505E8AF3A3","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-09-09 15:31:24.361 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 15:31:24.362 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 15:31:24.773 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 15:31:25.597 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 15:31:25.667 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 15:31:25.678 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 15:31:25.680 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 15:31:58.665 +01:00 [WRN] No type was specified for the decimal column 'nCashLimit' on entity type 'AspNetUsers'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-09-09 15:32:03.484 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"access_token","TokenValue":"****jtUw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KPJHKRIJI:00000001","TimeStamp":"2020-09-09T14:32:03.0000000Z","ProcessId":14648,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 15:32:03.493 +01:00 [DBG] Token request success.
2020-09-09 15:43:31.868 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 15:43:31.870 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 15:43:31.872 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 15:43:31.873 +01:00 [DBG] Start authorize request
2020-09-09 15:43:31.874 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 15:43:31.881 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 15:43:32.766 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 15:43:32.767 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 15:43:32.771 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 15:43:32.772 +01:00 [DBG] No PKCE used.
2020-09-09 15:43:32.821 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 15:43:33.066 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 15:43:33.137 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 15:43:33.140 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 15:43:33.141 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc","https://localhost:44346"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"3E8A1CCAEE16C743E0C1EA4D5B365527","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 15:43:33.166 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 15:43:33.167 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 15:43:33.225 +01:00 [DBG] 2FXGST8Z6oih5+g0q5htgjjdUr9YXyA/IHDLK8THX34= not found in database
2020-09-09 15:43:33.558 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****C5E4","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KPJHKRIJO:00000001","TimeStamp":"2020-09-09T14:43:33.0000000Z","ProcessId":14648,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 15:43:33.572 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 15:43:33.575 +01:00 [DBG] Augmenting SignInContext
2020-09-09 15:43:33.578 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 15:43:33.905 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 15:43:33.907 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 15:43:33.910 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 15:43:33.912 +01:00 [DBG] Start token request.
2020-09-09 15:43:33.912 +01:00 [DBG] Start client validation
2020-09-09 15:43:33.913 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 15:43:33.913 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-09-09 15:43:33.914 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 15:43:34.770 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 15:43:34.771 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 15:43:34.772 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 15:43:34.773 +01:00 [DBG] Client validation success
2020-09-09 15:43:34.774 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KPJHKRIJI:00000002","TimeStamp":"2020-09-09T14:43:34.0000000Z","ProcessId":14648,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 15:43:34.778 +01:00 [DBG] Start token request validation
2020-09-09 15:43:34.778 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 15:43:34.987 +01:00 [DBG] 2FXGST8Z6oih5+g0q5htgjjdUr9YXyA/IHDLK8THX34= found in database: true
2020-09-09 15:43:35.353 +01:00 [DBG] removing 2FXGST8Z6oih5+g0q5htgjjdUr9YXyA/IHDLK8THX34= persisted grant from database
2020-09-09 15:43:35.761 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 15:43:35.762 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"F86505E7D624112F2E94F21B410A054165E78F8D226F0D1B23D2E7FA86ABC5E4","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"F86505E7D624112F2E94F21B410A054165E78F8D226F0D1B23D2E7FA86ABC5E4","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-09-09 15:43:36.760 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 15:43:36.761 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 15:43:36.821 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 15:43:37.016 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 15:43:37.068 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 15:43:37.072 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 15:43:37.074 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 16:32:19.266 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 16:32:19.501 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 16:32:19.502 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 16:32:19.530 +01:00 [DBG] Start authorize request
2020-09-09 16:32:19.574 +01:00 [DBG] No user present in authorize request
2020-09-09 16:32:19.574 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 16:32:25.743 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"access_token","TokenValue":"****utoA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KPJHKRIJI:00000002","TimeStamp":"2020-09-09T15:32:25.0000000Z","ProcessId":14648,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 16:32:25.756 +01:00 [DBG] Token request success.
2020-09-09 16:32:26.332 +01:00 [INF] Removing 3 grants
2020-09-09 16:32:26.992 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 16:32:26.993 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 16:32:26.997 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 16:32:26.997 +01:00 [DBG] No PKCE used.
2020-09-09 16:32:27.176 +01:00 [INF] Removing 0 device flow codes
2020-09-09 16:32:27.186 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 16:32:27.390 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 16:32:27.428 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 16:32:27.442 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 16:32:27.444 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc","https://localhost:44346"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi email openid profile","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi email openid profile","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 16:32:27.483 +01:00 [INF] Showing login: User is not authenticated
2020-09-09 16:32:27.851 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 16:32:28.726 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 16:32:28.726 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 16:32:28.728 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 16:32:28.730 +01:00 [DBG] No PKCE used.
2020-09-09 16:32:28.841 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 16:32:29.005 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 16:32:29.060 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 16:32:29.063 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 16:32:29.870 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 16:32:29.870 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 16:32:53.950 +01:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-09-09 16:33:08.855 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 16:33:10.036 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 16:33:10.037 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 16:33:10.046 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 16:33:10.046 +01:00 [DBG] No PKCE used.
2020-09-09 16:33:10.289 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 16:33:10.525 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 16:33:10.578 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 16:33:10.587 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 16:33:14.901 +01:00 [DBG] Augmenting SignInContext
2020-09-09 16:33:14.902 +01:00 [DBG] Adding idp claim with value: local
2020-09-09 16:33:14.903 +01:00 [DBG] Adding auth_time claim with value: 1599665594
2020-09-09 16:33:14.913 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 16:33:15.092 +01:00 [INF] {"Username":"T0009","Provider":null,"ProviderUserId":null,"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","DisplayName":"T0009","Endpoint":"UI","ClientId":"TaxAdminCode","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HM2KPJHKRIJT:00000005","TimeStamp":"2020-09-09T15:33:15.0000000Z","ProcessId":14648,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2020-09-09 16:33:17.251 +01:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2020-09-09 16:33:17.253 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2020-09-09 16:33:17.261 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-09-09 16:33:17.273 +01:00 [DBG] Start authorize callback request
2020-09-09 16:33:17.278 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 16:33:17.279 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 16:33:18.514 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 16:33:18.515 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 16:33:18.524 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 16:33:18.524 +01:00 [DBG] No PKCE used.
2020-09-09 16:33:18.805 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 16:33:19.109 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 16:33:19.221 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 16:33:19.223 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 16:33:19.228 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc","https://localhost:44346"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi email openid profile","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"1E0D4AA1C08408B7F2BE311290E04496","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi email openid profile","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 16:33:19.469 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 16:33:19.470 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 16:33:19.656 +01:00 [DBG] lQNRXRZN1A9ffTfnFG9hPcFV1fqgzEV+8NEDPV6dZX0= not found in database
2020-09-09 16:33:19.973 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi email openid profile","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****14F5","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KPJHKRIJT:00000007","TimeStamp":"2020-09-09T15:33:19.0000000Z","ProcessId":14648,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 16:33:19.983 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi email openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 16:33:20.001 +01:00 [DBG] Augmenting SignInContext
2020-09-09 16:33:20.003 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 16:33:20.539 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 16:33:20.557 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 16:33:20.558 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 16:33:20.559 +01:00 [DBG] Start token request.
2020-09-09 16:33:20.561 +01:00 [DBG] Start client validation
2020-09-09 16:33:20.562 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 16:33:20.564 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-09-09 16:33:20.571 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 16:33:21.860 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 16:33:21.862 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 16:33:21.867 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 16:33:21.868 +01:00 [DBG] Client validation success
2020-09-09 16:33:21.870 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KPJHKRIK2:00000001","TimeStamp":"2020-09-09T15:33:21.0000000Z","ProcessId":14648,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 16:33:21.875 +01:00 [DBG] Start token request validation
2020-09-09 16:33:21.880 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 16:33:22.181 +01:00 [DBG] lQNRXRZN1A9ffTfnFG9hPcFV1fqgzEV+8NEDPV6dZX0= found in database: true
2020-09-09 16:33:22.520 +01:00 [DBG] removing lQNRXRZN1A9ffTfnFG9hPcFV1fqgzEV+8NEDPV6dZX0= persisted grant from database
2020-09-09 16:33:22.950 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 16:33:22.950 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"BC4866CC0EE47132B8958890E05F745D9C4F207E8433F18F5FC6FBBC334914F5","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"BC4866CC0EE47132B8958890E05F745D9C4F207E8433F18F5FC6FBBC334914F5","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-09-09 16:33:24.219 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 16:33:24.221 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 16:33:24.442 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 16:33:24.708 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 16:33:24.805 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 16:33:24.807 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 16:33:24.808 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 16:35:52.981 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 16:35:52.982 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 16:35:53.248 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 16:35:53.456 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 16:35:53.534 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 16:35:53.555 +01:00 [DBG] Getting claims for identity token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7 and client: TaxAdminCode
2020-09-09 16:35:53.556 +01:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-09-09 16:35:53.561 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi email openid profile","GrantType":"authorization_code","Tokens":[{"TokenType":"id_token","TokenValue":"****uV3A","$type":"Token"},{"TokenType":"access_token","TokenValue":"****CMtg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KPJHKRIK2:00000001","TimeStamp":"2020-09-09T15:35:53.0000000Z","ProcessId":14648,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 16:35:53.571 +01:00 [DBG] Token request success.
2020-09-09 16:40:02.054 +01:00 [INF] Starting host...
2020-09-09 16:40:05.293 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-09 16:40:05.307 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-09 16:40:05.308 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-09 16:40:05.308 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-09 16:40:05.308 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-09 16:40:05.309 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-09 16:40:05.309 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-09 16:40:05.778 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-09 16:40:05.779 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-09 16:40:05.789 +01:00 [INF] Hosting environment: Development
2020-09-09 16:40:05.789 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-09 16:40:06.337 +01:00 [DBG] Login Url: /Account/Login
2020-09-09 16:40:06.339 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-09 16:40:06.341 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-09 16:40:06.342 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-09 16:40:06.343 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-09 16:40:06.344 +01:00 [DBG] Error Url: /home/error
2020-09-09 16:40:06.349 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 16:41:04.913 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 16:41:04.967 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 16:41:04.968 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 16:41:04.972 +01:00 [DBG] Start authorize request
2020-09-09 16:41:04.980 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 16:41:04.995 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 16:41:06.788 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 16:41:06.794 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 16:41:06.803 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 16:41:06.806 +01:00 [DBG] No PKCE used.
2020-09-09 16:41:07.038 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 16:41:07.274 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 16:41:07.436 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 16:41:07.470 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 16:41:07.482 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc","https://localhost:44346"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi email openid profile","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"1E0D4AA1C08408B7F2BE311290E04496","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi email openid profile","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 16:41:07.769 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 16:41:07.773 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 16:41:07.924 +01:00 [DBG] FwS/8bkV2bwCmO3GzTNCuBi2iFQ9o2npP8/FRYiXGEM= not found in database
2020-09-09 16:41:08.379 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi email openid profile","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****E3BB","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KQQG2JQUK:00000001","TimeStamp":"2020-09-09T15:41:08.0000000Z","ProcessId":31380,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 16:41:08.390 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi email openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 16:41:08.417 +01:00 [DBG] Augmenting SignInContext
2020-09-09 16:41:08.427 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 16:41:08.767 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 16:41:08.773 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 16:41:08.774 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 16:41:08.777 +01:00 [DBG] Start token request.
2020-09-09 16:41:08.778 +01:00 [DBG] Start client validation
2020-09-09 16:41:08.781 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 16:41:08.782 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-09-09 16:41:08.782 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 16:41:09.533 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 16:41:09.534 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 16:41:09.542 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 16:41:09.543 +01:00 [DBG] Client validation success
2020-09-09 16:41:09.546 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KQQG2JQUM:00000001","TimeStamp":"2020-09-09T15:41:09.0000000Z","ProcessId":31380,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 16:41:09.560 +01:00 [DBG] Start token request validation
2020-09-09 16:41:09.563 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 16:41:09.712 +01:00 [DBG] FwS/8bkV2bwCmO3GzTNCuBi2iFQ9o2npP8/FRYiXGEM= found in database: true
2020-09-09 16:41:09.867 +01:00 [DBG] removing FwS/8bkV2bwCmO3GzTNCuBi2iFQ9o2npP8/FRYiXGEM= persisted grant from database
2020-09-09 16:41:10.180 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 16:41:10.184 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"8EBCA494A4C1F73D32460A3D75A07A187FA9781E17FD4856B50C709B9C3EE3BB","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"8EBCA494A4C1F73D32460A3D75A07A187FA9781E17FD4856B50C709B9C3EE3BB","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-09-09 16:41:10.986 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 16:41:10.987 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 16:41:11.126 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 16:41:11.275 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 16:41:11.340 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 16:41:11.351 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 16:41:11.352 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 16:41:15.313 +01:00 [WRN] No type was specified for the decimal column 'nCashLimit' on entity type 'AspNetUsers'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-09-09 16:41:19.204 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 16:41:19.206 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 16:41:19.554 +01:00 [DBG] Found ["profile","openid","email"] identity scopes in database
2020-09-09 16:41:19.729 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 16:41:19.784 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 16:41:19.790 +01:00 [DBG] Getting claims for identity token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7 and client: TaxAdminCode
2020-09-09 16:41:19.790 +01:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-09-09 16:41:19.794 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi email openid profile","GrantType":"authorization_code","Tokens":[{"TokenType":"id_token","TokenValue":"****ZLTA","$type":"Token"},{"TokenType":"access_token","TokenValue":"****3YTQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KQQG2JQUM:00000001","TimeStamp":"2020-09-09T15:41:19.0000000Z","ProcessId":31380,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 16:41:19.810 +01:00 [DBG] Token request success.
2020-09-09 16:59:23.765 +01:00 [FTL] Host terminated unexpectedly.
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.AuthorizeEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.AuthorizeEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.EndSessionCallbackEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.EndSessionCallbackEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.EndSessionEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.EndSessionEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.IntrospectionEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.IntrospectionEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.TokenEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.TokenEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.UserInfoEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.UserInfoEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.ITokenService Lifetime: Transient ImplementationType: IdentityServer4.Services.DefaultTokenService': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.IClaimsService Lifetime: Transient ImplementationType: IdentityServer4.Services.DefaultClaimsService': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.IRefreshTokenService Lifetime: Transient ImplementationType: IdentityServer4.Services.DefaultRefreshTokenService': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IEndSessionRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.EndSessionRequestValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.ITokenRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.TokenRequestValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.ITokenValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.TokenValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IIntrospectionRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.IntrospectionRequestValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IUserInfoRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.UserInfoRequestValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IDeviceCodeValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.DeviceCodeValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.ITokenResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.TokenResponseGenerator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.IUserInfoResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.UserInfoResponseGenerator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.IAuthorizeInteractionResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.IAuthorizeResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.AuthorizeResponseGenerator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.IProfileService Lifetime: Scoped ImplementationType: Admin.IDP.ProfileService': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.DefaultServiceProviderFactory.CreateServiceProvider(IServiceCollection containerBuilder)
   at Microsoft.Extensions.Hosting.Internal.ServiceFactoryAdapter`1.CreateServiceProvider(Object containerBuilder)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at Admin.IDP.Program.Main(String[] args) in C:\IMPORTANT\AdminService\Admin.IDP\Program.cs:line 50
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.AuthorizeEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.AuthorizeEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.EndSessionCallbackEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.EndSessionCallbackEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #3) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.EndSessionEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.EndSessionEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #4) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.IntrospectionEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.IntrospectionEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #5) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.TokenEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.TokenEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #6) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.UserInfoEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.UserInfoEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #7) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.ITokenService Lifetime: Transient ImplementationType: IdentityServer4.Services.DefaultTokenService': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #8) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.IClaimsService Lifetime: Transient ImplementationType: IdentityServer4.Services.DefaultClaimsService': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #9) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.IRefreshTokenService Lifetime: Transient ImplementationType: IdentityServer4.Services.DefaultRefreshTokenService': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #10) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IEndSessionRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.EndSessionRequestValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #11) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.ITokenRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.TokenRequestValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #12) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.ITokenValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.TokenValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #13) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IIntrospectionRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.IntrospectionRequestValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #14) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IUserInfoRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.UserInfoRequestValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #15) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IDeviceCodeValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.DeviceCodeValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #16) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.ITokenResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.TokenResponseGenerator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #17) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.IUserInfoResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.UserInfoResponseGenerator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #18) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.IAuthorizeInteractionResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #19) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.IAuthorizeResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.AuthorizeResponseGenerator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #20) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.IProfileService Lifetime: Scoped ImplementationType: Admin.IDP.ProfileService': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

2020-09-09 16:59:53.185 +01:00 [FTL] Host terminated unexpectedly.
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.AuthorizeEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.AuthorizeEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.EndSessionCallbackEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.EndSessionCallbackEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.EndSessionEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.EndSessionEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.IntrospectionEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.IntrospectionEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.TokenEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.TokenEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.UserInfoEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.UserInfoEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.ITokenService Lifetime: Transient ImplementationType: IdentityServer4.Services.DefaultTokenService': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.IClaimsService Lifetime: Transient ImplementationType: IdentityServer4.Services.DefaultClaimsService': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.IRefreshTokenService Lifetime: Transient ImplementationType: IdentityServer4.Services.DefaultRefreshTokenService': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IEndSessionRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.EndSessionRequestValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.ITokenRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.TokenRequestValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.ITokenValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.TokenValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IIntrospectionRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.IntrospectionRequestValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IUserInfoRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.UserInfoRequestValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IDeviceCodeValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.DeviceCodeValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.ITokenResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.TokenResponseGenerator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.IUserInfoResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.UserInfoResponseGenerator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.IAuthorizeInteractionResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.IAuthorizeResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.AuthorizeResponseGenerator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.IProfileService Lifetime: Scoped ImplementationType: Admin.IDP.ProfileService': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.DefaultServiceProviderFactory.CreateServiceProvider(IServiceCollection containerBuilder)
   at Microsoft.Extensions.Hosting.Internal.ServiceFactoryAdapter`1.CreateServiceProvider(Object containerBuilder)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at Admin.IDP.Program.Main(String[] args) in C:\IMPORTANT\AdminService\Admin.IDP\Program.cs:line 50
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.AuthorizeEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.AuthorizeEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.EndSessionCallbackEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.EndSessionCallbackEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #3) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.EndSessionEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.EndSessionEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #4) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.IntrospectionEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.IntrospectionEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #5) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.TokenEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.TokenEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #6) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.UserInfoEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.UserInfoEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #7) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.ITokenService Lifetime: Transient ImplementationType: IdentityServer4.Services.DefaultTokenService': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #8) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.IClaimsService Lifetime: Transient ImplementationType: IdentityServer4.Services.DefaultClaimsService': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #9) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.IRefreshTokenService Lifetime: Transient ImplementationType: IdentityServer4.Services.DefaultRefreshTokenService': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #10) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IEndSessionRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.EndSessionRequestValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #11) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.ITokenRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.TokenRequestValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #12) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.ITokenValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.TokenValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #13) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IIntrospectionRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.IntrospectionRequestValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #14) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IUserInfoRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.UserInfoRequestValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #15) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IDeviceCodeValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.DeviceCodeValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #16) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.ITokenResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.TokenResponseGenerator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #17) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.IUserInfoResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.UserInfoResponseGenerator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #18) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.IAuthorizeInteractionResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #19) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.IAuthorizeResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.AuthorizeResponseGenerator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #20) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.IProfileService Lifetime: Scoped ImplementationType: Admin.IDP.ProfileService': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

2020-09-09 17:00:20.665 +01:00 [FTL] Host terminated unexpectedly.
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.AuthorizeEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.AuthorizeEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.EndSessionCallbackEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.EndSessionCallbackEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.EndSessionEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.EndSessionEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.IntrospectionEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.IntrospectionEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.TokenEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.TokenEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.UserInfoEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.UserInfoEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.ITokenService Lifetime: Transient ImplementationType: IdentityServer4.Services.DefaultTokenService': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.IClaimsService Lifetime: Transient ImplementationType: IdentityServer4.Services.DefaultClaimsService': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.IRefreshTokenService Lifetime: Transient ImplementationType: IdentityServer4.Services.DefaultRefreshTokenService': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IEndSessionRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.EndSessionRequestValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.ITokenRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.TokenRequestValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.ITokenValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.TokenValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IIntrospectionRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.IntrospectionRequestValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IUserInfoRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.UserInfoRequestValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IDeviceCodeValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.DeviceCodeValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.ITokenResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.TokenResponseGenerator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.IUserInfoResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.UserInfoResponseGenerator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.IAuthorizeInteractionResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.IAuthorizeResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.AuthorizeResponseGenerator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.) (Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.IProfileService Lifetime: Scoped ImplementationType: Admin.IDP.ProfileService': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.DefaultServiceProviderFactory.CreateServiceProvider(IServiceCollection containerBuilder)
   at Microsoft.Extensions.Hosting.Internal.ServiceFactoryAdapter`1.CreateServiceProvider(Object containerBuilder)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at Admin.IDP.Program.Main(String[] args) in C:\IMPORTANT\AdminService\Admin.IDP\Program.cs:line 50
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.AuthorizeEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.AuthorizeEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.EndSessionCallbackEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.EndSessionCallbackEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #3) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.EndSessionEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.EndSessionEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #4) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.IntrospectionEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.IntrospectionEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #5) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.TokenEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.TokenEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #6) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Endpoints.UserInfoEndpoint Lifetime: Transient ImplementationType: IdentityServer4.Endpoints.UserInfoEndpoint': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #7) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.ITokenService Lifetime: Transient ImplementationType: IdentityServer4.Services.DefaultTokenService': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #8) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.IClaimsService Lifetime: Transient ImplementationType: IdentityServer4.Services.DefaultClaimsService': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #9) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.IRefreshTokenService Lifetime: Transient ImplementationType: IdentityServer4.Services.DefaultRefreshTokenService': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #10) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IEndSessionRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.EndSessionRequestValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #11) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.ITokenRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.TokenRequestValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #12) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.ITokenValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.TokenValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #13) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IIntrospectionRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.IntrospectionRequestValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #14) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IUserInfoRequestValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.UserInfoRequestValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #15) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Validation.IDeviceCodeValidator Lifetime: Transient ImplementationType: IdentityServer4.Validation.DeviceCodeValidator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #16) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.ITokenResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.TokenResponseGenerator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #17) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.IUserInfoResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.UserInfoResponseGenerator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #18) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.IAuthorizeInteractionResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #19) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.ResponseHandling.IAuthorizeResponseGenerator Lifetime: Transient ImplementationType: IdentityServer4.ResponseHandling.AuthorizeResponseGenerator': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #20) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: IdentityServer4.Services.IProfileService Lifetime: Scoped ImplementationType: Admin.IDP.ProfileService': Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'Admin.IDP.Services.ICompanyService' while attempting to activate 'Admin.IDP.ProfileService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<---

2020-09-09 17:01:14.112 +01:00 [INF] Starting host...
2020-09-09 17:01:17.833 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-09 17:01:17.870 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-09 17:01:17.871 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-09 17:01:17.872 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-09 17:01:17.872 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-09 17:01:17.873 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-09 17:01:17.873 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-09 17:01:19.741 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-09 17:01:19.742 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-09 17:01:19.743 +01:00 [INF] Hosting environment: Development
2020-09-09 17:01:19.743 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-09 17:01:21.294 +01:00 [DBG] Login Url: /Account/Login
2020-09-09 17:01:21.296 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-09 17:01:21.297 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-09 17:01:21.298 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-09 17:01:21.301 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-09 17:01:21.302 +01:00 [DBG] Error Url: /home/error
2020-09-09 17:01:21.302 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 17:02:29.049 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 17:02:29.080 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 17:02:29.083 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 17:02:29.085 +01:00 [DBG] Start authorize request
2020-09-09 17:02:29.118 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 17:02:29.133 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 17:02:32.184 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 17:02:32.205 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 17:02:32.221 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 17:02:32.222 +01:00 [DBG] No PKCE used.
2020-09-09 17:02:32.330 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 17:02:32.575 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 17:02:32.666 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 17:02:32.689 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 17:02:32.700 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc","https://localhost:44346"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"1E0D4AA1C08408B7F2BE311290E04496","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 17:02:32.952 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 17:02:32.954 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 17:02:33.075 +01:00 [DBG] wbMawlPZ+ePYskhTBsTy/6mkl6zzDnU0hnPPfWyuGUQ= not found in database
2020-09-09 17:02:33.583 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****F102","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KR6BNNB7K:00000001","TimeStamp":"2020-09-09T16:02:33.0000000Z","ProcessId":24416,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 17:02:33.595 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 17:02:33.627 +01:00 [DBG] Augmenting SignInContext
2020-09-09 17:02:33.649 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 17:02:34.260 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 17:02:34.267 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 17:02:34.268 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 17:02:34.272 +01:00 [DBG] Start token request.
2020-09-09 17:02:34.273 +01:00 [DBG] Start client validation
2020-09-09 17:02:34.276 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 17:02:34.277 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-09-09 17:02:34.277 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 17:02:35.729 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 17:02:35.731 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 17:02:35.733 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 17:02:35.734 +01:00 [DBG] Client validation success
2020-09-09 17:02:35.736 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KR6BNNB7M:00000001","TimeStamp":"2020-09-09T16:02:35.0000000Z","ProcessId":24416,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 17:02:35.781 +01:00 [DBG] Start token request validation
2020-09-09 17:02:35.787 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 17:02:36.053 +01:00 [DBG] wbMawlPZ+ePYskhTBsTy/6mkl6zzDnU0hnPPfWyuGUQ= found in database: true
2020-09-09 17:02:36.526 +01:00 [DBG] removing wbMawlPZ+ePYskhTBsTy/6mkl6zzDnU0hnPPfWyuGUQ= persisted grant from database
2020-09-09 17:02:36.943 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 17:02:36.947 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"027BB980FFC7A675F14D1E3980FCF8C0F83B9CCCD88681188660CE465D1AF102","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"027BB980FFC7A675F14D1E3980FCF8C0F83B9CCCD88681188660CE465D1AF102","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-09-09 17:02:38.313 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 17:02:38.316 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 17:02:38.530 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 17:02:39.870 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 17:02:40.370 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 17:02:40.382 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 17:02:40.384 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 17:02:44.771 +01:00 [WRN] No type was specified for the decimal column 'nCashLimit' on entity type 'AspNetUsers'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-09-09 17:02:46.809 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"access_token","TokenValue":"****UNsw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KR6BNNB7M:00000001","TimeStamp":"2020-09-09T16:02:46.0000000Z","ProcessId":24416,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 17:02:46.818 +01:00 [DBG] Token request success.
2020-09-09 17:12:46.955 +01:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://jwt.io
2020-09-09 17:27:02.677 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 17:29:04.021 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 17:30:05.833 +01:00 [INF] Application is shutting down...
2020-09-09 17:30:51.684 +01:00 [INF] Starting host...
2020-09-09 17:31:01.814 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-09 17:31:01.846 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-09 17:31:01.847 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-09 17:31:01.848 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-09 17:31:01.848 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-09 17:31:01.849 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-09 17:31:01.849 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-09 17:31:03.127 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-09 17:31:03.129 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-09 17:31:03.130 +01:00 [INF] Hosting environment: Development
2020-09-09 17:31:03.131 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-09 17:31:06.419 +01:00 [DBG] Login Url: /Account/Login
2020-09-09 17:31:06.426 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-09 17:31:06.427 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-09 17:31:06.428 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-09 17:31:06.428 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-09 17:31:06.429 +01:00 [DBG] Error Url: /home/error
2020-09-09 17:31:06.430 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 17:31:31.033 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 17:31:31.071 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 17:31:31.073 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 17:31:31.075 +01:00 [DBG] Start authorize request
2020-09-09 17:31:31.080 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 17:31:31.096 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 17:31:32.943 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 17:31:32.951 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 17:31:32.962 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 17:31:32.963 +01:00 [DBG] No PKCE used.
2020-09-09 17:31:33.112 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 17:31:33.426 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 17:31:33.537 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 17:31:33.562 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 17:31:33.573 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907/swagger/oauth2-redirect.html","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc","https://localhost:44346"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"1E0D4AA1C08408B7F2BE311290E04496","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi","redirect_uri":"http://localhost:21907/swagger/oauth2-redirect.html"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 17:31:33.596 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 17:31:33.600 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 17:31:33.721 +01:00 [DBG] /IK742bTTnEJDOnseQFvBa0VmRq5mOwI14DdMolb/E8= not found in database
2020-09-09 17:31:34.269 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907/swagger/oauth2-redirect.html","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****E92E","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KRMV6LG4E:00000001","TimeStamp":"2020-09-09T16:31:34.0000000Z","ProcessId":46032,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 17:31:34.278 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907/swagger/oauth2-redirect.html","State":null,"Scope":"collectorapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 17:31:34.319 +01:00 [DBG] Augmenting SignInContext
2020-09-09 17:31:34.329 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 17:31:34.933 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 17:31:34.952 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 17:31:34.954 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 17:31:34.959 +01:00 [DBG] Start token request.
2020-09-09 17:31:34.964 +01:00 [DBG] Start client validation
2020-09-09 17:31:34.967 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 17:31:34.968 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-09-09 17:31:34.969 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 17:31:36.347 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 17:31:36.349 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 17:31:36.355 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 17:31:36.355 +01:00 [DBG] Client validation success
2020-09-09 17:31:36.357 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KRMV6LG4H:00000001","TimeStamp":"2020-09-09T16:31:36.0000000Z","ProcessId":46032,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 17:31:36.390 +01:00 [DBG] Start token request validation
2020-09-09 17:31:36.395 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 17:31:36.757 +01:00 [DBG] /IK742bTTnEJDOnseQFvBa0VmRq5mOwI14DdMolb/E8= found in database: true
2020-09-09 17:31:37.187 +01:00 [DBG] removing /IK742bTTnEJDOnseQFvBa0VmRq5mOwI14DdMolb/E8= persisted grant from database
2020-09-09 17:31:37.974 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 17:31:37.979 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"1FD74BC7DD3D0DE67A2571506383775A173E7C81E74E8BBF4676EAA150E4E92E","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"1FD74BC7DD3D0DE67A2571506383775A173E7C81E74E8BBF4676EAA150E4E92E","redirect_uri":"http://localhost:21907/swagger/oauth2-redirect.html","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-09-09 17:31:39.527 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 17:31:39.528 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 17:31:39.653 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 17:31:39.931 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 17:31:40.047 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 17:31:40.065 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 17:31:40.066 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 17:31:47.180 +01:00 [WRN] No type was specified for the decimal column 'nCashLimit' on entity type 'AspNetUsers'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-09-09 17:31:49.396 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"access_token","TokenValue":"****8Dzg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KRMV6LG4H:00000001","TimeStamp":"2020-09-09T16:31:49.0000000Z","ProcessId":46032,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 17:31:49.401 +01:00 [DBG] Token request success.
2020-09-09 18:52:48.044 +01:00 [INF] Starting host...
2020-09-09 18:52:52.638 +01:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-09-09 18:52:52.655 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-09-09 18:52:52.656 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-09-09 18:52:52.657 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-09-09 18:52:52.657 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-09-09 18:52:52.658 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-09-09 18:52:52.659 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-09-09 18:52:53.596 +01:00 [INF] Now listening on: https://localhost:5001
2020-09-09 18:52:53.600 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-09 18:52:53.602 +01:00 [INF] Hosting environment: Development
2020-09-09 18:52:53.604 +01:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-09-09 18:52:58.329 +01:00 [DBG] Login Url: /Account/Login
2020-09-09 18:52:58.331 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-09 18:52:58.333 +01:00 [DBG] Logout Url: /Account/Logout
2020-09-09 18:52:58.339 +01:00 [DBG] ConsentUrl Url: /consent
2020-09-09 18:52:58.340 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-09 18:52:58.341 +01:00 [DBG] Error Url: /home/error
2020-09-09 18:52:58.343 +01:00 [DBG] Error Id Parameter: errorId
2020-09-09 18:54:25.968 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-09 18:54:26.003 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-09 18:54:26.006 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-09 18:54:26.012 +01:00 [DBG] Start authorize request
2020-09-09 18:54:26.476 +01:00 [DBG] User in authorize request: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 18:54:26.488 +01:00 [DBG] Start authorize request protocol validation
2020-09-09 18:54:27.670 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 18:54:27.730 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 18:54:27.739 +01:00 [DBG] Checking for PKCE parameters
2020-09-09 18:54:27.742 +01:00 [DBG] No PKCE used.
2020-09-09 18:54:27.871 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 18:54:28.105 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 18:54:28.315 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 18:54:28.351 +01:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-09 18:54:28.363 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","AllowedRedirectUris":["http://psl-app-vm3/TaxCollectorAdminAPI","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/signin-oidc","http://localhost:58199/swagger/oauth2-redirect.html","http://localhost:58199/swagger/signin-oidc","http://psl-app-vm3/TaxCollectorAdminAPI/swagger","http://psl-app-vm3/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:58199/swagger","http://localhost:58199","http://localhost:32805","http://localhost:32805/signin-oidc","http://localhost:11569/swagger/oauth2-redirect.html","http://localhost:11569/swagger/signin-oidc","http://localhost:11569","http://192.168.0.68/TaxCollectorAdminAPI","http://localhost:31463","http://localhost:31463/swagger/signin-oidc","http://localhost:31463/swagger","http://localhost:31463/swagger/oauth2-redirect.html","http://192.168.0.68/TaxCollectorAdminAPI/swagger/oauth2-redirect.html","http://localhost:57783","http://localhost:57783/swagger","http://localhost:57783/swagger/signin-oidc","http://localhost:57783/swagger/oauth2-redirect.html","http://localhost:21907","http://localhost:21907/swagger","http://localhost:21907/swagger/signin-oidc","http://localhost:21907/swagger/oauth2-redirect.html","http://localhost:49789/swagger/oauth2-redirect.html","http://192.168.0.68/AndroidPortalService","http://192.168.0.68/AndroidPortalService/swagger","http://192.168.0.68/AndroidPortalService/swagger/signin-oidc","http://192.168.0.68/AndroidPortalService/swagger/oauth2-redirect.html","https://localhost:44302/signin-oidc","https://localhost:44346","http://localhost:21907/signin-oidc"],"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"collectorapi","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"1E0D4AA1C08408B7F2BE311290E04496","Raw":{"response_type":"code","state":"","client_id":"TaxAdminCode","scope":"collectorapi","redirect_uri":"http://localhost:21907"},"$type":"AuthorizeRequestValidationLog"}
2020-09-09 18:54:28.390 +01:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-09 18:54:28.393 +01:00 [DBG] Creating Authorization Code Flow response.
2020-09-09 18:54:28.512 +01:00 [DBG] nvnuXm2cPcB1rtTLxE+jYMTZgNNH+7igNwHkPLqqkwQ= not found in database
2020-09-09 18:54:28.978 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":"http://localhost:21907","Endpoint":"Authorize","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****4C4D","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KT4ML68J2:00000001","TimeStamp":"2020-09-09T17:54:28.0000000Z","ProcessId":42420,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 18:54:28.994 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","ClientId":"TaxAdminCode","RedirectUri":"http://localhost:21907","State":null,"Scope":"collectorapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-09 18:54:29.028 +01:00 [DBG] Augmenting SignInContext
2020-09-09 18:54:29.056 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-09-09 18:54:29.523 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-09 18:54:29.556 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-09 18:54:29.558 +01:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-09 18:54:29.565 +01:00 [DBG] Start token request.
2020-09-09 18:54:29.569 +01:00 [DBG] Start client validation
2020-09-09 18:54:29.573 +01:00 [DBG] Start parsing Basic Authentication secret
2020-09-09 18:54:29.575 +01:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2020-09-09 18:54:29.575 +01:00 [DBG] Secret id found: TaxAdminCode
2020-09-09 18:54:30.515 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 18:54:30.516 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 18:54:30.518 +01:00 [DBG] Public Client - skipping secret validation success
2020-09-09 18:54:30.519 +01:00 [DBG] Client validation success
2020-09-09 18:54:30.523 +01:00 [INF] {"ClientId":"TaxAdminCode","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HM2KT4ML68J4:00000001","TimeStamp":"2020-09-09T17:54:30.0000000Z","ProcessId":42420,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2020-09-09 18:54:30.555 +01:00 [DBG] Start token request validation
2020-09-09 18:54:30.558 +01:00 [DBG] Start validation of authorization code token request
2020-09-09 18:54:30.710 +01:00 [DBG] nvnuXm2cPcB1rtTLxE+jYMTZgNNH+7igNwHkPLqqkwQ= found in database: true
2020-09-09 18:54:30.885 +01:00 [DBG] removing nvnuXm2cPcB1rtTLxE+jYMTZgNNH+7igNwHkPLqqkwQ= persisted grant from database
2020-09-09 18:54:31.219 +01:00 [DBG] Validation of authorization code token request success
2020-09-09 18:54:31.230 +01:00 [INF] Token request validation success, {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"4397CF36E754F031C4B58B229212D1F223EFA19E942EC2D5BCF3A31D40844C4D","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"4397CF36E754F031C4B58B229212D1F223EFA19E942EC2D5BCF3A31D40844C4D","redirect_uri":"http://localhost:21907","client_id":"TaxAdminCode"},"$type":"TokenRequestValidationLog"}
2020-09-09 18:54:32.082 +01:00 [DBG] TaxAdminCode found in database: true
2020-09-09 18:54:32.084 +01:00 [DBG] client configuration validation for client TaxAdminCode succeeded.
2020-09-09 18:54:32.137 +01:00 [DBG] Found [] identity scopes in database
2020-09-09 18:54:32.262 +01:00 [DBG] Found ["collectorapi"] API resources in database
2020-09-09 18:54:32.313 +01:00 [DBG] Found ["collectorapi"] scopes in database
2020-09-09 18:54:32.330 +01:00 [DBG] Getting claims for access token for client: TaxAdminCode
2020-09-09 18:54:32.332 +01:00 [DBG] Getting claims for access token for subject: 8aa41560-b391-43ed-835a-2542e99b7cd7
2020-09-09 18:54:38.154 +01:00 [WRN] No type was specified for the decimal column 'nCashLimit' on entity type 'AspNetUsers'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2020-09-09 18:54:40.711 +01:00 [INF] {"ClientId":"TaxAdminCode","ClientName":"Tax Admin Code","RedirectUri":null,"Endpoint":"Token","SubjectId":"8aa41560-b391-43ed-835a-2542e99b7cd7","Scopes":"collectorapi","GrantType":"authorization_code","Tokens":[{"TokenType":"access_token","TokenValue":"****RtLw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HM2KT4ML68J4:00000001","TimeStamp":"2020-09-09T17:54:40.0000000Z","ProcessId":42420,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2020-09-09 18:54:40.715 +01:00 [DBG] Token request success.
2020-10-20 10:54:54.723 +00:00 [INF] Starting host...
2020-10-20 10:54:56.149 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-10-20 10:54:56.165 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-10-20 10:54:56.165 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-10-20 10:54:56.165 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-10-20 10:54:56.165 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-10-20 10:54:56.165 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-10-20 10:54:56.166 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-10-20 10:54:56.366 +00:00 [INF] Now listening on: https://localhost:5001
2020-10-20 10:54:56.367 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-10-20 10:54:56.367 +00:00 [INF] Hosting environment: Development
2020-10-20 10:54:56.367 +00:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-10-20 10:54:58.352 +00:00 [DBG] Login Url: /Account/Login
2020-10-20 10:54:58.354 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-10-20 10:54:58.355 +00:00 [DBG] Logout Url: /Account/Logout
2020-10-20 10:54:58.356 +00:00 [DBG] ConsentUrl Url: /consent
2020-10-20 10:54:58.356 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-10-20 10:54:58.356 +00:00 [DBG] Error Url: /home/error
2020-10-20 10:54:58.356 +00:00 [DBG] Error Id Parameter: errorId
2020-10-20 10:55:01.308 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-10-20 10:58:46.217 +00:00 [INF] Starting host...
2020-10-20 10:58:47.428 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-10-20 10:58:47.442 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-10-20 10:58:47.443 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-10-20 10:58:47.443 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-10-20 10:58:47.443 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-10-20 10:58:47.443 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-10-20 10:58:47.444 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-10-20 10:58:47.646 +00:00 [INF] Now listening on: https://localhost:5001
2020-10-20 10:58:47.646 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-10-20 10:58:47.647 +00:00 [INF] Hosting environment: Development
2020-10-20 10:58:47.647 +00:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-10-20 10:58:49.522 +00:00 [DBG] Login Url: /Account/Login
2020-10-20 10:58:49.525 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-10-20 10:58:49.525 +00:00 [DBG] Logout Url: /Account/Logout
2020-10-20 10:58:49.528 +00:00 [DBG] ConsentUrl Url: /consent
2020-10-20 10:58:49.528 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-10-20 10:58:49.529 +00:00 [DBG] Error Url: /home/error
2020-10-20 10:58:49.529 +00:00 [DBG] Error Id Parameter: errorId
2020-10-20 10:58:53.398 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-10-22 09:53:04.795 +00:00 [INF] Starting host...
2020-10-22 09:53:07.577 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-10-22 09:53:07.592 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-10-22 09:53:07.592 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-10-22 09:53:07.592 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-10-22 09:53:07.593 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-10-22 09:53:07.593 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-10-22 09:53:07.593 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-10-22 09:53:08.295 +00:00 [INF] Now listening on: https://localhost:5001
2020-10-22 09:53:08.296 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-10-22 09:53:08.296 +00:00 [INF] Hosting environment: Development
2020-10-22 09:53:08.297 +00:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-10-22 09:53:14.253 +00:00 [DBG] Login Url: /Account/Login
2020-10-22 09:53:14.255 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-10-22 09:53:14.256 +00:00 [DBG] Logout Url: /Account/Logout
2020-10-22 09:53:14.256 +00:00 [DBG] ConsentUrl Url: /consent
2020-10-22 09:53:14.256 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-10-22 09:53:14.256 +00:00 [DBG] Error Url: /home/error
2020-10-22 09:53:14.257 +00:00 [DBG] Error Id Parameter: errorId
2020-10-22 09:53:39.295 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-10-22 09:54:25.109 +00:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-10-22 10:04:02.172 +00:00 [INF] Starting host...
2020-10-22 10:04:03.275 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-10-22 10:04:03.297 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-10-22 10:04:03.297 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-10-22 10:04:03.298 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-10-22 10:04:03.298 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-10-22 10:04:03.298 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-10-22 10:04:03.298 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-10-22 10:04:03.480 +00:00 [INF] Now listening on: https://localhost:5001
2020-10-22 10:04:03.481 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-10-22 10:04:03.481 +00:00 [INF] Hosting environment: Development
2020-10-22 10:04:03.481 +00:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-10-22 10:04:05.230 +00:00 [DBG] Login Url: /Account/Login
2020-10-22 10:04:05.232 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-10-22 10:04:05.233 +00:00 [DBG] Logout Url: /Account/Logout
2020-10-22 10:04:05.233 +00:00 [DBG] ConsentUrl Url: /consent
2020-10-22 10:04:05.233 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-10-22 10:04:05.234 +00:00 [DBG] Error Url: /home/error
2020-10-22 10:04:05.234 +00:00 [DBG] Error Id Parameter: errorId
2020-10-22 10:04:07.592 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-10-22 10:04:42.375 +00:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-10-22 10:04:44.815 +00:00 [DBG] Augmenting SignInContext
2020-10-22 10:04:44.816 +00:00 [DBG] Adding idp claim with value: local
2020-10-22 10:04:44.818 +00:00 [DBG] Adding auth_time claim with value: 1603361084
2020-10-22 10:04:45.035 +00:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-10-22 10:04:45.051 +00:00 [INF] {"Username":"T0008","Provider":null,"ProviderUserId":null,"SubjectId":"50904736-83fe-4a50-b24b-7877a10be88d","DisplayName":"T0008","Endpoint":"UI","ClientId":null,"Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HM3ME776R3T0:0000002F","TimeStamp":"2020-10-22T10:04:45.0000000Z","ProcessId":36852,"LocalIpAddress":"::1:5001","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2020-11-24 13:32:32.095 +00:00 [INF] Starting host...
2020-11-24 13:32:33.433 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-11-24 13:32:33.448 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-11-24 13:32:33.448 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-11-24 13:32:33.449 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-11-24 13:32:33.449 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-11-24 13:32:33.449 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-11-24 13:32:33.449 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-11-24 13:32:33.658 +00:00 [INF] Now listening on: https://localhost:5001
2020-11-24 13:32:33.659 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-24 13:32:33.659 +00:00 [INF] Hosting environment: Development
2020-11-24 13:32:33.659 +00:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-11-24 13:32:34.783 +00:00 [DBG] Login Url: /Account/Login
2020-11-24 13:32:34.785 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-11-24 13:32:34.786 +00:00 [DBG] Logout Url: /Account/Logout
2020-11-24 13:32:34.786 +00:00 [DBG] ConsentUrl Url: /consent
2020-11-24 13:32:34.786 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-11-24 13:32:34.786 +00:00 [DBG] Error Url: /home/error
2020-11-24 13:32:34.787 +00:00 [DBG] Error Id Parameter: errorId
2020-11-24 13:32:40.305 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-11-24 13:36:59.864 +00:00 [INF] Starting host...
2020-11-24 13:37:00.652 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-11-24 13:37:00.662 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-11-24 13:37:00.670 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-11-24 13:37:00.670 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-11-24 13:37:00.670 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-11-24 13:37:00.671 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-11-24 13:37:00.672 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-11-24 13:37:00.760 +00:00 [INF] Now listening on: https://localhost:5001
2020-11-24 13:37:00.760 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-24 13:37:00.760 +00:00 [INF] Hosting environment: Development
2020-11-24 13:37:00.761 +00:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-11-24 13:37:01.404 +00:00 [DBG] Login Url: /Account/Login
2020-11-24 13:37:01.405 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-11-24 13:37:01.406 +00:00 [DBG] Logout Url: /Account/Logout
2020-11-24 13:37:01.406 +00:00 [DBG] ConsentUrl Url: /consent
2020-11-24 13:37:01.406 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-11-24 13:37:01.407 +00:00 [DBG] Error Url: /home/error
2020-11-24 13:37:01.407 +00:00 [DBG] Error Id Parameter: errorId
2020-11-24 13:37:03.767 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-11-24 13:41:42.215 +00:00 [INF] Starting host...
2020-11-24 13:41:43.369 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-11-24 13:41:43.384 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-11-24 13:41:43.384 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-11-24 13:41:43.384 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-11-24 13:41:43.385 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-11-24 13:41:43.385 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-11-24 13:41:43.385 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-11-24 13:41:43.575 +00:00 [INF] Now listening on: https://localhost:5001
2020-11-24 13:41:43.575 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-24 13:41:43.575 +00:00 [INF] Hosting environment: Development
2020-11-24 13:41:43.576 +00:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-11-24 13:41:45.149 +00:00 [DBG] Login Url: /Account/Login
2020-11-24 13:41:45.151 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-11-24 13:41:45.152 +00:00 [DBG] Logout Url: /Account/Logout
2020-11-24 13:41:45.152 +00:00 [DBG] ConsentUrl Url: /consent
2020-11-24 13:41:45.152 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-11-24 13:41:45.152 +00:00 [DBG] Error Url: /home/error
2020-11-24 13:41:45.153 +00:00 [DBG] Error Id Parameter: errorId
2020-11-24 13:41:50.086 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-11-24 13:42:30.961 +00:00 [INF] Starting host...
2020-11-24 13:42:32.089 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-11-24 13:42:32.102 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-11-24 13:42:32.103 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-11-24 13:42:32.103 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-11-24 13:42:32.103 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-11-24 13:42:32.103 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-11-24 13:42:32.103 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-11-24 13:42:32.317 +00:00 [INF] Now listening on: https://localhost:5001
2020-11-24 13:42:32.317 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-24 13:42:32.317 +00:00 [INF] Hosting environment: Development
2020-11-24 13:42:32.318 +00:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-11-24 13:42:33.838 +00:00 [DBG] Login Url: /Account/Login
2020-11-24 13:42:33.839 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-11-24 13:42:33.840 +00:00 [DBG] Logout Url: /Account/Logout
2020-11-24 13:42:33.841 +00:00 [DBG] ConsentUrl Url: /consent
2020-11-24 13:42:33.841 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-11-24 13:42:33.841 +00:00 [DBG] Error Url: /home/error
2020-11-24 13:42:33.841 +00:00 [DBG] Error Id Parameter: errorId
2020-11-24 13:42:35.610 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-11-24 13:45:41.475 +00:00 [INF] Starting host...
2020-11-24 13:45:42.680 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-11-24 13:45:42.695 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-11-24 13:45:42.695 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-11-24 13:45:42.695 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-11-24 13:45:42.696 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-11-24 13:45:42.696 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-11-24 13:45:42.696 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-11-24 13:45:42.897 +00:00 [FTL] Unable to start Kestrel.
System.IO.IOException: Failed to bind to address https://127.0.0.1:5001: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass21_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
2020-11-24 13:45:43.007 +00:00 [FTL] Host terminated unexpectedly.
System.IO.IOException: Failed to bind to address https://127.0.0.1:5001: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass21_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Admin.IDP.Program.Main(String[] args) in C:\IMPORTANT\AdminService\Admin.IDP\Program.cs:line 63
2020-11-24 13:46:25.999 +00:00 [INF] Starting host...
2020-11-24 13:46:27.183 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-11-24 13:46:27.197 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-11-24 13:46:27.197 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-11-24 13:46:27.197 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-11-24 13:46:27.198 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-11-24 13:46:27.198 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-11-24 13:46:27.198 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-11-24 13:46:27.396 +00:00 [INF] Now listening on: https://localhost:5001
2020-11-24 13:46:27.396 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-24 13:46:27.396 +00:00 [INF] Hosting environment: Development
2020-11-24 13:46:27.396 +00:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-11-24 13:46:28.937 +00:00 [DBG] Login Url: /Account/Login
2020-11-24 13:46:28.939 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-11-24 13:46:28.939 +00:00 [DBG] Logout Url: /Account/Logout
2020-11-24 13:46:28.940 +00:00 [DBG] ConsentUrl Url: /consent
2020-11-24 13:46:28.942 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-11-24 13:46:28.945 +00:00 [DBG] Error Url: /home/error
2020-11-24 13:46:28.945 +00:00 [DBG] Error Id Parameter: errorId
2020-11-24 13:46:33.905 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-11-24 14:03:34.338 +00:00 [INF] Starting host...
2020-11-24 14:03:35.258 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-11-24 14:03:35.271 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-11-24 14:03:35.271 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-11-24 14:03:35.272 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-11-24 14:03:35.272 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-11-24 14:03:35.272 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-11-24 14:03:35.272 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-11-24 14:03:35.374 +00:00 [INF] Now listening on: https://localhost:5001
2020-11-24 14:03:35.374 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-24 14:03:35.375 +00:00 [INF] Hosting environment: Development
2020-11-24 14:03:35.375 +00:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-11-24 14:03:36.841 +00:00 [DBG] Login Url: /Account/Login
2020-11-24 14:03:36.843 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-11-24 14:03:36.844 +00:00 [DBG] Logout Url: /Account/Logout
2020-11-24 14:03:36.845 +00:00 [DBG] ConsentUrl Url: /consent
2020-11-24 14:03:36.845 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-11-24 14:03:36.845 +00:00 [DBG] Error Url: /home/error
2020-11-24 14:03:36.845 +00:00 [DBG] Error Id Parameter: errorId
2020-11-24 14:03:49.494 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-11-24 14:03:51.841 +00:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-11-24 14:03:53.896 +00:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-11-24 14:04:26.446 +00:00 [INF] Application is shutting down...
2020-11-24 14:05:59.075 +00:00 [INF] Starting host...
2020-11-24 14:06:00.235 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-11-24 14:06:00.249 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-11-24 14:06:00.249 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-11-24 14:06:00.249 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-11-24 14:06:00.250 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-11-24 14:06:00.250 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-11-24 14:06:00.250 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-11-24 14:06:00.458 +00:00 [INF] Now listening on: https://localhost:5001
2020-11-24 14:06:00.458 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-24 14:06:00.458 +00:00 [INF] Hosting environment: Development
2020-11-24 14:06:00.459 +00:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-11-24 14:06:02.261 +00:00 [DBG] Login Url: /Account/Login
2020-11-24 14:06:02.263 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-11-24 14:06:02.264 +00:00 [DBG] Logout Url: /Account/Logout
2020-11-24 14:06:02.264 +00:00 [DBG] ConsentUrl Url: /consent
2020-11-24 14:06:02.265 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-11-24 14:06:02.265 +00:00 [DBG] Error Url: /home/error
2020-11-24 14:06:02.265 +00:00 [DBG] Error Id Parameter: errorId
2020-11-24 14:06:04.290 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-11-24 15:29:48.061 +00:00 [INF] Starting host...
2020-11-24 15:29:50.121 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-11-24 15:29:50.137 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-11-24 15:29:50.137 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-11-24 15:29:50.137 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-11-24 15:29:50.138 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-11-24 15:29:50.138 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-11-24 15:29:50.138 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-11-24 15:29:50.829 +00:00 [FTL] Unable to start Kestrel.
System.IO.IOException: Failed to bind to address https://127.0.0.1:5001: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass21_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
2020-11-24 15:29:50.982 +00:00 [FTL] Host terminated unexpectedly.
System.IO.IOException: Failed to bind to address https://127.0.0.1:5001: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass21_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Admin.IDP.Program.Main(String[] args) in C:\IMPORTANT\AdminService\Admin.IDP\Program.cs:line 63
2020-11-24 15:30:34.023 +00:00 [INF] Starting host...
2020-11-24 15:30:35.287 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-11-24 15:30:35.309 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-11-24 15:30:35.309 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-11-24 15:30:35.310 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-11-24 15:30:35.310 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-11-24 15:30:35.310 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-11-24 15:30:35.311 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-11-24 15:30:35.511 +00:00 [FTL] Unable to start Kestrel.
System.IO.IOException: Failed to bind to address https://127.0.0.1:5001: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass21_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
2020-11-24 15:30:35.588 +00:00 [FTL] Host terminated unexpectedly.
System.IO.IOException: Failed to bind to address https://127.0.0.1:5001: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass21_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Admin.IDP.Program.Main(String[] args) in C:\IMPORTANT\AdminService\Admin.IDP\Program.cs:line 63
2020-11-24 15:31:07.081 +00:00 [INF] Starting host...
2020-11-24 15:31:08.259 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-11-24 15:31:08.281 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-11-24 15:31:08.281 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-11-24 15:31:08.282 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-11-24 15:31:08.282 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-11-24 15:31:08.283 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-11-24 15:31:08.284 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-11-24 15:31:08.474 +00:00 [FTL] Unable to start Kestrel.
System.IO.IOException: Failed to bind to address https://127.0.0.1:5001: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass21_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
2020-11-24 15:31:08.546 +00:00 [FTL] Host terminated unexpectedly.
System.IO.IOException: Failed to bind to address https://127.0.0.1:5001: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass21_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Admin.IDP.Program.Main(String[] args) in C:\IMPORTANT\AdminService\Admin.IDP\Program.cs:line 63
2020-11-24 15:33:36.178 +00:00 [INF] Starting host...
2020-11-24 15:33:37.512 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-11-24 15:33:37.528 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-11-24 15:33:37.529 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-11-24 15:33:37.529 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-11-24 15:33:37.529 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-11-24 15:33:37.529 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-11-24 15:33:37.530 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-11-24 15:33:37.731 +00:00 [FTL] Unable to start Kestrel.
System.IO.IOException: Failed to bind to address https://127.0.0.1:5001: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass21_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
2020-11-24 15:33:37.834 +00:00 [FTL] Host terminated unexpectedly.
System.IO.IOException: Failed to bind to address https://127.0.0.1:5001: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass21_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Admin.IDP.Program.Main(String[] args) in C:\IMPORTANT\AdminService\Admin.IDP\Program.cs:line 63
2020-11-24 15:34:28.494 +00:00 [INF] Starting host...
2020-11-24 15:34:29.669 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-11-24 15:34:29.685 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-11-24 15:34:29.685 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-11-24 15:34:29.686 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-11-24 15:34:29.686 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-11-24 15:34:29.686 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-11-24 15:34:29.687 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-11-24 15:34:29.895 +00:00 [INF] Now listening on: https://localhost:5002
2020-11-24 15:34:29.896 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-24 15:34:29.897 +00:00 [INF] Hosting environment: Development
2020-11-24 15:34:29.897 +00:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-11-24 15:34:35.461 +00:00 [DBG] Login Url: /Account/Login
2020-11-24 15:34:35.463 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-11-24 15:34:35.464 +00:00 [DBG] Logout Url: /Account/Logout
2020-11-24 15:34:35.466 +00:00 [DBG] ConsentUrl Url: /consent
2020-11-24 15:34:35.466 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-11-24 15:34:35.466 +00:00 [DBG] Error Url: /home/error
2020-11-24 15:34:35.466 +00:00 [DBG] Error Id Parameter: errorId
2020-11-24 15:34:39.606 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-11-24 15:40:08.965 +00:00 [INF] Starting host...
2020-11-24 15:40:10.120 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-11-24 15:40:10.133 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-11-24 15:40:10.133 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-11-24 15:40:10.133 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-11-24 15:40:10.134 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-11-24 15:40:10.134 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-11-24 15:40:10.134 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-11-24 15:40:10.341 +00:00 [INF] Now listening on: https://localhost:5002
2020-11-24 15:40:10.342 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-24 15:40:10.342 +00:00 [INF] Hosting environment: Development
2020-11-24 15:40:10.342 +00:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-11-24 15:40:11.861 +00:00 [DBG] Login Url: /Account/Login
2020-11-24 15:40:11.864 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-11-24 15:40:11.865 +00:00 [DBG] Logout Url: /Account/Logout
2020-11-24 15:40:11.865 +00:00 [DBG] ConsentUrl Url: /consent
2020-11-24 15:40:11.865 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-11-24 15:40:11.866 +00:00 [DBG] Error Url: /home/error
2020-11-24 15:40:11.866 +00:00 [DBG] Error Id Parameter: errorId
2020-11-24 15:40:14.003 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-11-24 16:52:53.022 +00:00 [INF] Starting host...
2020-11-24 16:52:54.177 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-11-24 16:52:54.190 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-11-24 16:52:54.191 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-11-24 16:52:54.191 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-11-24 16:52:54.192 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-11-24 16:52:54.192 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-11-24 16:52:54.193 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-11-24 16:52:54.399 +00:00 [INF] Now listening on: https://localhost:5002
2020-11-24 16:52:54.400 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-24 16:52:54.400 +00:00 [INF] Hosting environment: Development
2020-11-24 16:52:54.400 +00:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-11-24 16:52:56.511 +00:00 [DBG] Login Url: /Account/Login
2020-11-24 16:52:56.513 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-11-24 16:52:56.516 +00:00 [DBG] Logout Url: /Account/Logout
2020-11-24 16:52:56.520 +00:00 [DBG] ConsentUrl Url: /consent
2020-11-24 16:52:56.520 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-11-24 16:52:56.521 +00:00 [DBG] Error Url: /home/error
2020-11-24 16:52:56.521 +00:00 [DBG] Error Id Parameter: errorId
2020-11-24 16:53:01.723 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-11-24 16:53:37.989 +00:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-11-24 16:53:38.440 +00:00 [WRN] Invalid password for user 905488fd-3765-46c9-814e-4727d37e0b9e.
2020-11-24 16:53:38.443 +00:00 [WRN] User 905488fd-3765-46c9-814e-4727d37e0b9e failed to provide the correct password.
2020-11-24 16:53:38.584 +00:00 [INF] {"Username":"T0004","Endpoint":"UI","ClientId":null,"Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid credentials","ActivityId":"0HM4GJ5HN9NIQ:00000039","TimeStamp":"2020-11-24T16:53:38.0000000Z","ProcessId":53312,"LocalIpAddress":"127.0.0.1:5002","RemoteIpAddress":"127.0.0.1","$type":"UserLoginFailureEvent"}
2020-11-24 16:53:56.010 +00:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-11-24 16:53:56.061 +00:00 [WRN] Invalid password for user 905488fd-3765-46c9-814e-4727d37e0b9e.
2020-11-24 16:53:56.061 +00:00 [WRN] User 905488fd-3765-46c9-814e-4727d37e0b9e failed to provide the correct password.
2020-11-24 16:53:56.072 +00:00 [INF] {"Username":"T0004","Endpoint":"UI","ClientId":null,"Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid credentials","ActivityId":"0HM4GJ5HN9NIQ:00000047","TimeStamp":"2020-11-24T16:53:56.0000000Z","ProcessId":53312,"LocalIpAddress":"127.0.0.1:5002","RemoteIpAddress":"127.0.0.1","$type":"UserLoginFailureEvent"}
2020-11-24 16:54:16.610 +00:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-11-24 16:54:16.667 +00:00 [WRN] Invalid password for user 905488fd-3765-46c9-814e-4727d37e0b9e.
2020-11-24 16:54:16.669 +00:00 [WRN] User 905488fd-3765-46c9-814e-4727d37e0b9e failed to provide the correct password.
2020-11-24 16:54:16.689 +00:00 [INF] {"Username":"T0004","Endpoint":"UI","ClientId":null,"Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid credentials","ActivityId":"0HM4GJ5HN9NIQ:00000055","TimeStamp":"2020-11-24T16:54:16.0000000Z","ProcessId":53312,"LocalIpAddress":"127.0.0.1:5002","RemoteIpAddress":"127.0.0.1","$type":"UserLoginFailureEvent"}
2020-11-24 16:54:26.915 +00:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-11-24 16:55:08.327 +00:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-11-24 16:55:08.493 +00:00 [DBG] Augmenting SignInContext
2020-11-24 16:55:08.494 +00:00 [DBG] Adding idp claim with value: local
2020-11-24 16:55:08.495 +00:00 [DBG] Adding auth_time claim with value: 1606236908
2020-11-24 16:55:08.663 +00:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-11-24 16:55:08.668 +00:00 [INF] {"Username":"T0004","Provider":null,"ProviderUserId":null,"SubjectId":"905488fd-3765-46c9-814e-4727d37e0b9e","DisplayName":"T0004","Endpoint":"UI","ClientId":null,"Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HM4GJ5HN9NIQ:00000081","TimeStamp":"2020-11-24T16:55:08.0000000Z","ProcessId":53312,"LocalIpAddress":"127.0.0.1:5002","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2020-11-24 16:55:24.346 +00:00 [DBG] CORS request made for path: /Account/Logout from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-11-24 16:55:24.393 +00:00 [INF] AuthenticationScheme: Identity.Application signed out.
2020-11-24 16:55:24.395 +00:00 [INF] AuthenticationScheme: Identity.External signed out.
2020-11-24 16:55:24.396 +00:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2020-11-24 16:55:24.397 +00:00 [INF] {"SubjectId":"905488fd-3765-46c9-814e-4727d37e0b9e","DisplayName":"T0004","Category":"Authentication","Name":"User Logout Success","EventType":"Success","Id":1002,"Message":null,"ActivityId":"0HM4GJ5HN9NIQ:0000009F","TimeStamp":"2020-11-24T16:55:24.0000000Z","ProcessId":53312,"LocalIpAddress":"127.0.0.1:5002","RemoteIpAddress":"127.0.0.1","$type":"UserLogoutSuccessEvent"}
2020-11-24 16:55:27.466 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-11-24 16:55:53.350 +00:00 [INF] Starting host...
2020-11-24 16:55:54.489 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-11-24 16:55:54.502 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-11-24 16:55:54.503 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-11-24 16:55:54.503 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-11-24 16:55:54.504 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-11-24 16:55:54.504 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-11-24 16:55:54.504 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-11-24 16:55:54.698 +00:00 [INF] Now listening on: https://localhost:5002
2020-11-24 16:55:54.699 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-24 16:55:54.699 +00:00 [INF] Hosting environment: Development
2020-11-24 16:55:54.699 +00:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-11-24 16:55:56.194 +00:00 [DBG] Login Url: /Account/Login
2020-11-24 16:55:56.196 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-11-24 16:55:56.197 +00:00 [DBG] Logout Url: /Account/Logout
2020-11-24 16:55:56.197 +00:00 [DBG] ConsentUrl Url: /consent
2020-11-24 16:55:56.197 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-11-24 16:55:56.197 +00:00 [DBG] Error Url: /home/error
2020-11-24 16:55:56.198 +00:00 [DBG] Error Id Parameter: errorId
2020-11-24 16:55:58.163 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-11-24 17:01:20.682 +00:00 [INF] Starting host...
2020-11-25 14:07:58.717 +00:00 [INF] Starting host...
2020-11-25 14:07:59.869 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-11-25 14:07:59.882 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-11-25 14:07:59.883 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-11-25 14:07:59.883 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-11-25 14:07:59.883 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-11-25 14:07:59.883 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-11-25 14:07:59.884 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-11-25 14:08:00.090 +00:00 [INF] Now listening on: https://localhost:5002
2020-11-25 14:08:00.100 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-25 14:08:00.100 +00:00 [INF] Hosting environment: Development
2020-11-25 14:08:00.100 +00:00 [INF] Content root path: C:\IMPORTANT\AdminService\Admin.IDP
2020-11-25 14:08:01.456 +00:00 [DBG] Login Url: /Account/Login
2020-11-25 14:08:01.458 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-11-25 14:08:01.459 +00:00 [DBG] Logout Url: /Account/Logout
2020-11-25 14:08:01.460 +00:00 [DBG] ConsentUrl Url: /consent
2020-11-25 14:08:01.460 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-11-25 14:08:01.460 +00:00 [DBG] Error Url: /home/error
2020-11-25 14:08:01.460 +00:00 [DBG] Error Id Parameter: errorId
2020-11-25 14:08:04.129 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-12-09 10:03:20.036 +00:00 [FTL] Host terminated unexpectedly.
Internal.Cryptography.CryptoThrowHelper+WindowsCryptographicException: Access denied.
   at Internal.Cryptography.Pal.CertificatePal.FilterPFXStore(Byte[] rawData, SafePasswordHandle password, PfxCertStoreFlags pfxCertStoreFlags)
   at Internal.Cryptography.Pal.CertificatePal.FromBlobOrFile(Byte[] rawData, String fileName, SafePasswordHandle password, X509KeyStorageFlags keyStorageFlags)
   at System.Security.Cryptography.X509Certificates.X509Certificate..ctor(String fileName, String password, X509KeyStorageFlags keyStorageFlags)
   at System.Security.Cryptography.X509Certificates.X509Certificate2..ctor(String fileName, String password)
   at Admin.IDP.Startup.ConfigureServices(IServiceCollection services) in C:\Users\Ybadmus\source\repos\IDP TaxCollector\Admin.IDP (2)\Admin.IDP\Startup.cs:line 95
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.AspNetCore.Hosting.ConfigureServicesBuilder.InvokeCore(Object instance, IServiceCollection services)
   at Microsoft.AspNetCore.Hosting.ConfigureServicesBuilder.<>c__DisplayClass9_0.<Invoke>g__Startup|0(IServiceCollection serviceCollection)
   at Microsoft.AspNetCore.Hosting.ConfigureServicesBuilder.Invoke(Object instance, IServiceCollection services)
   at Microsoft.AspNetCore.Hosting.ConfigureServicesBuilder.<>c__DisplayClass8_0.<Build>b__0(IServiceCollection services)
   at Microsoft.AspNetCore.Hosting.GenericWebHostBuilder.UseStartup(Type startupType, HostBuilderContext context, IServiceCollection services)
   at Microsoft.AspNetCore.Hosting.GenericWebHostBuilder.<>c__DisplayClass12_0.<UseStartup>b__0(HostBuilderContext context, IServiceCollection services)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at Admin.IDP.Program.Main(String[] args) in C:\Users\Ybadmus\source\repos\IDP TaxCollector\Admin.IDP (2)\Admin.IDP\Program.cs:line 50
2020-12-09 10:04:50.218 +00:00 [INF] Starting host...
2020-12-09 10:04:52.270 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-12-09 10:04:52.293 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-12-09 10:04:52.293 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-12-09 10:04:52.294 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-12-09 10:04:52.294 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-12-09 10:04:52.294 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-12-09 10:04:52.294 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-12-09 10:04:53.404 +00:00 [INF] Now listening on: https://localhost:5002
2020-12-09 10:04:53.405 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-09 10:04:53.405 +00:00 [INF] Hosting environment: Development
2020-12-09 10:04:53.406 +00:00 [INF] Content root path: C:\Users\Ybadmus\source\repos\IDP TaxCollector\Admin.IDP (2)\Admin.IDP
2020-12-09 10:04:54.334 +00:00 [DBG] Login Url: /Account/Login
2020-12-09 10:04:54.337 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-12-09 10:04:54.338 +00:00 [DBG] Logout Url: /Account/Logout
2020-12-09 10:04:54.339 +00:00 [DBG] ConsentUrl Url: /consent
2020-12-09 10:04:54.339 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-12-09 10:04:54.339 +00:00 [DBG] Error Url: /home/error
2020-12-09 10:04:54.340 +00:00 [DBG] Error Id Parameter: errorId
2020-12-09 10:05:41.585 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-12-09 10:05:52.076 +00:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-12-09 10:05:52.422 +00:00 [INF] {"Username":"sdfsd","Endpoint":"UI","ClientId":null,"Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid credentials","ActivityId":"0HM4S57FV6QMD:0000002D","TimeStamp":"2020-12-09T10:05:52.0000000Z","ProcessId":19492,"LocalIpAddress":"::1:5002","RemoteIpAddress":"::1","$type":"UserLoginFailureEvent"}
2020-12-09 10:08:57.333 +00:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-12-09 10:08:57.354 +00:00 [INF] {"Username":"sdfsd","Endpoint":"UI","ClientId":null,"Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid credentials","ActivityId":"0HM4S57FV6QMD:00000041","TimeStamp":"2020-12-09T10:08:57.0000000Z","ProcessId":19492,"LocalIpAddress":"::1:5002","RemoteIpAddress":"::1","$type":"UserLoginFailureEvent"}
2020-12-09 10:09:27.690 +00:00 [INF] Starting host...
2020-12-09 10:09:28.685 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-12-09 10:09:28.699 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-12-09 10:09:28.699 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-12-09 10:09:28.699 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-12-09 10:09:28.699 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-12-09 10:09:28.699 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-12-09 10:09:28.700 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-12-09 10:09:29.102 +00:00 [INF] Now listening on: https://localhost:5002
2020-12-09 10:09:29.102 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-09 10:09:29.102 +00:00 [INF] Hosting environment: Development
2020-12-09 10:09:29.103 +00:00 [INF] Content root path: C:\Users\Ybadmus\source\repos\IDP TaxCollector\Admin.IDP (2)\Admin.IDP
2020-12-09 10:10:36.071 +00:00 [INF] Starting host...
2020-12-09 10:10:37.065 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-12-09 10:10:37.077 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-12-09 10:10:37.077 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-12-09 10:10:37.078 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-12-09 10:10:37.078 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-12-09 10:10:37.078 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-12-09 10:10:37.078 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-12-09 10:10:37.466 +00:00 [INF] Now listening on: https://localhost:5002
2020-12-09 10:10:37.467 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-09 10:10:37.467 +00:00 [INF] Hosting environment: Development
2020-12-09 10:10:37.467 +00:00 [INF] Content root path: C:\Users\Ybadmus\source\repos\IDP TaxCollector\Admin.IDP (2)\Admin.IDP
2020-12-09 10:10:42.045 +00:00 [DBG] Login Url: /Account/Login
2020-12-09 10:10:42.047 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-12-09 10:10:42.047 +00:00 [DBG] Logout Url: /Account/Logout
2020-12-09 10:10:42.047 +00:00 [DBG] ConsentUrl Url: /consent
2020-12-09 10:10:42.048 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-12-09 10:10:42.048 +00:00 [DBG] Error Url: /home/error
2020-12-09 10:10:42.048 +00:00 [DBG] Error Id Parameter: errorId
2020-12-09 10:10:43.835 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-12-09 10:10:58.620 +00:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-12-09 10:10:58.914 +00:00 [WRN] Invalid password for user 660a1bff-12c3-47ab-b08b-3d87949306bb.
2020-12-09 10:10:58.915 +00:00 [WRN] User 660a1bff-12c3-47ab-b08b-3d87949306bb failed to provide the correct password.
2020-12-09 10:10:59.059 +00:00 [INF] {"Username":"T0003","Endpoint":"UI","ClientId":null,"Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid credentials","ActivityId":"0HM4S5AMD9KNF:00000039","TimeStamp":"2020-12-09T10:10:59.0000000Z","ProcessId":19148,"LocalIpAddress":"127.0.0.1:5002","RemoteIpAddress":"127.0.0.1","$type":"UserLoginFailureEvent"}
2020-12-09 10:11:15.909 +00:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-12-09 10:11:16.031 +00:00 [DBG] Augmenting SignInContext
2020-12-09 10:11:16.032 +00:00 [DBG] Adding idp claim with value: local
2020-12-09 10:11:16.032 +00:00 [DBG] Adding auth_time claim with value: 1607508676
2020-12-09 10:11:16.043 +00:00 [INF] AuthenticationScheme: Identity.Application signed in.
2020-12-09 10:11:16.047 +00:00 [INF] {"Username":"T0004","Provider":null,"ProviderUserId":null,"SubjectId":"905488fd-3765-46c9-814e-4727d37e0b9e","DisplayName":"T0004","Endpoint":"UI","ClientId":null,"Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HM4S5AMD9KNF:00000049","TimeStamp":"2020-12-09T10:11:16.0000000Z","ProcessId":19148,"LocalIpAddress":"127.0.0.1:5002","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2020-12-09 10:11:23.431 +00:00 [DBG] CORS request made for path: /Account/Logout from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-12-09 10:11:23.448 +00:00 [INF] AuthenticationScheme: Identity.Application signed out.
2020-12-09 10:11:23.449 +00:00 [INF] AuthenticationScheme: Identity.External signed out.
2020-12-09 10:11:23.449 +00:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2020-12-09 10:11:23.450 +00:00 [INF] {"SubjectId":"905488fd-3765-46c9-814e-4727d37e0b9e","DisplayName":"T0004","Category":"Authentication","Name":"User Logout Success","EventType":"Success","Id":1002,"Message":null,"ActivityId":"0HM4S5AMD9KNF:0000004F","TimeStamp":"2020-12-09T10:11:23.0000000Z","ProcessId":19148,"LocalIpAddress":"127.0.0.1:5002","RemoteIpAddress":"127.0.0.1","$type":"UserLogoutSuccessEvent"}
2020-12-09 10:11:26.380 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-12-09 10:11:28.457 +00:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-12-09 12:04:31.094 +00:00 [INF] Starting host...
2020-12-09 12:04:32.888 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-12-09 12:04:32.916 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-12-09 12:04:32.917 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-12-09 12:04:32.917 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-12-09 12:04:32.917 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-12-09 12:04:32.917 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-12-09 12:04:32.918 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-12-09 12:04:33.636 +00:00 [INF] Now listening on: https://localhost:5002
2020-12-09 12:04:33.636 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-09 12:04:33.637 +00:00 [INF] Hosting environment: Development
2020-12-09 12:04:33.637 +00:00 [INF] Content root path: C:\Users\Ybadmus\source\repos\IDP TaxCollector\Admin.IDP (2)\Admin.IDP
2020-12-09 12:04:34.796 +00:00 [DBG] Login Url: /Account/Login
2020-12-09 12:04:34.798 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-12-09 12:04:34.799 +00:00 [DBG] Logout Url: /Account/Logout
2020-12-09 12:04:34.799 +00:00 [DBG] ConsentUrl Url: /consent
2020-12-09 12:04:34.800 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-12-09 12:04:34.800 +00:00 [DBG] Error Url: /home/error
2020-12-09 12:04:34.800 +00:00 [DBG] Error Id Parameter: errorId
2020-12-09 12:04:37.754 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-12-09 12:18:36.802 +00:00 [INF] Starting host...
2020-12-09 12:18:37.878 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-12-09 12:18:37.890 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-12-09 12:18:37.891 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-12-09 12:18:37.891 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-12-09 12:18:37.891 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-12-09 12:18:37.891 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-12-09 12:18:37.892 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-12-09 12:18:38.315 +00:00 [INF] Now listening on: https://localhost:5002
2020-12-09 12:18:38.315 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-09 12:18:38.316 +00:00 [INF] Hosting environment: Development
2020-12-09 12:18:38.316 +00:00 [INF] Content root path: C:\Users\Ybadmus\source\repos\IDP TaxCollector\Admin.IDP (2)\Admin.IDP
2020-12-09 12:18:38.894 +00:00 [DBG] Login Url: /Account/Login
2020-12-09 12:18:38.895 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-12-09 12:18:38.896 +00:00 [DBG] Logout Url: /Account/Logout
2020-12-09 12:18:38.897 +00:00 [DBG] ConsentUrl Url: /consent
2020-12-09 12:18:38.897 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-12-09 12:18:38.897 +00:00 [DBG] Error Url: /home/error
2020-12-09 12:18:38.897 +00:00 [DBG] Error Id Parameter: errorId
2020-12-09 12:18:42.998 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-12-09 13:52:51.713 +00:00 [INF] Starting host...
2020-12-09 13:52:52.733 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-12-09 13:52:52.745 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-12-09 13:52:52.745 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-12-09 13:52:52.745 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-12-09 13:52:52.745 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-12-09 13:52:52.746 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-12-09 13:52:52.746 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-12-09 13:52:53.118 +00:00 [INF] Now listening on: https://localhost:5002
2020-12-09 13:52:53.118 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-09 13:52:53.118 +00:00 [INF] Hosting environment: Development
2020-12-09 13:52:53.119 +00:00 [INF] Content root path: C:\Users\Ybadmus\source\repos\IDP TaxCollector\Admin.IDP (2)\Admin.IDP
2020-12-09 13:52:54.048 +00:00 [DBG] Login Url: /Account/Login
2020-12-09 13:52:54.050 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-12-09 13:52:54.051 +00:00 [DBG] Logout Url: /Account/Logout
2020-12-09 13:52:54.051 +00:00 [DBG] ConsentUrl Url: /consent
2020-12-09 13:52:54.051 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-12-09 13:52:54.052 +00:00 [DBG] Error Url: /home/error
2020-12-09 13:52:54.052 +00:00 [DBG] Error Id Parameter: errorId
2020-12-09 13:53:10.394 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-12-09 14:52:52.115 +00:00 [INF] Removing 0 grants
2020-12-09 14:52:52.125 +00:00 [INF] Removing 0 device flow codes
2020-12-10 09:17:55.166 +00:00 [INF] Starting host...
2020-12-10 09:17:58.539 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-12-10 09:17:58.587 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-12-10 09:17:58.588 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-12-10 09:17:58.588 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-12-10 09:17:58.588 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-12-10 09:17:58.589 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-12-10 09:17:58.589 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-12-10 09:17:59.739 +00:00 [INF] Now listening on: https://localhost:5002
2020-12-10 09:17:59.740 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-10 09:17:59.741 +00:00 [INF] Hosting environment: Development
2020-12-10 09:17:59.741 +00:00 [INF] Content root path: C:\Users\Ybadmus\source\repos\IDP TaxCollector\Admin.IDP (2)\Admin.IDP
2020-12-10 09:18:05.965 +00:00 [DBG] Login Url: /Account/Login
2020-12-10 09:18:05.966 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-12-10 09:18:05.967 +00:00 [DBG] Logout Url: /Account/Logout
2020-12-10 09:18:05.967 +00:00 [DBG] ConsentUrl Url: /consent
2020-12-10 09:18:05.968 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-12-10 09:18:05.968 +00:00 [DBG] Error Url: /home/error
2020-12-10 09:18:05.968 +00:00 [DBG] Error Id Parameter: errorId
2020-12-10 09:18:37.160 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-12-10 09:18:48.477 +00:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-12-10 09:18:48.914 +00:00 [WRN] Invalid password for user 905488fd-3765-46c9-814e-4727d37e0b9e.
2020-12-10 09:18:48.915 +00:00 [WRN] User 905488fd-3765-46c9-814e-4727d37e0b9e failed to provide the correct password.
2020-12-10 09:18:49.053 +00:00 [INF] {"Username":"T0004","Endpoint":"UI","ClientId":null,"Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid credentials","ActivityId":"0HM4STHUKJF37:0000003B","TimeStamp":"2020-12-10T09:18:49.0000000Z","ProcessId":5256,"LocalIpAddress":"127.0.0.1:5002","RemoteIpAddress":"127.0.0.1","$type":"UserLoginFailureEvent"}
2020-12-10 09:19:03.145 +00:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-12-10 09:19:03.167 +00:00 [WRN] Invalid password for user 905488fd-3765-46c9-814e-4727d37e0b9e.
2020-12-10 09:19:03.167 +00:00 [WRN] User 905488fd-3765-46c9-814e-4727d37e0b9e failed to provide the correct password.
2020-12-10 09:19:03.173 +00:00 [INF] {"Username":"T0004","Endpoint":"UI","ClientId":null,"Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid credentials","ActivityId":"0HM4STHUKJF37:00000049","TimeStamp":"2020-12-10T09:19:03.0000000Z","ProcessId":5256,"LocalIpAddress":"127.0.0.1:5002","RemoteIpAddress":"127.0.0.1","$type":"UserLoginFailureEvent"}
2020-12-10 09:19:30.618 +00:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-12-10 09:19:30.624 +00:00 [INF] {"Username":"C0003","Endpoint":"UI","ClientId":null,"Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid credentials","ActivityId":"0HM4STHUKJF37:00000057","TimeStamp":"2020-12-10T09:19:30.0000000Z","ProcessId":5256,"LocalIpAddress":"127.0.0.1:5002","RemoteIpAddress":"127.0.0.1","$type":"UserLoginFailureEvent"}
2020-12-10 09:23:28.445 +00:00 [INF] Starting host...
2020-12-10 09:23:29.526 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-12-10 09:23:29.554 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-12-10 09:23:29.555 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-12-10 09:23:29.555 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-12-10 09:23:29.555 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-12-10 09:23:29.555 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-12-10 09:23:29.555 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-12-10 09:23:29.920 +00:00 [INF] Now listening on: https://localhost:5002
2020-12-10 09:23:29.920 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-10 09:23:29.920 +00:00 [INF] Hosting environment: Development
2020-12-10 09:23:29.921 +00:00 [INF] Content root path: C:\Users\Ybadmus\source\repos\IDP TaxCollector\Admin.IDP (2)\Admin.IDP
2020-12-10 09:23:31.849 +00:00 [DBG] Login Url: /Account/Login
2020-12-10 09:23:31.851 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-12-10 09:23:31.852 +00:00 [DBG] Logout Url: /Account/Logout
2020-12-10 09:23:31.852 +00:00 [DBG] ConsentUrl Url: /consent
2020-12-10 09:23:31.852 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-12-10 09:23:31.852 +00:00 [DBG] Error Url: /home/error
2020-12-10 09:23:31.853 +00:00 [DBG] Error Id Parameter: errorId
2020-12-10 09:23:34.190 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-12-11 15:17:30.713 +00:00 [INF] Starting host...
2020-12-11 15:29:58.721 +00:00 [INF] Starting host...
2020-12-11 15:30:03.429 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-12-11 15:30:03.565 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-12-11 15:30:03.566 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-12-11 15:30:03.567 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-12-11 15:30:03.567 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-12-11 15:30:03.568 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-12-11 15:30:03.568 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-12-11 15:30:07.910 +00:00 [INF] Now listening on: https://localhost:5002
2020-12-11 15:30:07.911 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-11 15:30:07.919 +00:00 [INF] Hosting environment: Development
2020-12-11 15:30:07.923 +00:00 [INF] Content root path: C:\Users\Yusif\source\repos\Admin.IDP
2020-12-11 15:30:14.867 +00:00 [DBG] Login Url: /Account/Login
2020-12-11 15:30:14.869 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-12-11 15:30:14.871 +00:00 [DBG] Logout Url: /Account/Logout
2020-12-11 15:30:14.872 +00:00 [DBG] ConsentUrl Url: /consent
2020-12-11 15:30:14.872 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-12-11 15:30:14.873 +00:00 [DBG] Error Url: /home/error
2020-12-11 15:30:14.873 +00:00 [DBG] Error Id Parameter: errorId
2020-12-11 15:30:29.710 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-12-11 15:55:24.563 +00:00 [INF] Starting host...
2020-12-11 15:55:35.296 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-12-11 15:55:35.328 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-12-11 15:55:35.329 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-12-11 15:55:35.329 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-12-11 15:55:35.330 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-12-11 15:55:35.330 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-12-11 15:55:35.330 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-12-11 15:55:36.257 +00:00 [INF] Now listening on: https://localhost:5002
2020-12-11 15:55:36.257 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-11 15:55:36.258 +00:00 [INF] Hosting environment: Development
2020-12-11 15:55:36.259 +00:00 [INF] Content root path: C:\Users\Yusif\source\repos\Admin.IDP
2020-12-11 15:55:39.449 +00:00 [DBG] Login Url: /Account/Login
2020-12-11 15:55:39.461 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-12-11 15:55:39.465 +00:00 [DBG] Logout Url: /Account/Logout
2020-12-11 15:55:39.466 +00:00 [DBG] ConsentUrl Url: /consent
2020-12-11 15:55:39.470 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-12-11 15:55:39.474 +00:00 [DBG] Error Url: /home/error
2020-12-11 15:55:39.475 +00:00 [DBG] Error Id Parameter: errorId
2020-12-11 15:55:47.039 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-12-11 15:56:27.142 +00:00 [INF] Starting host...
2020-12-11 15:56:31.906 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-12-11 15:56:31.929 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-12-11 15:56:31.929 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-12-11 15:56:31.930 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-12-11 15:56:31.930 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-12-11 15:56:31.931 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-12-11 15:56:31.931 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-12-11 15:56:32.611 +00:00 [INF] Now listening on: https://localhost:5002
2020-12-11 15:56:32.615 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-11 15:56:32.616 +00:00 [INF] Hosting environment: Development
2020-12-11 15:56:32.616 +00:00 [INF] Content root path: C:\Users\Yusif\source\repos\Admin.IDP
2020-12-11 15:56:34.291 +00:00 [DBG] Login Url: /Account/Login
2020-12-11 15:56:34.295 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-12-11 15:56:34.295 +00:00 [DBG] Logout Url: /Account/Logout
2020-12-11 15:56:34.295 +00:00 [DBG] ConsentUrl Url: /consent
2020-12-11 15:56:34.296 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-12-11 15:56:34.296 +00:00 [DBG] Error Url: /home/error
2020-12-11 15:56:34.296 +00:00 [DBG] Error Id Parameter: errorId
2020-12-11 15:56:36.731 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-12-11 16:04:41.034 +00:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-12-11 16:08:39.335 +00:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-12-11 16:11:11.079 +00:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-12-11 16:11:56.512 +00:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-12-11 16:53:05.732 +00:00 [INF] Starting host...
2020-12-11 16:53:11.194 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-12-11 16:53:11.258 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-12-11 16:53:11.259 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-12-11 16:53:11.260 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-12-11 16:53:11.260 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-12-11 16:53:11.261 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-12-11 16:53:11.261 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-12-11 16:53:13.570 +00:00 [INF] Now listening on: https://localhost:5002
2020-12-11 16:53:13.571 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-11 16:53:13.572 +00:00 [INF] Hosting environment: Development
2020-12-11 16:53:13.573 +00:00 [INF] Content root path: C:\Users\Yusif\source\repos\Admin.IDP
2020-12-11 16:53:16.718 +00:00 [DBG] Login Url: /Account/Login
2020-12-11 16:53:16.721 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-12-11 16:53:16.722 +00:00 [DBG] Logout Url: /Account/Logout
2020-12-11 16:53:16.722 +00:00 [DBG] ConsentUrl Url: /consent
2020-12-11 16:53:16.723 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-12-11 16:53:16.723 +00:00 [DBG] Error Url: /home/error
2020-12-11 16:53:16.724 +00:00 [DBG] Error Id Parameter: errorId
2020-12-11 16:54:24.582 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-12-11 17:37:06.797 +00:00 [INF] Starting host...
2020-12-11 17:37:14.832 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-12-11 17:37:14.895 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-12-11 17:37:14.895 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-12-11 17:37:14.896 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-12-11 17:37:14.896 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-12-11 17:37:14.897 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-12-11 17:37:14.897 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-12-11 17:37:18.488 +00:00 [INF] Now listening on: https://localhost:5002
2020-12-11 17:37:18.489 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-11 17:37:18.490 +00:00 [INF] Hosting environment: Development
2020-12-11 17:37:18.491 +00:00 [INF] Content root path: C:\Users\Yusif\source\repos\Admin.IDP
2020-12-11 17:37:26.256 +00:00 [DBG] Login Url: /Account/Login
2020-12-11 17:37:26.266 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-12-11 17:37:26.266 +00:00 [DBG] Logout Url: /Account/Logout
2020-12-11 17:37:26.267 +00:00 [DBG] ConsentUrl Url: /consent
2020-12-11 17:37:26.268 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-12-11 17:37:26.268 +00:00 [DBG] Error Url: /home/error
2020-12-11 17:37:26.269 +00:00 [DBG] Error Id Parameter: errorId
2020-12-11 17:37:29.754 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-12-11 18:37:11.606 +00:00 [INF] Removing 0 grants
2020-12-11 18:37:11.988 +00:00 [INF] Removing 0 device flow codes
2020-12-11 19:35:26.648 +00:00 [INF] Starting host...
2020-12-11 19:35:31.783 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-12-11 19:35:31.847 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-12-11 19:35:31.848 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-12-11 19:35:31.848 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-12-11 19:35:31.849 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-12-11 19:35:31.849 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-12-11 19:35:31.849 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-12-11 19:35:33.826 +00:00 [INF] Now listening on: https://localhost:5002
2020-12-11 19:35:33.827 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-11 19:35:33.827 +00:00 [INF] Hosting environment: Development
2020-12-11 19:35:33.828 +00:00 [INF] Content root path: C:\Users\Yusif\source\repos\Admin.IDP
2020-12-11 19:35:39.734 +00:00 [DBG] Login Url: /Account/Login
2020-12-11 19:35:39.736 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-12-11 19:35:39.738 +00:00 [DBG] Logout Url: /Account/Logout
2020-12-11 19:35:39.738 +00:00 [DBG] ConsentUrl Url: /consent
2020-12-11 19:35:39.739 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-12-11 19:35:39.740 +00:00 [DBG] Error Url: /home/error
2020-12-11 19:35:39.741 +00:00 [DBG] Error Id Parameter: errorId
2020-12-11 19:35:46.170 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-12-11 19:55:20.573 +00:00 [INF] Starting host...
2020-12-11 19:55:28.997 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-12-11 19:55:29.065 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-12-11 19:55:29.070 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-12-11 19:55:29.071 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-12-11 19:55:29.072 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-12-11 19:55:29.072 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-12-11 19:55:29.073 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-12-11 19:55:31.236 +00:00 [INF] Now listening on: https://localhost:5002
2020-12-11 19:55:31.240 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-11 19:55:31.245 +00:00 [INF] Hosting environment: Development
2020-12-11 19:55:31.254 +00:00 [INF] Content root path: C:\Users\Yusif\source\repos\Admin.IDP
2020-12-11 19:55:35.344 +00:00 [DBG] Login Url: /Account/Login
2020-12-11 19:55:35.348 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-12-11 19:55:35.351 +00:00 [DBG] Logout Url: /Account/Logout
2020-12-11 19:55:35.352 +00:00 [DBG] ConsentUrl Url: /consent
2020-12-11 19:55:35.353 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-12-11 19:55:35.354 +00:00 [DBG] Error Url: /home/error
2020-12-11 19:55:35.355 +00:00 [DBG] Error Id Parameter: errorId
2020-12-11 19:55:38.215 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-12-11 20:01:20.076 +00:00 [INF] Starting host...
2020-12-11 20:03:06.882 +00:00 [INF] Starting host...
2020-12-11 20:03:11.104 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-12-11 20:03:11.134 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-12-11 20:03:11.136 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-12-11 20:03:11.137 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-12-11 20:03:11.139 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-12-11 20:03:11.140 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-12-11 20:03:11.140 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-12-11 20:03:12.818 +00:00 [INF] Now listening on: https://localhost:5002
2020-12-11 20:03:12.819 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-11 20:03:12.820 +00:00 [INF] Hosting environment: Development
2020-12-11 20:03:12.821 +00:00 [INF] Content root path: C:\Users\Yusif\source\repos\Admin.IDP
2020-12-11 20:03:17.726 +00:00 [DBG] Login Url: /Account/Login
2020-12-11 20:03:17.733 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-12-11 20:03:17.737 +00:00 [DBG] Logout Url: /Account/Logout
2020-12-11 20:03:17.738 +00:00 [DBG] ConsentUrl Url: /consent
2020-12-11 20:03:17.739 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-12-11 20:03:17.740 +00:00 [DBG] Error Url: /home/error
2020-12-11 20:03:17.741 +00:00 [DBG] Error Id Parameter: errorId
2020-12-11 20:03:21.840 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-12-11 20:28:22.207 +00:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-12-11 20:28:31.399 +00:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-12-11 20:28:42.836 +00:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-12-11 20:28:49.728 +00:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-12-11 20:28:52.203 +00:00 [INF] {"Username":"C0003","Endpoint":"UI","ClientId":null,"Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid credentials","ActivityId":"0HM4U1V591C7R:0000005D","TimeStamp":"2020-12-11T20:28:52.0000000Z","ProcessId":18044,"LocalIpAddress":"::1:5002","RemoteIpAddress":"::1","$type":"UserLoginFailureEvent"}
2020-12-14 10:42:39.832 +00:00 [INF] Starting host...
2020-12-14 10:42:44.440 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-12-14 10:42:44.507 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-12-14 10:42:44.512 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-12-14 10:42:44.513 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-12-14 10:42:44.514 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-12-14 10:42:44.515 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-12-14 10:42:44.515 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-12-14 10:42:47.153 +00:00 [INF] Now listening on: https://localhost:5002
2020-12-14 10:42:47.154 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-14 10:42:47.155 +00:00 [INF] Hosting environment: Development
2020-12-14 10:42:47.157 +00:00 [INF] Content root path: C:\Users\Yusif\source\repos\Admin.IDP
2020-12-14 10:43:04.491 +00:00 [DBG] Login Url: /Account/Login
2020-12-14 10:43:04.498 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-12-14 10:43:04.506 +00:00 [DBG] Logout Url: /Account/Logout
2020-12-14 10:43:04.507 +00:00 [DBG] ConsentUrl Url: /consent
2020-12-14 10:43:04.512 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-12-14 10:43:04.531 +00:00 [DBG] Error Url: /home/error
2020-12-14 10:43:04.537 +00:00 [DBG] Error Id Parameter: errorId
2020-12-14 10:43:23.517 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2020-12-14 12:56:24.826 +00:00 [INF] Starting host...
2020-12-14 12:56:26.988 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2020-12-14 12:56:27.010 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2020-12-14 12:56:27.010 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2020-12-14 12:56:27.011 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2020-12-14 12:56:27.011 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2020-12-14 12:56:27.011 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2020-12-14 12:56:27.012 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2020-12-14 12:56:27.978 +00:00 [INF] Now listening on: https://localhost:5002
2020-12-14 12:56:27.979 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-14 12:56:27.980 +00:00 [INF] Hosting environment: Development
2020-12-14 12:56:27.980 +00:00 [INF] Content root path: C:\Users\Yusif\source\repos\Admin.IDP
2020-12-14 12:56:30.213 +00:00 [DBG] Login Url: /Account/Login
2020-12-14 12:56:30.215 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-12-14 12:56:30.218 +00:00 [DBG] Logout Url: /Account/Logout
2020-12-14 12:56:30.219 +00:00 [DBG] ConsentUrl Url: /consent
2020-12-14 12:56:30.220 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2020-12-14 12:56:30.220 +00:00 [DBG] Error Url: /home/error
2020-12-14 12:56:30.221 +00:00 [DBG] Error Id Parameter: errorId
2020-12-14 12:56:34.214 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2021-01-13 11:41:40.045 +00:00 [INF] Starting host...
2021-01-13 11:41:44.473 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2021-01-13 11:41:44.502 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-01-13 11:41:44.503 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-01-13 11:41:44.503 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-01-13 11:41:44.503 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-01-13 11:41:44.504 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-01-13 11:41:44.504 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-01-13 11:41:46.900 +00:00 [INF] Now listening on: https://localhost:5002
2021-01-13 11:41:46.901 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-13 11:41:46.901 +00:00 [INF] Hosting environment: Development
2021-01-13 11:41:46.901 +00:00 [INF] Content root path: C:\IMPORTANT\Admin.IDP
2021-01-13 11:43:32.366 +00:00 [DBG] Login Url: /Account/Login
2021-01-13 11:43:32.368 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-01-13 11:43:32.370 +00:00 [DBG] Logout Url: /Account/Logout
2021-01-13 11:43:32.370 +00:00 [DBG] ConsentUrl Url: /consent
2021-01-13 11:43:32.370 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2021-01-13 11:43:32.371 +00:00 [DBG] Error Url: /home/error
2021-01-13 11:43:32.371 +00:00 [DBG] Error Id Parameter: errorId
2021-01-13 11:43:32.426 +00:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Extensions.Options.OptionsValidationException: Cookie.Expiration is ignored, use ExpireTimeSpan instead.
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c__DisplayClass11_0.<Get>b__0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd(String name, Func`1 createOptions)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at IdentityServer4.Hosting.FederatedSignOut.FederatedSignoutAuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-13 11:44:18.788 +00:00 [INF] Application is shutting down...
2021-01-13 11:58:45.727 +00:00 [INF] Starting host...
2021-01-13 11:58:51.648 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2021-01-13 11:58:51.665 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-01-13 11:58:51.666 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-01-13 11:58:51.666 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-01-13 11:58:51.666 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-01-13 11:58:51.667 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-01-13 11:58:51.667 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-01-13 11:58:53.802 +00:00 [INF] Now listening on: https://localhost:5002
2021-01-13 11:58:53.803 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-13 11:58:53.803 +00:00 [INF] Hosting environment: Development
2021-01-13 11:58:53.803 +00:00 [INF] Content root path: C:\IMPORTANT\Admin.IDP
2021-01-13 11:58:58.567 +00:00 [DBG] Login Url: /Account/Login
2021-01-13 11:58:58.572 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-01-13 11:58:58.573 +00:00 [DBG] Logout Url: /Account/Logout
2021-01-13 11:58:58.574 +00:00 [DBG] ConsentUrl Url: /consent
2021-01-13 11:58:58.575 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2021-01-13 11:58:58.575 +00:00 [DBG] Error Url: /home/error
2021-01-13 11:58:58.576 +00:00 [DBG] Error Id Parameter: errorId
2021-01-13 11:58:58.691 +00:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Extensions.Options.OptionsValidationException: Cookie.Expiration is ignored, use ExpireTimeSpan instead.
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c__DisplayClass11_0.<Get>b__0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd(String name, Func`1 createOptions)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at IdentityServer4.Hosting.FederatedSignOut.FederatedSignoutAuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-13 12:12:49.643 +00:00 [INF] Starting host...
2021-01-13 12:13:00.228 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2021-01-13 12:13:00.289 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-01-13 12:13:00.290 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-01-13 12:13:00.290 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-01-13 12:13:00.290 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-01-13 12:13:00.290 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-01-13 12:13:00.291 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-01-13 12:13:19.949 +00:00 [INF] Now listening on: https://localhost:5002
2021-01-13 12:13:19.950 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-13 12:13:19.951 +00:00 [INF] Hosting environment: Development
2021-01-13 12:13:19.951 +00:00 [INF] Content root path: C:\IMPORTANT\Admin.IDP
2021-01-13 12:13:36.848 +00:00 [DBG] Login Url: /Account/Login
2021-01-13 12:13:36.853 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-01-13 12:13:36.855 +00:00 [DBG] Logout Url: /Account/Logout
2021-01-13 12:13:36.861 +00:00 [DBG] ConsentUrl Url: /consent
2021-01-13 12:13:36.861 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2021-01-13 12:13:36.861 +00:00 [DBG] Error Url: /home/error
2021-01-13 12:13:36.862 +00:00 [DBG] Error Id Parameter: errorId
2021-01-13 12:14:15.558 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2021-01-13 12:14:46.977 +00:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2021-01-13 12:15:01.381 +00:00 [WRN] Invalid password for user 905488fd-3765-46c9-814e-4727d37e0b9e.
2021-01-13 12:15:01.383 +00:00 [WRN] User 905488fd-3765-46c9-814e-4727d37e0b9e failed to provide the correct password.
2021-01-13 12:15:04.029 +00:00 [INF] {"Username":"T0004","Endpoint":"UI","ClientId":null,"Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid credentials","ActivityId":"0HM5NNIEQRQN8:0000003F","TimeStamp":"2021-01-13T12:15:03.0000000Z","ProcessId":12540,"LocalIpAddress":"127.0.0.1:5002","RemoteIpAddress":"127.0.0.1","$type":"UserLoginFailureEvent"}
2021-01-13 12:21:24.461 +00:00 [INF] Starting host...
2021-01-13 12:21:44.370 +00:00 [INF] Starting IdentityServer4 version 4.0.2+58e6bc8a94236b81d1d3c606c8295203c7c1c9e2
2021-01-13 12:21:44.400 +00:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-01-13 12:21:44.401 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-01-13 12:21:44.401 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-01-13 12:21:44.401 +00:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-01-13 12:21:44.401 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-01-13 12:21:44.402 +00:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-01-13 12:22:09.550 +00:00 [INF] Now listening on: https://localhost:5002
2021-01-13 12:22:09.551 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-13 12:22:09.552 +00:00 [INF] Hosting environment: Development
2021-01-13 12:22:09.552 +00:00 [INF] Content root path: C:\IMPORTANT\Admin.IDP
2021-01-13 12:22:19.570 +00:00 [DBG] Login Url: /Account/Login
2021-01-13 12:22:19.573 +00:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-01-13 12:22:19.574 +00:00 [DBG] Logout Url: /Account/Logout
2021-01-13 12:22:19.574 +00:00 [DBG] ConsentUrl Url: /consent
2021-01-13 12:22:19.575 +00:00 [DBG] Consent Return Url Parameter: returnUrl
2021-01-13 12:22:19.575 +00:00 [DBG] Error Url: /home/error
2021-01-13 12:22:19.575 +00:00 [DBG] Error Id Parameter: errorId
2021-01-13 12:24:00.188 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2021-01-13 12:25:02.041 +00:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2021-01-13 12:25:05.501 +00:00 [DBG] Augmenting SignInContext
2021-01-13 12:25:05.502 +00:00 [DBG] Adding idp claim with value: local
2021-01-13 12:25:05.502 +00:00 [DBG] Adding auth_time claim with value: 1610540705
2021-01-13 12:25:07.271 +00:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-01-13 12:25:07.740 +00:00 [INF] {"Username":"T0006","Provider":null,"ProviderUserId":null,"SubjectId":"76c0623d-9f92-4a8a-be14-8b258d8bc558","DisplayName":"T0006","Endpoint":"UI","ClientId":null,"Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HM5NNNCLJ32R:0000003D","TimeStamp":"2021-01-13T12:25:07.0000000Z","ProcessId":24556,"LocalIpAddress":"127.0.0.1:5002","RemoteIpAddress":"127.0.0.1","$type":"UserLoginSuccessEvent"}
2021-01-13 12:25:14.508 +00:00 [DBG] CORS request made for path: /Account/Logout from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2021-01-13 12:25:14.702 +00:00 [INF] AuthenticationScheme: Identity.Application signed out.
2021-01-13 12:25:14.704 +00:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-01-13 12:25:14.705 +00:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2021-01-13 12:25:14.785 +00:00 [INF] AuthenticationScheme: Cookies signed out.
2021-01-13 12:25:14.787 +00:00 [INF] {"SubjectId":"76c0623d-9f92-4a8a-be14-8b258d8bc558","DisplayName":"T0006","Category":"Authentication","Name":"User Logout Success","EventType":"Success","Id":1002,"Message":null,"ActivityId":"0HM5NNNCLJ32R:0000004B","TimeStamp":"2021-01-13T12:25:14.0000000Z","ProcessId":24556,"LocalIpAddress":"127.0.0.1:5002","RemoteIpAddress":"127.0.0.1","$type":"UserLogoutSuccessEvent"}
2021-01-13 12:25:20.055 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
